{
	"name": "core",
	"events": [
		{
			"eventType": "comment",
			"text": "Red comments explain something that's seems counter intuitive.",
			"text-color": [
				0.7843137254901961,
				0.7843137254901961,
				0.7843137254901961,
				1
			],
			"background-color": [
				0.39215686274509803,
				0,
				0,
				1
			]
		},
		{
			"eventType": "comment",
			"text": "Blue comments are something we could try.",
			"text-color": [
				0.7843137254901961,
				0.7843137254901961,
				0.7843137254901961,
				1
			],
			"background-color": [
				0,
				0,
				0.39215686274509803,
				1
			]
		},
		{
			"eventType": "comment",
			"text": "Yellow comments are something we need to do.",
			"text-color": [
				0,
				0,
				0,
				1
			],
			"background-color": [
				1,
				1,
				0,
				1
			]
		},
		{
			"eventType": "comment",
			"text": "Default formatted comments are brief summaries of functionality in plain English."
		},
		{
			"eventType": "comment",
			"text": "Black comments are warnings to not do something.",
			"text-color": [
				0.7843137254901961,
				0.7843137254901961,
				0.7843137254901961,
				1
			],
			"background-color": [
				0,
				0,
				0,
				1
			]
		},
		{
			"eventType": "variable",
			"name": "ALL_PARAMETERS",
			"type": "number",
			"initialValue": "0",
			"comment": "The index of the parameter to forward in function calls in order to forward all parameters.",
			"isStatic": false,
			"isConstant": true,
			"sid": 335516532065310
		},
		{
			"eventType": "variable",
			"name": "ANIMATION_DIVISOR",
			"type": "number",
			"initialValue": "7",
			"comment": "The number by which to divide the movement speed to obtain the animation speed.",
			"isStatic": false,
			"isConstant": true,
			"sid": 692404595559537
		},
		{
			"eventType": "variable",
			"name": "ARC",
			"type": "number",
			"initialValue": "22.5",
			"comment": "The number of degrees in a circle divided by the number of angles our assets have.",
			"isStatic": false,
			"isConstant": true,
			"sid": 213899219855985
		},
		{
			"eventType": "variable",
			"name": "AUDIO_FADE_TIME",
			"type": "number",
			"initialValue": "0.2",
			"comment": "The duration of audio fade-ins and fade-outs, in seconds.",
			"isStatic": false,
			"isConstant": true,
			"sid": 494001863696311
		},
		{
			"eventType": "variable",
			"name": "DEFAULT_STEREO_PAN",
			"type": "number",
			"initialValue": "0",
			"comment": "The default value for the stereo pan audio parameter.",
			"isStatic": false,
			"isConstant": true,
			"sid": 573783858156188
		},
		{
			"eventType": "variable",
			"name": "DOUBLE_OFFSET",
			"type": "number",
			"initialValue": "2",
			"comment": "Used in loops when going from 1- to 0-based, also compensating for an extra token at the end.",
			"isStatic": false,
			"isConstant": true,
			"sid": 546866166719344
		},
		{
			"eventType": "variable",
			"name": "EMPTY",
			"type": "number",
			"initialValue": "0",
			"comment": "The slot identifier value that indicates this slot is empty.",
			"isStatic": false,
			"isConstant": true,
			"sid": 286410743146546
		},
		{
			"eventType": "variable",
			"name": "END_OF_TICK",
			"type": "number",
			"initialValue": "0",
			"comment": "The amount of time remaining until the end of the current tick, in seconds.",
			"isStatic": false,
			"isConstant": true,
			"sid": 806922775978421
		},
		{
			"eventType": "variable",
			"name": "FALSE",
			"type": "number",
			"initialValue": "0",
			"comment": "The numerical representation of the FALSE value.",
			"isStatic": false,
			"isConstant": true,
			"sid": 952400100961744
		},
		{
			"eventType": "variable",
			"name": "FIRST_FRAME",
			"type": "number",
			"initialValue": "0",
			"comment": "The index of the first frame of an animation.",
			"isStatic": false,
			"isConstant": true,
			"sid": 392281752092380
		},
		{
			"eventType": "variable",
			"name": "FIRST_INSTANCE",
			"type": "number",
			"initialValue": "0",
			"comment": "The index of first instance of the current picked objects.",
			"isStatic": false,
			"isConstant": true,
			"sid": 633748547622797
		},
		{
			"eventType": "variable",
			"name": "HALF_CIRCLE",
			"type": "number",
			"initialValue": "180",
			"comment": "The number of degrees in half of a circle.",
			"isStatic": false,
			"isConstant": true,
			"sid": 803001208803525
		},
		{
			"eventType": "variable",
			"name": "IDENTIFIER_INCREMENTER",
			"type": "number",
			"initialValue": "1",
			"comment": "How much to increment the identifier every time we use its value.",
			"isStatic": false,
			"isConstant": true,
			"sid": 468456472745363
		},
		{
			"eventType": "variable",
			"name": "INFINITE_REPEAT_COUNT",
			"type": "number",
			"initialValue": "0",
			"comment": "The value needed for a tween to repeat forever.",
			"isStatic": false,
			"isConstant": true,
			"sid": 526484753142314
		},
		{
			"eventType": "variable",
			"name": "INTERACT_COOLDOWN",
			"type": "number",
			"initialValue": "0.3",
			"comment": "How frequently to let the player interact with things, in seconds.",
			"isStatic": false,
			"isConstant": true,
			"sid": 319367684950517
		},
		{
			"eventType": "variable",
			"name": "ISOMETRIC_DIVIDER",
			"type": "number",
			"initialValue": "3",
			"comment": "The number by which to divide projectile's and character's height to be properly isometric.",
			"isStatic": false,
			"isConstant": true,
			"sid": 983537810411046
		},
		{
			"eventType": "variable",
			"name": "LAYOUT_FADE_TIME",
			"type": "number",
			"initialValue": "1",
			"comment": "The duration of the fade-in and fade-out between layouts, in seconds.",
			"isStatic": false,
			"isConstant": true,
			"sid": 263381679705757
		},
		{
			"eventType": "variable",
			"name": "LOOP_OFFSET",
			"type": "number",
			"initialValue": "1",
			"comment": "For loops that need to either start or end at an offset.",
			"isStatic": false,
			"isConstant": true,
			"sid": 357634044398496
		},
		{
			"eventType": "variable",
			"name": "LOOP_DEFAULT",
			"type": "number",
			"initialValue": "0",
			"comment": "The default number for loops to start at.",
			"isStatic": false,
			"isConstant": true,
			"sid": 466747400312638
		},
		{
			"eventType": "variable",
			"name": "MENU_FADE_TIME",
			"type": "number",
			"initialValue": "0.2",
			"comment": "The duration of fade-ins and fade-outs of menus, in seconds.",
			"isStatic": false,
			"isConstant": true,
			"sid": 161617575985135
		},
		{
			"eventType": "variable",
			"name": "NEGATIVE_HALF_CRICLE",
			"type": "number",
			"initialValue": "-180",
			"comment": "The number of degrees in half of a circle, made negative.",
			"isStatic": false,
			"isConstant": true,
			"sid": 631770946651962
		},
		{
			"eventType": "variable",
			"name": "NON_DEFAULT_IMAGE_POINT",
			"type": "number",
			"initialValue": "1",
			"comment": "An image point not used for Y sorting.",
			"isStatic": false,
			"isConstant": true,
			"sid": 170721685313573
		},
		{
			"eventType": "variable",
			"name": "NON_DIRECTIONAL_INNER_ANGLE",
			"type": "number",
			"initialValue": "360",
			"comment": "The inner angle audio parameter for non-directional position-based sound.",
			"isStatic": false,
			"isConstant": true,
			"sid": 533423398885011
		},
		{
			"eventType": "variable",
			"name": "NON_DIRECTIONAL_OUTER_ANGLE",
			"type": "number",
			"initialValue": "360",
			"comment": "The outer angle audio parameter for non-directional position-based sound.",
			"isStatic": false,
			"isConstant": true,
			"sid": 927589564646020
		},
		{
			"eventType": "variable",
			"name": "NON_DIRECTIONAL_OUTER_GAIN",
			"type": "number",
			"initialValue": "0",
			"comment": "The outer gain audio parameter for non-directional position-based sound.",
			"isStatic": false,
			"isConstant": true,
			"sid": 106253158252611
		},
		{
			"eventType": "variable",
			"name": "OBJECT_ORIGIN",
			"type": "number",
			"initialValue": "0",
			"comment": "The number of the value to pass to specify an object's origin.",
			"isStatic": false,
			"isConstant": true,
			"sid": 178683078702747
		},
		{
			"eventType": "variable",
			"name": "ORIGINAL_SCALE",
			"type": "number",
			"initialValue": "1",
			"comment": "The original scale value of a sprite.",
			"isStatic": false,
			"isConstant": true,
			"sid": 901632471195882
		},
		{
			"eventType": "variable",
			"name": "PAUSED",
			"type": "number",
			"initialValue": "0",
			"comment": "The value of the timescale when the game is paused.",
			"isStatic": false,
			"isConstant": true,
			"sid": 381019961345734
		},
		{
			"eventType": "variable",
			"name": "PERCENTAGE_DIVIDER",
			"type": "number",
			"initialValue": "100",
			"comment": "Used when converting percentage modifiers to flat values.",
			"isStatic": false,
			"isConstant": true,
			"sid": 189197195863473
		},
		{
			"eventType": "variable",
			"name": "QUARTER_CIRCLE",
			"type": "number",
			"initialValue": "90",
			"comment": "The number of degrees in a quarter of a circle.",
			"isStatic": false,
			"isConstant": true,
			"sid": 883872539904860
		},
		{
			"eventType": "variable",
			"name": "SILENT",
			"type": "number",
			"initialValue": "-100",
			"comment": "The decibel value necessary for audio to make no sound.",
			"isStatic": false,
			"isConstant": true,
			"sid": 605325154578760
		},
		{
			"eventType": "variable",
			"name": "SOLID_OPACITY",
			"type": "number",
			"initialValue": "100",
			"comment": "The opacity value of complete solidity.",
			"isStatic": false,
			"isConstant": true,
			"sid": 704655151568304
		},
		{
			"eventType": "variable",
			"name": "THRESHOLD",
			"type": "number",
			"initialValue": "0",
			"comment": "The lowest number possible for certain stats.",
			"isStatic": false,
			"isConstant": true,
			"sid": 882627372733570
		},
		{
			"eventType": "variable",
			"name": "TRANSPARENT_OPACITY",
			"type": "number",
			"initialValue": "0",
			"comment": "The opacity value of complete transparency.",
			"isStatic": false,
			"isConstant": true,
			"sid": 990730382221712
		},
		{
			"eventType": "variable",
			"name": "TRUE",
			"type": "number",
			"initialValue": "1",
			"comment": "The numerical representation of TRUE.",
			"isStatic": false,
			"isConstant": true,
			"sid": 753315015658837
		},
		{
			"eventType": "variable",
			"name": "TWEEN_REPEAT_COUNT",
			"type": "number",
			"initialValue": "1",
			"comment": "How many times that tweens should repeat.",
			"isStatic": false,
			"isConstant": true,
			"sid": 383073602324081
		},
		{
			"eventType": "variable",
			"name": "TWEEN_TEXT_OPACITY",
			"type": "number",
			"initialValue": "10",
			"comment": "The opacity that tweening text should tween until.",
			"isStatic": false,
			"isConstant": true,
			"sid": 443092374863380
		},
		{
			"eventType": "variable",
			"name": "TWEEN_TEXT_SPEED",
			"type": "number",
			"initialValue": "1",
			"comment": "How fast tweening text should complete an opacity tween, in seconds.",
			"isStatic": false,
			"isConstant": true,
			"sid": 184971058434673
		},
		{
			"eventType": "variable",
			"name": "UNPAUSED_TIME_SCALE",
			"type": "number",
			"initialValue": "1",
			"comment": "The time scale value when the game is running normally.",
			"isStatic": false,
			"isConstant": true,
			"sid": 765209825297330
		},
		{
			"eventType": "variable",
			"name": "ATTACK_KEYWORD",
			"type": "string",
			"initialValue": "attack",
			"comment": "Used by enemies that only have one attack animation.",
			"isStatic": false,
			"isConstant": true,
			"sid": 830605075654169
		},
		{
			"eventType": "variable",
			"name": "BLACK_OUTLINE_BBCODE",
			"type": "string",
			"initialValue": "[outline=black]",
			"comment": "BBCode for a black outline.",
			"isStatic": false,
			"isConstant": true,
			"sid": 425747015976714
		},
		{
			"eventType": "variable",
			"name": "BLANK",
			"type": "string",
			"initialValue": "",
			"comment": "Empty text.",
			"isStatic": false,
			"isConstant": true,
			"sid": 988159326066054
		},
		{
			"eventType": "variable",
			"name": "BLOCK_KEYWORD",
			"type": "string",
			"initialValue": "block",
			"comment": "The name of the block animation, used by the player and some NPCs.",
			"isStatic": false,
			"isConstant": true,
			"sid": 112860164553468
		},
		{
			"eventType": "variable",
			"name": "BRIGHTNESS_EFFECT_NAME",
			"type": "string",
			"initialValue": "Brightness",
			"comment": "The name of the effect that modifies brightness on an object.",
			"isStatic": false,
			"isConstant": true,
			"sid": 239790028371318
		},
		{
			"eventType": "variable",
			"name": "CHECKED_KEYWORD",
			"type": "string",
			"initialValue": "checked",
			"comment": "Used for checking the animation of checkboxes.",
			"isStatic": false,
			"isConstant": true,
			"sid": 426225136879304
		},
		{
			"eventType": "variable",
			"name": "DESCRIPTION_KEYWORD",
			"type": "string",
			"initialValue": "description",
			"comment": "Used for finding the column containing an object's description.",
			"isStatic": false,
			"isConstant": true,
			"sid": 858179470830563
		},
		{
			"eventType": "variable",
			"name": "DIE_KEYWORD",
			"type": "string",
			"initialValue": "die",
			"comment": "Used by the player and enemies.",
			"isStatic": false,
			"isConstant": true,
			"sid": 497258414705478
		},
		{
			"eventType": "variable",
			"name": "EITHER_CURLY_BRACKET_REGEX",
			"type": "string",
			"initialValue": "\\{|}",
			"comment": "A regular expression to match either curly bracket.",
			"isStatic": false,
			"isConstant": true,
			"sid": 105258110546296
		},
		{
			"eventType": "variable",
			"name": "ELLIPSIS",
			"type": "string",
			"initialValue": "...",
			"comment": "An ellipsis.",
			"isStatic": false,
			"isConstant": true,
			"sid": 572585078688533
		},
		{
			"eventType": "variable",
			"name": "MODS_KEYWORD",
			"type": "string",
			"initialValue": "mods",
			"comment": "The name of the mods function map and mods column.",
			"isStatic": false,
			"isConstant": true,
			"sid": 954951949438130
		},
		{
			"eventType": "variable",
			"name": "FOLDER_SEPARATOR",
			"type": "string",
			"initialValue": "/",
			"comment": "The character used when drilling into project folders.",
			"isStatic": false,
			"isConstant": true,
			"sid": 297381401422630
		},
		{
			"eventType": "variable",
			"name": "FOOTSTEP_KEYWORD",
			"type": "string",
			"initialValue": "Footstep",
			"comment": "Used for the footstep sound effect names and tags.",
			"isStatic": false,
			"isConstant": true,
			"sid": 931054518856768
		},
		{
			"eventType": "variable",
			"name": "FULL_NAME_KEYWORD",
			"type": "string",
			"initialValue": "fullName",
			"comment": "The column that contains the beautified name of an object.",
			"isStatic": false,
			"isConstant": true,
			"sid": 302015199992087
		},
		{
			"eventType": "variable",
			"name": "GLOBAL_FLAG",
			"type": "string",
			"initialValue": "g",
			"comment": "The regular expression global flag.",
			"isStatic": false,
			"isConstant": true,
			"sid": 193700957264664
		},
		{
			"eventType": "variable",
			"name": "GLOWHORIZONTAL_EFFECT_NAME",
			"type": "string",
			"initialValue": "GlowHorizontal",
			"comment": "The name of the effect that modifies the horizontal glow on an object.",
			"isStatic": false,
			"isConstant": true,
			"sid": 422695806366164
		},
		{
			"eventType": "variable",
			"name": "GLOWVERTICAL_EFFECT_NAME",
			"type": "string",
			"initialValue": "GlowVertical",
			"comment": "The name of the effect that modifies the vertical glow on an object.",
			"isStatic": false,
			"isConstant": true,
			"sid": 330764945802149
		},
		{
			"eventType": "variable",
			"name": "HIT_KEYWORD",
			"type": "string",
			"initialValue": "hit",
			"comment": "Used for calling the hit animation for the player and enemies.",
			"isStatic": false,
			"isConstant": true,
			"sid": 797268236706134
		},
		{
			"eventType": "variable",
			"name": "IDLE_KEYWORD",
			"type": "string",
			"initialValue": "idle",
			"comment": "Used for calling the idle animation for the player, NPCs, and some enemies.",
			"isStatic": false,
			"isConstant": true,
			"sid": 451141474041007
		},
		{
			"eventType": "variable",
			"name": "ITEM_KEYWORD",
			"type": "string",
			"initialValue": "item",
			"comment": "Used when creating items.",
			"isStatic": false,
			"isConstant": true,
			"sid": 145962909649336
		},
		{
			"eventType": "variable",
			"name": "LEVEL_KEYWORD",
			"type": "string",
			"initialValue": "level",
			"comment": "Used for finding the column that contains the level of equipment or an ability.",
			"isStatic": false,
			"isConstant": true,
			"sid": 877233800449210
		},
		{
			"eventType": "variable",
			"name": "LOOT_KEYWORD",
			"type": "string",
			"initialValue": "loot",
			"comment": "Used when spawning loot.",
			"isStatic": false,
			"isConstant": true,
			"sid": 336725470029276
		},
		{
			"eventType": "variable",
			"name": "MAIN_HAND_KEYWORD",
			"type": "string",
			"initialValue": "mainHand",
			"comment": "Used to check if an item is equipped in the main hand.",
			"isStatic": false,
			"isConstant": true,
			"sid": 735474655543514
		},
		{
			"eventType": "variable",
			"name": "MENU_CLOSE_KEYWORD",
			"type": "string",
			"initialValue": "menuClose",
			"comment": "The sound effect and tag name for when menus close.",
			"isStatic": false,
			"isConstant": true,
			"sid": 832917534857256
		},
		{
			"eventType": "variable",
			"name": "MENU_OPEN_KEYWORD",
			"type": "string",
			"initialValue": "menuOpen",
			"comment": "The sound effect and tag name for when menus open.",
			"isStatic": false,
			"isConstant": true,
			"sid": 985340942703044
		},
		{
			"eventType": "variable",
			"name": "MOD_NAME_SEPARATOR",
			"type": "string",
			"initialValue": ":",
			"comment": "The character the separates a mod's name from its description.",
			"isStatic": false,
			"isConstant": true,
			"sid": 779475842838106
		},
		{
			"eventType": "variable",
			"name": "MOD_SEPARATOR",
			"type": "string",
			"initialValue": ";",
			"comment": "The character that separates mods.",
			"isStatic": false,
			"isConstant": true,
			"sid": 984245048466264
		},
		{
			"eventType": "variable",
			"name": "MOD_VALUES_PROBABILITY_TABLE",
			"type": "string",
			"initialValue": "modValues",
			"comment": "The name of the mod values probability table.",
			"isStatic": false,
			"isConstant": true,
			"sid": 959774609386186
		},
		{
			"eventType": "variable",
			"name": "NONE_KEYWORD",
			"type": "string",
			"initialValue": "none",
			"comment": "Used as a default or empty value for various other variables.",
			"isStatic": false,
			"isConstant": true,
			"sid": 389311828403507
		},
		{
			"eventType": "variable",
			"name": "NOT_USED",
			"type": "string",
			"initialValue": "",
			"comment": "Value to use when this field isn't utilized.",
			"isStatic": false,
			"isConstant": true,
			"sid": 560592691025862
		},
		{
			"eventType": "variable",
			"name": "OPACITY_FADE_OUT_KEYWORD",
			"type": "string",
			"initialValue": "opacity fade out",
			"comment": "Used for opacity tween tags.",
			"isStatic": false,
			"isConstant": true,
			"sid": 409587505348231
		},
		{
			"eventType": "variable",
			"name": "UNCHECKED_KEYWORD",
			"type": "string",
			"initialValue": "unchecked",
			"comment": "Used for checking the animation of checkboxes.",
			"isStatic": false,
			"isConstant": true,
			"sid": 952337172111195
		},
		{
			"eventType": "variable",
			"name": "SEPARATOR",
			"type": "string",
			"initialValue": "_",
			"comment": "The character used for most string delimitation, or improving readability.",
			"isStatic": false,
			"isConstant": true,
			"sid": 912011961834923
		},
		{
			"eventType": "variable",
			"name": "SIMPLE_NAME_KEYWORD",
			"type": "string",
			"initialValue": "simpleName",
			"comment": "Used for looking up simple names out of arrays.",
			"isStatic": false,
			"isConstant": true,
			"sid": 386319026003665
		},
		{
			"eventType": "variable",
			"name": "SPACE",
			"type": "string",
			"initialValue": " ",
			"comment": "A space.",
			"isStatic": false,
			"isConstant": true,
			"sid": 643509454866301
		},
		{
			"eventType": "variable",
			"name": "SWING_WEAPON_SOUND_EFFECT_NAME",
			"type": "string",
			"initialValue": "swingWeapon",
			"comment": "The name of the 'Swing Weapon' sound effect.",
			"isStatic": false,
			"isConstant": true,
			"sid": 120864427903498
		},
		{
			"eventType": "variable",
			"name": "WALK_KEYWORD",
			"type": "string",
			"initialValue": "walk",
			"comment": "Used by the player and enemies.",
			"isStatic": false,
			"isConstant": true,
			"sid": 917740393080758
		},
		{
			"eventType": "variable",
			"name": "dialogVolume",
			"type": "number",
			"initialValue": "0",
			"comment": "How loudly to play dialog, in decibels.",
			"isStatic": false,
			"isConstant": false,
			"sid": 548864640941147
		},
		{
			"eventType": "variable",
			"name": "soundEffectsVolume",
			"type": "number",
			"initialValue": "0",
			"comment": "How loudly to play sound effects, in decibels.",
			"isStatic": false,
			"isConstant": false,
			"sid": 744743610103626
		},
		{
			"eventType": "variable",
			"name": "interfaceVolume",
			"type": "number",
			"initialValue": "0",
			"comment": "How loudly to place interface sound effects, in decibels.",
			"isStatic": false,
			"isConstant": false,
			"sid": 235684735055744
		},
		{
			"eventType": "variable",
			"name": "musicVolume",
			"type": "number",
			"initialValue": "-10",
			"comment": "How loudly to play the music, in decibels.",
			"isStatic": false,
			"isConstant": false,
			"sid": 538656584188157
		},
		{
			"eventType": "variable",
			"name": "nextAvailableIdentifier",
			"type": "number",
			"initialValue": "1",
			"comment": "Stores the next available identifier, to be assigned to equipment.",
			"isStatic": false,
			"isConstant": false,
			"sid": 995721705060518
		},
		{
			"eventType": "variable",
			"name": "uidOfClicked",
			"type": "number",
			"initialValue": "0",
			"comment": "The UID of the object that the player clicked.",
			"isStatic": false,
			"isConstant": false,
			"sid": 849112042530215
		},
		{
			"eventType": "variable",
			"name": "isOnInteractCooldown",
			"type": "boolean",
			"initialValue": "false",
			"comment": "Whether or not the player is allowed to interact with objects.",
			"isStatic": false,
			"isConstant": false,
			"sid": 411032501509247
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "npc",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "variable",
					"name": "PORTRAIT_KEYWORD",
					"type": "string",
					"initialValue": "portrait",
					"comment": "Used for spawning portraits",
					"isStatic": false,
					"isConstant": true,
					"sid": 455865873325850
				},
				{
					"eventType": "variable",
					"name": "MESSAGE_COLUMN_HEADER",
					"type": "string",
					"initialValue": "message",
					"comment": "The header of the column that contains NPC messages.",
					"isStatic": false,
					"isConstant": true,
					"sid": 877254390736495
				},
				{
					"eventType": "variable",
					"name": "PORTRAIT_POSITION",
					"type": "number",
					"initialValue": "1280",
					"comment": "The position on the X axis of where the portrait should spawn",
					"isStatic": false,
					"isConstant": true,
					"sid": 785902534963935
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-end-of-layout",
							"objectClass": "System",
							"sid": 708817168014601
						},
						{
							"id": "is-on-layer",
							"objectClass": "item",
							"sid": 344586349780347,
							"parameters": {
								"layer": "merchantMenuStatue.LayerName"
							}
						},
						{
							"id": "pick-parent",
							"objectClass": "item",
							"sid": 583499616618142,
							"parameters": {
								"parent": "slot",
								"which": "own"
							}
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "Clear out a merchant's inventory when leaving an area."
						},
						{
							"id": "destroy",
							"objectClass": "item",
							"sid": 307137925994937
						},
						{
							"id": "set-instvar-value",
							"objectClass": "slot",
							"sid": 747546398665996,
							"parameters": {
								"instance-variable": "identifier",
								"value": "EMPTY"
							}
						}
					],
					"sid": 818049002714624
				},
				{
					"eventType": "variable",
					"name": "NUMBER_OF_ITEMS",
					"type": "number",
					"initialValue": "5",
					"comment": "How many items merchants have for sale.",
					"isStatic": false,
					"isConstant": true,
					"sid": 548730424882668
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 572410486613952
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "npc",
							"sid": 352575532364725,
							"parameters": {
								"instance-variable": "isMerchant"
							}
						},
						{
							"id": "repeat",
							"objectClass": "System",
							"sid": 335563688632363,
							"parameters": {
								"count": "NUMBER_OF_ITEMS"
							}
						},
						{
							"id": "is-on-layer",
							"objectClass": "slot",
							"sid": 930717040067079,
							"parameters": {
								"layer": "merchantMenuStatue.LayerName"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "slot",
							"sid": 678370724431065,
							"parameters": {
								"instance-variable": "identifier",
								"comparison": 0,
								"value": "EMPTY"
							}
						},
						{
							"id": "pick-nth-instance",
							"objectClass": "System",
							"sid": 502814728101413,
							"parameters": {
								"object": "slot",
								"instance": "FIRST_INSTANCE"
							}
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "When we enter an area, if there's a merchant, fill up the first NUMBER_OF_ITEMS merchant menu slots with items."
						},
						{
							"customAction": "Create item",
							"objectClass": "item",
							"sid": 972211154463286
						}
					],
					"sid": 375923207543477
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 865837950108649,
							"parameters": {
								"object": "npc",
								"expression": "merchantMenuStatue.merchantStore",
								"comparison": 0,
								"value": "npc.simpleName"
							}
						},
						{
							"id": "evaluate-expression",
							"objectClass": "System",
							"sid": 345089837569363,
							"parameters": {
								"value": "Functions.isInRange(npc.interactRange, npc.X, npc.Y)"
							},
							"isInverted": true
						},
						{
							"id": "layer-is-visible",
							"objectClass": "System",
							"sid": 484490410918683,
							"parameters": {
								"layer": "merchantMenuStatue.LayerName"
							}
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "Close the merchant menu if the player gets too far away from the merchant to whose shop is being displayed."
						},
						{
							"callFunction": "Close layer",
							"sid": 621628631855534,
							"parameters": [
								"merchantMenuStatue.LayerName"
							]
						}
					],
					"sid": 549858707087405
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-object-clicked",
							"objectClass": "mouse",
							"sid": 786597899812521,
							"parameters": {
								"mouse-button": "left",
								"click-type": "clicked",
								"object-clicked": "dialog"
							}
						},
						{
							"id": "on-object-clicked",
							"objectClass": "mouse",
							"sid": 111004917854619,
							"parameters": {
								"mouse-button": "left",
								"click-type": "clicked",
								"object-clicked": "portrait"
							}
						}
					],
					"actions": [],
					"sid": 538678946599328,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-comparison",
									"objectClass": "System",
									"sid": 301096301517968,
									"parameters": {
										"object": "npc",
										"expression": "npc.simpleName",
										"comparison": 0,
										"value": "player.talkingToNpc"
									}
								},
								{
									"id": "pick-children",
									"objectClass": "npc",
									"sid": 875895456284472,
									"parameters": {
										"child": "npcBody",
										"which": "own"
									}
								}
							],
							"actions": [],
							"sid": 286681303548417,
							"children": [
								{
									"eventType": "variable",
									"name": "DIALOG_COUNTER_INCREMENTER",
									"type": "number",
									"initialValue": "1",
									"comment": "By how much to increase the dialog counter for each NPC dialog.",
									"isStatic": false,
									"isConstant": true,
									"sid": 736250635607952
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "npc",
											"sid": 791931817773606,
											"parameters": {
												"instance-variable": "dialogCounter",
												"comparison": 2,
												"value": "Self.totalNumberOfDialogs"
											}
										}
									],
									"actions": [
										{
											"id": "stop",
											"objectClass": "audio",
											"sid": 833732243940148,
											"parameters": {
												"tag": "dialogStatue.LayerName"
											}
										},
										{
											"id": "add-to-instvar",
											"objectClass": "npc",
											"sid": 250131125017720,
											"parameters": {
												"instance-variable": "dialogCounter",
												"value": "DIALOG_COUNTER_INCREMENTER"
											}
										},
										{
											"id": "set-text",
											"objectClass": "dialogText",
											"sid": 355211372861699,
											"parameters": {
												"text": "Functions.arrayLookup(npcDialogArray.ObjectTypeName, npc.simpleName & npc.dialogCounter, MESSAGE_COLUMN_HEADER)"
											}
										},
										{
											"id": "play-by-name",
											"objectClass": "audio",
											"sid": 800846688662223,
											"parameters": {
												"folder": "sounds",
												"audio-file-name": "dialogStatue.LayerName & FOLDER_SEPARATOR & npc.simpleName & npc.dialogCounter",
												"loop": "not-looping",
												"volume": "dialogVolume",
												"stereo-pan": "DEFAULT_STEREO_PAN",
												"tag-optional": "dialogStatue.LayerName"
											}
										}
									],
									"sid": 812192629190320
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 347065784074945
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "If this NPC doesn't have any more dialog, close the dialog."
										},
										{
											"callFunction": "Close dialog",
											"sid": 759704437023123
										}
									],
									"sid": 141468924164146
								}
							]
						}
					],
					"isOrBlock": true
				},
				{
					"eventType": "variable",
					"name": "VIEWPORT_OFFSET",
					"type": "number",
					"initialValue": "5",
					"comment": "How much to offset the portrait from the bottom of the viewport, in pixels.",
					"isStatic": false,
					"isConstant": true,
					"sid": 390000425632955
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 669647297717125,
							"parameters": {
								"object": "npc",
								"expression": "npc.UID",
								"comparison": 0,
								"value": "uidOfClicked"
							}
						},
						{
							"id": "evaluate-expression",
							"objectClass": "System",
							"sid": 952942383531514,
							"parameters": {
								"value": "Functions.isInRange(npc.interactRange, npc.X, npc.Y)"
							}
						},
						{
							"id": "pick-children",
							"objectClass": "npc",
							"sid": 547596792009158,
							"parameters": {
								"child": "npcBody",
								"which": "own"
							}
						}
					],
					"actions": [
						{
							"id": "stop",
							"objectClass": "player",
							"sid": 995148384126742,
							"behaviorType": "MoveTo"
						},
						{
							"id": "reset-eventvar",
							"objectClass": "System",
							"sid": 655217773003387,
							"parameters": {
								"variable": "uidOfClicked"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "player",
							"sid": 843563941878163,
							"parameters": {
								"instance-variable": "talkingToNpc",
								"value": "npc.simpleName"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "npc",
							"sid": 403336328477905,
							"parameters": {
								"instance-variable": "degrees",
								"value": "Functions.getDegrees(angle(Self.X, Self.Y, player.X, player.Y))"
							}
						},
						{
							"id": "set-text",
							"objectClass": "dialogNpcName",
							"sid": 228783782150172,
							"parameters": {
								"text": "lowercase(npc.fullName)"
							}
						},
						{
							"id": "set-text",
							"objectClass": "dialogText",
							"sid": 166944738379940,
							"parameters": {
								"text": "Functions.arrayLookup(npcDialogArray.ObjectTypeName, npc.simpleName & npc.dialogCounter, MESSAGE_COLUMN_HEADER)"
							}
						},
						{
							"id": "play-by-name",
							"objectClass": "audio",
							"sid": 990141708263455,
							"parameters": {
								"folder": "sounds",
								"audio-file-name": "dialogStatue.LayerName & FOLDER_SEPARATOR & npc.simpleName & npc.dialogCounter",
								"loop": "not-looping",
								"volume": "dialogVolume",
								"stereo-pan": "DEFAULT_STEREO_PAN",
								"tag-optional": "dialogStatue.LayerName"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "npcBody",
							"sid": 822083562626807,
							"parameters": {
								"animation": "IDLE_KEYWORD & SEPARATOR & npc.degrees",
								"from": "current-frame"
							}
						},
						{
							"customAction": "updateFacing",
							"objectClass": "player",
							"sid": 664565570476239,
							"parameters": [
								"npc.X",
								"npc.Y"
							]
						},
						{
							"customAction": "Update animation",
							"objectClass": "player",
							"sid": 554227226821655,
							"parameters": [
								"IDLE_KEYWORD",
								"body.OriginalAnimationSpeed",
								true
							]
						},
						{
							"id": "load-object-images-by-name",
							"objectClass": "System",
							"sid": 616123840601404,
							"parameters": {
								"object": "npc.simpleName & SEPARATOR & PORTRAIT_KEYWORD"
							}
						},
						{
							"id": "wait-for-previous-actions",
							"objectClass": "System",
							"sid": 285707953497406
						},
						{
							"id": "create-object-by-name",
							"objectClass": "System",
							"sid": 667234690680426,
							"parameters": {
								"object-name": "npc.simpleName & SEPARATOR & PORTRAIT_KEYWORD",
								"layer": "dialogStatue.LayerName",
								"x": "PORTRAIT_POSITION",
								"y": "ViewportBottom(dialogStatue.LayerName) + VIEWPORT_OFFSET",
								"create-hierarchy": false,
								"template-name": "NOT_USED"
							}
						}
					],
					"sid": 421647053250642,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-last-created",
									"objectClass": "System",
									"sid": 243855207346801,
									"parameters": {
										"object": "portrait"
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "Parent it to the dialog so it resizes correctly."
								},
								{
									"id": "add-child",
									"objectClass": "dialogStatue",
									"sid": 126789368396386,
									"parameters": {
										"child": "portrait",
										"transform-x": false,
										"transform-y": false,
										"transform-w": false,
										"transform-h": false,
										"transform-a": false,
										"transform-o": true,
										"transform-z-elevation": true,
										"transform-visibility": true,
										"destroy-with-parent": true
									}
								},
								{
									"callFunction": "Open layer",
									"sid": 657682618112612,
									"parameters": [
										"dialogStatue.LayerName"
									]
								}
							],
							"sid": 547973787915997
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "npc",
									"sid": 562723409565951,
									"parameters": {
										"instance-variable": "isMerchant"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "merchantMenuStatue",
									"sid": 364088315942513,
									"parameters": {
										"instance-variable": "merchantStore",
										"value": "npc.simpleName"
									}
								},
								{
									"callFunction": "Open layer",
									"sid": 948276087596788,
									"parameters": [
										"merchantMenuStatue.LayerName"
									]
								}
							],
							"sid": 112943394436478,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "layer-is-visible",
											"objectClass": "System",
											"sid": 562807845252909,
											"parameters": {
												"layer": "equippedMenuStatue.LayerName"
											}
										}
									],
									"actions": [
										{
											"callFunction": "Close layer",
											"sid": 861924819909943,
											"parameters": [
												"equippedMenuStatue.LayerName"
											]
										}
									],
									"sid": 625180142345685
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "layer-is-visible",
											"objectClass": "System",
											"sid": 556978224972586,
											"parameters": {
												"layer": "inventoryMenuStatue.LayerName"
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"callFunction": "Open layer",
											"sid": 558628335486437,
											"parameters": [
												"inventoryMenuStatue.LayerName"
											]
										}
									],
									"sid": 488359596355318
								}
							]
						}
					]
				},
				{
					"eventType": "variable",
					"name": "INITIAL_DIALOG_COUNTER_VALUE",
					"type": "number",
					"initialValue": "1",
					"comment": "The number at which the dialog counter begins.",
					"isStatic": false,
					"isConstant": true,
					"sid": 497889437328492
				},
				{
					"functionName": "Close dialog",
					"functionDescription": "End dialog with an NPC.",
					"functionCategory": "world",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 757408856145196,
							"parameters": {
								"object": "npc",
								"expression": "npc.simpleName",
								"comparison": 0,
								"value": "player.talkingToNpc"
							}
						}
					],
					"actions": [
						{
							"id": "fade-volume",
							"objectClass": "audio",
							"sid": 555818826406892,
							"parameters": {
								"tag": "dialogStatue.LayerName",
								"db": "SILENT",
								"duration": "AUDIO_FADE_TIME",
								"ending": "stop"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "npc",
							"sid": 731803030608537,
							"parameters": {
								"instance-variable": "dialogCounter",
								"value": "INITIAL_DIALOG_COUNTER_VALUE"
							}
						},
						{
							"callFunction": "Close layer",
							"sid": 324266458339586,
							"parameters": [
								"dialogStatue.LayerName"
							]
						},
						{
							"id": "wait-for-previous-actions",
							"objectClass": "System",
							"sid": 727121147668691
						},
						{
							"id": "destroy",
							"objectClass": "portrait",
							"sid": 651524514670351
						},
						{
							"type": "comment",
							"text": "This wait is the official recommended method to unload an object after destroying it."
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 337903059839948,
							"parameters": {
								"seconds": "END_OF_TICK",
								"use-timescale": true
							}
						},
						{
							"id": "unload-object-images",
							"objectClass": "System",
							"sid": 659778460881200,
							"parameters": {
								"object": "portrait"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "player",
							"sid": 671220519962959,
							"parameters": {
								"instance-variable": "talkingToNpc",
								"value": "NONE_KEYWORD"
							}
						}
					],
					"sid": 396375011211115
				}
			],
			"sid": 217312584951758
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "equipment",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "variable",
					"name": "allowEquipmentInteraction",
					"type": "boolean",
					"initialValue": "true",
					"comment": "Whether or not the player is currently allowed to interact with equipment.",
					"isStatic": true,
					"isConstant": false,
					"sid": 683308433353572
				},
				{
					"eventType": "variable",
					"name": "swapIdentifier",
					"type": "number",
					"initialValue": "0",
					"comment": "The saved identifier for swapping.",
					"isStatic": true,
					"isConstant": false,
					"sid": 841899330934363
				},
				{
					"eventType": "variable",
					"name": "swapSlotUid",
					"type": "number",
					"initialValue": "0",
					"comment": "The UID of the original slot in a swap.",
					"isStatic": true,
					"isConstant": false,
					"sid": 592861658035522
				},
				{
					"eventType": "variable",
					"name": "draggedOriginSlotUid",
					"type": "number",
					"initialValue": "0",
					"comment": "The UID of the slot from which the drag originated.",
					"isStatic": true,
					"isConstant": false,
					"sid": 201307089918324
				},
				{
					"eventType": "variable",
					"name": "draggedItemUid",
					"type": "number",
					"initialValue": "0",
					"comment": "The UID of the item being dragged.",
					"isStatic": true,
					"isConstant": false,
					"sid": 298078267734463
				},
				{
					"eventType": "variable",
					"name": "droppedOnSlotUid",
					"type": "number",
					"initialValue": "0",
					"comment": "The UID of the slot on which the item was dropped.",
					"isStatic": true,
					"isConstant": false,
					"sid": 422173916162530
				},
				{
					"eventType": "variable",
					"name": "SOUND_KEYWORD",
					"type": "string",
					"initialValue": "sound",
					"comment": "Used for finding the sound column.",
					"isStatic": false,
					"isConstant": true,
					"sid": 415537925983685
				},
				{
					"eventType": "variable",
					"name": "CLASS_RESTRICTIONS_KEYWORD",
					"type": "string",
					"initialValue": "classRestrictions",
					"comment": "Used for looking up the class restrictions column.",
					"isStatic": false,
					"isConstant": true,
					"sid": 487856025578200
				},
				{
					"eventType": "variable",
					"name": "VALUE_KEYWORD",
					"type": "string",
					"initialValue": "value",
					"comment": "Used for looking up the (coin) value column.",
					"isStatic": false,
					"isConstant": true,
					"sid": 115579957727233
				},
				{
					"eventType": "variable",
					"name": "LORE_KEYWORD",
					"type": "string",
					"initialValue": "lore",
					"comment": "Used for looking up the lore column.",
					"isStatic": false,
					"isConstant": true,
					"sid": 974222412426707
				},
				{
					"eventType": "variable",
					"name": "TYPE_KEYWORD",
					"type": "string",
					"initialValue": "type",
					"comment": "Used for looking up the type column.",
					"isStatic": false,
					"isConstant": true,
					"sid": 308606536072942
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "loot",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "loot",
									"sid": 614694260723140,
									"parameters": {
										"object": "prop"
									}
								}
							],
							"actions": [
								{
									"id": "push-out-solid",
									"objectClass": "loot",
									"sid": 371496562948989,
									"behaviorType": "Custom",
									"parameters": {
										"direction": "opposite-angle"
									}
								}
							],
							"sid": 814323650475468
						},
						{
							"aceType": "action",
							"aceName": "Pick up loot",
							"objectClass": "player",
							"functionDescription": "Attempt to pick up loot, either equipping it or adding it to the inventory.",
							"functionCategory": "equipment",
							"functionReturnType": "none",
							"functionCopyPicked": true,
							"functionIsAsync": false,
							"functionParameters": [],
							"eventType": "custom-ace-block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "slot",
									"sid": 614782476849599,
									"parameters": {
										"instance-variable": "identifier",
										"comparison": 0,
										"value": "EMPTY"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 375822481623309,
									"parameters": {
										"variable": "isOnInteractCooldown",
										"value": "true"
									}
								}
							],
							"sid": 628345000592562,
							"children": [
								{
									"eventType": "variable",
									"name": "OBTAINED_ITEM_KEYWORD",
									"type": "string",
									"initialValue": "obtainedItem",
									"comment": "Used for playing the sound effect when an item is obtained.",
									"isStatic": false,
									"isConstant": true,
									"sid": 795723393531684
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "autoEquip",
											"sid": 503482573253682,
											"parameters": {
												"animation": "CHECKED_KEYWORD"
											}
										},
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 773316958608353,
											"parameters": {
												"value": "Functions.canThePlayerEquipThis(loot.level, loot.classRestrictions)"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "slot",
											"sid": 616507352220135,
											"parameters": {
												"instance-variable": "type",
												"comparison": 0,
												"value": "loot.type"
											}
										},
										{
											"id": "pick-nth-instance",
											"objectClass": "System",
											"sid": 158569274127739,
											"parameters": {
												"object": "slot",
												"instance": "FIRST_INSTANCE"
											}
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "if auto equip is enabled, and the player's class matches the loot's restrictions, pick the first empty slot matching the loot's type, and spawn the item there"
										},
										{
											"id": "create-object-by-name",
											"objectClass": "System",
											"sid": 555875982745125,
											"parameters": {
												"object-name": "loot.simpleName & SEPARATOR & ITEM_KEYWORD",
												"layer": "equippedMenuStatue.LayerName",
												"x": "slot.X",
												"y": "slot.Y",
												"create-hierarchy": false,
												"template-name": "NOT_USED"
											}
										}
									],
									"sid": 632538461986567,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-last-created",
													"objectClass": "System",
													"sid": 913043376537213,
													"parameters": {
														"object": "item"
													}
												}
											],
											"actions": [
												{
													"customAction": "Set variables from loot",
													"objectClass": "item",
													"sid": 930387033637794
												}
											],
											"sid": 860348264348583
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 400103439303001
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "slot",
											"sid": 634436180814928,
											"parameters": {
												"instance-variable": "type",
												"comparison": 0,
												"value": "NONE_KEYWORD"
											}
										},
										{
											"id": "is-on-layer",
											"objectClass": "slot",
											"sid": 989896427161246,
											"parameters": {
												"layer": "inventoryMenuStatue.LayerName"
											}
										},
										{
											"id": "pick-nth-instance",
											"objectClass": "System",
											"sid": 260590955101725,
											"parameters": {
												"object": "slot",
												"instance": "FIRST_INSTANCE"
											}
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "If auto equip is disabled, or there's no empty slots matching the item's type, spawn the item in the first empty inventory slot."
										},
										{
											"id": "create-object-by-name",
											"objectClass": "System",
											"sid": 561053323528410,
											"parameters": {
												"object-name": "loot.simpleName & SEPARATOR & ITEM_KEYWORD",
												"layer": "inventoryMenuStatue.LayerName",
												"x": "slot.X",
												"y": "slot.Y",
												"create-hierarchy": false,
												"template-name": "NOT_USED"
											}
										},
										{
											"id": "play-at-object-by-name",
											"objectClass": "audio",
											"sid": 551795371930764,
											"parameters": {
												"folder": "sounds",
												"audio-file-name": "Functions.soundEffectName(OBTAINED_ITEM_KEYWORD)",
												"loop": "not-looping",
												"volume": "soundEffectsVolume",
												"object": "player",
												"inner-angle": "NON_DIRECTIONAL_INNER_ANGLE",
												"outer-angle": "NON_DIRECTIONAL_OUTER_ANGLE",
												"outer-gain": "NON_DIRECTIONAL_OUTER_GAIN",
												"tag-optional": "NOT_USED"
											}
										}
									],
									"sid": 953061772816120,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-last-created",
													"objectClass": "System",
													"sid": 801305650889357,
													"parameters": {
														"object": "item"
													}
												}
											],
											"actions": [
												{
													"customAction": "Set variables from loot",
													"objectClass": "item",
													"sid": 184610381913782
												}
											],
											"sid": 456851495609601
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 651720480840363
										}
									],
									"actions": [
										{
											"customAction": "\"I can't carry any more.\"",
											"objectClass": "player",
											"sid": 238810305298467
										}
									],
									"sid": 126336173621454
								}
							]
						},
						{
							"aceType": "action",
							"aceName": "Set variables from loot",
							"objectClass": "item",
							"functionDescription": "Sets all the necessary variables for this item from a loot.",
							"functionCategory": "instance variables",
							"functionReturnType": "none",
							"functionCopyPicked": true,
							"functionIsAsync": false,
							"functionParameters": [],
							"eventType": "custom-ace-block",
							"conditions": [],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "item",
									"sid": 251081623898110,
									"parameters": {
										"instance-variable": "identifier",
										"value": "loot.identifier"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "item",
									"sid": 770355036989720,
									"parameters": {
										"instance-variable": "simpleName",
										"value": "loot.simpleName"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "item",
									"sid": 356089509376998,
									"parameters": {
										"instance-variable": "fullName",
										"value": "loot.fullName"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "item",
									"sid": 738712825878728,
									"parameters": {
										"instance-variable": "value",
										"value": "loot.value"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "item",
									"sid": 740838570574624,
									"parameters": {
										"instance-variable": "type",
										"value": "loot.type"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "item",
									"sid": 110005360421917,
									"parameters": {
										"instance-variable": "lore",
										"value": "loot.lore"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "item",
									"sid": 631626363161981,
									"parameters": {
										"instance-variable": "level",
										"value": "loot.level"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "item",
									"sid": 497951847431722,
									"parameters": {
										"instance-variable": "mods",
										"value": "loot.mods"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "item",
									"sid": 956466534656752,
									"parameters": {
										"instance-variable": "classRestrictions",
										"value": "loot.classRestrictions"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "item",
									"sid": 953126175449190,
									"parameters": {
										"instance-variable": "sound",
										"value": "loot.sound"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "slot",
									"sid": 999152456865313,
									"parameters": {
										"instance-variable": "identifier",
										"value": "item.identifier"
									}
								},
								{
									"customAction": "Attach item",
									"objectClass": "player",
									"sid": 166370694799181
								},
								{
									"id": "destroy",
									"objectClass": "loot",
									"sid": 996617112308471
								}
							],
							"sid": 207612363737334,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-children",
											"objectClass": "slot",
											"sid": 770442248002370,
											"parameters": {
												"child": "placeholder",
												"which": "own"
											}
										}
									],
									"actions": [
										{
											"id": "set-visible",
											"objectClass": "placeholder",
											"sid": 295675355474488,
											"parameters": {
												"visibility": "invisible"
											}
										}
									],
									"sid": 801210412604489
								}
							]
						},
						{
							"eventType": "variable",
							"name": "TRAVEL_TIME",
							"type": "number",
							"initialValue": "0.5",
							"comment": "The amount of time it takes loot to get to its destination.",
							"isStatic": false,
							"isConstant": true,
							"sid": 853578934190498
						},
						{
							"eventType": "variable",
							"name": "ASCENSION_TWEEN_TAG",
							"type": "string",
							"initialValue": "ascension",
							"comment": "The tag name of the tween that launches the loot up in the air.",
							"isStatic": false,
							"isConstant": true,
							"sid": 290018784768163
						},
						{
							"eventType": "variable",
							"name": "TRAVEL_TIME_DIVIDER",
							"type": "number",
							"initialValue": "2",
							"comment": "The value by which to divide the travel time, to split between the tweens.",
							"isStatic": false,
							"isConstant": true,
							"sid": 602806262049512
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-tweens-finished",
									"objectClass": "loot",
									"sid": 995046678275951,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "ASCENSION_TWEEN_TAG"
									}
								}
							],
							"actions": [
								{
									"id": "tween-one-property",
									"objectClass": "loot",
									"sid": 173505112811342,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "NOT_USED",
										"property": "offsetY",
										"end-value": "Self.destinationY",
										"time": "TRAVEL_TIME / TRAVEL_TIME_DIVIDER",
										"ease": "easeinsine",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "TWEEN_REPEAT_COUNT"
									}
								},
								{
									"id": "wait-for-previous-actions",
									"objectClass": "System",
									"sid": 315389258203181
								},
								{
									"customAction": "Play drop sound effect",
									"objectClass": "loot",
									"sid": 420012454312271
								}
							],
							"sid": 629339917694708
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-created",
									"objectClass": "loot",
									"sid": 198963619407955
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "This isn't a part of the 'spawnLoot' function because we need it to work for loot that's already in a layout.",
									"text-color": [
										0.7843137254901961,
										0.7843137254901961,
										0.7843137254901961,
										1
									],
									"background-color": [
										0.39215686274509803,
										0,
										0,
										1
									]
								},
								{
									"id": "set-instvar-value",
									"objectClass": "loot",
									"sid": 500570871920815,
									"parameters": {
										"instance-variable": "identifier",
										"value": "nextAvailableIdentifier"
									}
								},
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 416389348668415,
									"parameters": {
										"variable": "nextAvailableIdentifier",
										"value": "IDENTIFIER_INCREMENTER"
									}
								}
							],
							"sid": 328634154225649
						},
						{
							"aceType": "action",
							"aceName": "Spawn loot",
							"objectClass": "loot",
							"functionDescription": "Create a piece of loot.",
							"functionCategory": "creation",
							"functionReturnType": "none",
							"functionCopyPicked": true,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "x",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"sid": 231351879164687
								},
								{
									"name": "y",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"sid": 386714999728530
								}
							],
							"eventType": "custom-ace-block",
							"conditions": [],
							"actions": [
								{
									"id": "create-object-by-name",
									"objectClass": "System",
									"sid": 623143260349773,
									"parameters": {
										"object-name": "advancedRandom.WeightedByName(LayoutName) & SEPARATOR & LOOT_KEYWORD",
										"layer": "background.LayerName",
										"x": "x",
										"y": "y",
										"create-hierarchy": false,
										"template-name": "NOT_USED"
									}
								}
							],
							"sid": 301797937269821,
							"children": [
								{
									"eventType": "variable",
									"name": "theAngle",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": true,
									"isConstant": false,
									"sid": 204893137522611
								},
								{
									"eventType": "variable",
									"name": "LOOT_ALTITUDE",
									"type": "number",
									"initialValue": "100",
									"comment": "How high the loot should fly up into the air after it spawns.",
									"isStatic": false,
									"isConstant": true,
									"sid": 494077069026984
								},
								{
									"eventType": "variable",
									"name": "LOOT_DISTANCE",
									"type": "number",
									"initialValue": "100",
									"comment": "How far away to launch this loot, in pixels.",
									"isStatic": false,
									"isConstant": true,
									"sid": 291101095949510
								},
								{
									"eventType": "variable",
									"name": "isometrifiedLootDistance",
									"type": "number",
									"initialValue": "0",
									"comment": "The loot distance, made isometric.",
									"isStatic": true,
									"isConstant": false,
									"sid": 339031536532458
								},
								{
									"eventType": "variable",
									"name": "INITIAL_SCALE",
									"type": "number",
									"initialValue": "0.5",
									"comment": "The scale at which loot initially spawns.",
									"isStatic": false,
									"isConstant": true,
									"sid": 698788283837046
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-last-created",
											"objectClass": "System",
											"sid": 911207165666077,
											"parameters": {
												"object": "loot"
											}
										}
									],
									"actions": [
										{
											"customAction": "Set random animation",
											"objectClass": "loot",
											"sid": 913370532959129
										},
										{
											"id": "set-instvar-value",
											"objectClass": "loot",
											"sid": 158254303707222,
											"parameters": {
												"instance-variable": "simpleName",
												"value": "tokenat(loot.ObjectTypeName, Functions.getColumnNumber(equipmentArray.ObjectTypeName, SIMPLE_NAME_KEYWORD), SEPARATOR)"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "loot",
											"sid": 739578993045725,
											"parameters": {
												"instance-variable": "fullName",
												"value": "Functions.arrayLookup(equipmentArray.ObjectTypeName, Self.simpleName, FULL_NAME_KEYWORD)"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "loot",
											"sid": 176507377467767,
											"parameters": {
												"instance-variable": "type",
												"value": "Functions.arrayLookup(equipmentArray.ObjectTypeName, Self.simpleName, TYPE_KEYWORD)"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "loot",
											"sid": 761825453158958,
											"parameters": {
												"instance-variable": "lore",
												"value": "Functions.arrayLookup(equipmentArray.ObjectTypeName, Self.simpleName, LORE_KEYWORD)"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "loot",
											"sid": 487618367668180,
											"parameters": {
												"instance-variable": "level",
												"value": "Functions.arrayLookup(equipmentArray.ObjectTypeName, Self.simpleName, LEVEL_KEYWORD)"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "loot",
											"sid": 863584505698864,
											"parameters": {
												"instance-variable": "value",
												"value": "Functions.arrayLookup(equipmentArray.ObjectTypeName, Self.simpleName, VALUE_KEYWORD)"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "loot",
											"sid": 630033395675272,
											"parameters": {
												"instance-variable": "classRestrictions",
												"value": "Functions.arrayLookup(equipmentArray.ObjectTypeName, Self.simpleName, CLASS_RESTRICTIONS_KEYWORD)"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "loot",
											"sid": 918191963118630,
											"parameters": {
												"instance-variable": "sound",
												"value": "Functions.arrayLookup(equipmentArray.ObjectTypeName, Self.simpleName, SOUND_KEYWORD)"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "loot",
											"sid": 294058613065523,
											"parameters": {
												"instance-variable": "mods",
												"value": "Functions.rollMods(loot.simpleName, loot.level)"
											}
										},
										{
											"type": "comment",
											"text": "https://github.com/Laserwolve-Games/DaggerQuest/issues/38"
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 355813859460437,
											"parameters": {
												"variable": "theAngle",
												"value": "random(NEGATIVE_HALF_CRICLE, HALF_CIRCLE)"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 468051174019695,
											"parameters": {
												"variable": "isometrifiedLootDistance",
												"value": "Functions.isometrify(LOOT_DISTANCE, theAngle)"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "loot",
											"sid": 108057161204255,
											"parameters": {
												"instance-variable": "destinationX",
												"value": "x + isometrifiedLootDistance * cos(theAngle)"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "loot",
											"sid": 292440661066943,
											"parameters": {
												"instance-variable": "destinationY",
												"value": "y + isometrifiedLootDistance * sin(theAngle)"
											}
										},
										{
											"id": "set-scale",
											"objectClass": "loot",
											"sid": 400561115170473,
											"parameters": {
												"scale": "INITIAL_SCALE"
											}
										},
										{
											"id": "tween-two-properties",
											"objectClass": "loot",
											"sid": 358231133066179,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "NOT_USED",
												"property": "scale",
												"end-x": "ORIGINAL_SCALE",
												"end-y": "ORIGINAL_SCALE",
												"time": "TRAVEL_TIME",
												"ease": "noease",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "TWEEN_REPEAT_COUNT"
											}
										},
										{
											"id": "tween-one-property",
											"objectClass": "loot",
											"sid": 761688204656819,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "NOT_USED",
												"property": "offsetX",
												"end-value": "Self.destinationX",
												"time": "TRAVEL_TIME",
												"ease": "noease",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "TWEEN_REPEAT_COUNT"
											}
										},
										{
											"id": "tween-one-property",
											"objectClass": "loot",
											"sid": 291508448975650,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "ASCENSION_TWEEN_TAG",
												"property": "offsetY",
												"end-value": "Self.destinationY - Functions.isometrify(LOOT_ALTITUDE, theAngle)",
												"time": "TRAVEL_TIME / TRAVEL_TIME_DIVIDER",
												"ease": "easeoutsine",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "TWEEN_REPEAT_COUNT"
											}
										}
									],
									"sid": 901434503445263
								}
							]
						},
						{
							"aceType": "action",
							"aceName": "Set random animation",
							"objectClass": "loot",
							"functionDescription": "Set this loot's animation to a random one.",
							"functionCategory": "animations",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [],
							"eventType": "custom-ace-block",
							"conditions": [],
							"actions": [
								{
									"type": "comment",
									"text": "We don't have a way to tell how many animations a sprite has, so we have to hardcode these values.",
									"text-color": [
										0.7843137254901961,
										0.7843137254901961,
										0.7843137254901961,
										1
									],
									"background-color": [
										0.39215686274509803,
										0,
										0,
										1
									]
								}
							],
							"sid": 900359262976752,
							"children": [
								{
									"eventType": "variable",
									"name": "STATIC_KEYWORD",
									"type": "string",
									"initialValue": "static",
									"comment": "Used in animation names of static sprites.",
									"isStatic": false,
									"isConstant": true,
									"sid": 467752912898711
								},
								{
									"eventType": "variable",
									"name": "FIRST_ANIMATION_INDEX",
									"type": "number",
									"initialValue": "1",
									"comment": "The 1-based index of the first animation.",
									"isStatic": false,
									"isConstant": true,
									"sid": 721083576095013
								},
								{
									"eventType": "variable",
									"name": "LAST_ANIMATION_INDEX",
									"type": "number",
									"initialValue": "17",
									"comment": "The 1-based index of the last animation.",
									"isStatic": false,
									"isConstant": true,
									"sid": 193604113879395
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "loot",
											"sid": 548811260645905,
											"parameters": {
												"animation": "STATIC_KEYWORD & SEPARATOR & (floor(random(FIRST_ANIMATION_INDEX, LAST_ANIMATION_INDEX)) * ARC) - HALF_CIRCLE",
												"from": "beginning"
											}
										}
									],
									"sid": 940330236939368
								}
							]
						}
					],
					"sid": 258106155275995
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "items",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-object-clicked",
									"objectClass": "mouse",
									"sid": 902624678400026,
									"parameters": {
										"mouse-button": "right",
										"click-type": "clicked",
										"object-clicked": "item"
									}
								},
								{
									"id": "is-dragging",
									"objectClass": "item",
									"sid": 559873276613647,
									"behaviorType": "DragDrop",
									"isInverted": true
								},
								{
									"id": "layer-is-interactive",
									"objectClass": "System",
									"sid": 543470329738268,
									"parameters": {
										"layer": "inventoryMenuStatue.LayerName"
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "If an item is right clicked while it's not being dragged, and the inventory menu is open..."
								}
							],
							"sid": 516496370527557,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "layer-is-interactive",
											"objectClass": "System",
											"sid": 261625433778583,
											"parameters": {
												"layer": "equippedMenuStatue.LayerName"
											}
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "...if the equipped menu is open..."
										}
									],
									"sid": 141483461589071,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-on-layer",
													"objectClass": "item",
													"sid": 373666143811986,
													"parameters": {
														"layer": "equippedMenuStatue.LayerName"
													}
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "...and the item is in the equipped menu..."
												}
											],
											"sid": 259729607655343,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-on-layer",
															"objectClass": "slot",
															"sid": 204483611763530,
															"parameters": {
																"layer": "inventoryMenuStatue.LayerName"
															}
														},
														{
															"id": "compare-instance-variable",
															"objectClass": "slot",
															"sid": 117606307407532,
															"parameters": {
																"instance-variable": "identifier",
																"comparison": 0,
																"value": "EMPTY"
															}
														}
													],
													"actions": [
														{
															"type": "comment",
															"text": "...check to see if there's any empty inventory slots the item can go into."
														}
													],
													"sid": 615870837667651,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "pick-all",
																	"objectClass": "System",
																	"sid": 143397265739429,
																	"parameters": {
																		"object": "slot"
																	}
																},
																{
																	"id": "compare-instance-variable",
																	"objectClass": "slot",
																	"sid": 354642036138383,
																	"parameters": {
																		"instance-variable": "identifier",
																		"comparison": 0,
																		"value": "item.identifier"
																	}
																}
															],
															"actions": [
																{
																	"type": "comment",
																	"text": "If there are, detach the item from its current slot..."
																},
																{
																	"customAction": "Detach item",
																	"objectClass": "player",
																	"sid": 253069466418048
																}
															],
															"sid": 327329318397352
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "pick-all",
																	"objectClass": "System",
																	"sid": 904084341283974,
																	"parameters": {
																		"object": "slot"
																	}
																},
																{
																	"id": "is-on-layer",
																	"objectClass": "slot",
																	"sid": 812399325623394,
																	"parameters": {
																		"layer": "inventoryMenuStatue.LayerName"
																	}
																},
																{
																	"id": "compare-instance-variable",
																	"objectClass": "slot",
																	"sid": 262830761351924,
																	"parameters": {
																		"instance-variable": "identifier",
																		"comparison": 0,
																		"value": "EMPTY"
																	}
																},
																{
																	"id": "pick-nth-instance",
																	"objectClass": "System",
																	"sid": 373004113240567,
																	"parameters": {
																		"object": "slot",
																		"instance": "FIRST_INSTANCE"
																	}
																}
															],
															"actions": [
																{
																	"type": "comment",
																	"text": "Then attach it to the first empty inventory slot."
																},
																{
																	"customAction": "Attach item",
																	"objectClass": "player",
																	"sid": 628919379363756
																}
															],
															"sid": 286487193984274
														}
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 243958853211203
														}
													],
													"actions": [
														{
															"customAction": "\"I can't carry any more.\"",
															"objectClass": "player",
															"sid": 177697836046343
														}
													],
													"sid": 179465482061357
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 882475673725979
												},
												{
													"id": "is-on-layer",
													"objectClass": "item",
													"sid": 210850705213818,
													"parameters": {
														"layer": "inventoryMenuStatue.LayerName"
													}
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "...and the item is in the in the inventory menu..."
												}
											],
											"sid": 179130591788354,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "evaluate-expression",
															"objectClass": "System",
															"sid": 823712606273103,
															"parameters": {
																"value": "Functions.canThePlayerEquipThis(item.level, item.classRestrictions)"
															}
														}
													],
													"actions": [],
													"sid": 332857560810116,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "is-on-layer",
																	"objectClass": "slot",
																	"sid": 925472716787508,
																	"parameters": {
																		"layer": "equippedMenuStatue.LayerName"
																	}
																},
																{
																	"id": "compare-instance-variable",
																	"objectClass": "slot",
																	"sid": 112561974129989,
																	"parameters": {
																		"instance-variable": "type",
																		"comparison": 0,
																		"value": "item.type"
																	}
																}
															],
															"actions": [
																{
																	"type": "comment",
																	"text": "...pick the equipped menu slots that match the item's type."
																}
															],
															"sid": 811675158750085,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-instance-variable",
																			"objectClass": "slot",
																			"sid": 473544048740109,
																			"parameters": {
																				"instance-variable": "identifier",
																				"comparison": 0,
																				"value": "EMPTY"
																			}
																		}
																	],
																	"actions": [
																		{
																			"type": "comment",
																			"text": "Of those slots, check if any are empty."
																		}
																	],
																	"sid": 646799667465123,
																	"children": [
																		{
																			"eventType": "block",
																			"conditions": [
																				{
																					"id": "pick-all",
																					"objectClass": "System",
																					"sid": 103596676369999,
																					"parameters": {
																						"object": "slot"
																					}
																				},
																				{
																					"id": "compare-instance-variable",
																					"objectClass": "slot",
																					"sid": 466541744139792,
																					"parameters": {
																						"instance-variable": "identifier",
																						"comparison": 0,
																						"value": "item.identifier"
																					}
																				}
																			],
																			"actions": [
																				{
																					"type": "comment",
																					"text": "Now that we know there's an empty equipped menu slot for this item, go back to the inventory menu slot holding our item, and detach."
																				},
																				{
																					"customAction": "Detach item",
																					"objectClass": "player",
																					"sid": 503438397265096
																				}
																			],
																			"sid": 661922305185849
																		},
																		{
																			"eventType": "block",
																			"conditions": [
																				{
																					"id": "pick-all",
																					"objectClass": "System",
																					"sid": 441177122100618,
																					"parameters": {
																						"object": "slot"
																					}
																				},
																				{
																					"id": "compare-instance-variable",
																					"objectClass": "slot",
																					"sid": 266145660974739,
																					"parameters": {
																						"instance-variable": "type",
																						"comparison": 0,
																						"value": "item.type"
																					}
																				},
																				{
																					"id": "compare-instance-variable",
																					"objectClass": "slot",
																					"sid": 910264015886637,
																					"parameters": {
																						"instance-variable": "identifier",
																						"comparison": 0,
																						"value": "EMPTY"
																					}
																				},
																				{
																					"id": "pick-nth-instance",
																					"objectClass": "System",
																					"sid": 422268590038359,
																					"parameters": {
																						"object": "slot",
																						"instance": "FIRST_INSTANCE"
																					}
																				}
																			],
																			"actions": [
																				{
																					"type": "comment",
																					"text": "Re-pick the first empty equipped menu slot that matches the item's type, and attach to it."
																				},
																				{
																					"customAction": "Attach item",
																					"objectClass": "player",
																					"sid": 533084091113414
																				}
																			],
																			"sid": 381152986962371
																		}
																	]
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "else",
																			"objectClass": "System",
																			"sid": 572396907988511
																		},
																		{
																			"id": "pick-nth-instance",
																			"objectClass": "System",
																			"sid": 466696370614486,
																			"parameters": {
																				"object": "slot",
																				"instance": "FIRST_INSTANCE"
																			}
																		}
																	],
																	"actions": [
																		{
																			"type": "comment",
																			"text": "If no slots are empty, start a swap. Pick the first equipped menu slot (necessary in the case of rings, because there are two slots) and store its identifier, which is also the identifier of the item in it."
																		},
																		{
																			"id": "set-eventvar-value",
																			"objectClass": "System",
																			"sid": 142700741650667,
																			"parameters": {
																				"variable": "swapIdentifier",
																				"value": "slot.identifier"
																			}
																		}
																	],
																	"sid": 130806090661839,
																	"children": [
																		{
																			"eventType": "block",
																			"conditions": [
																				{
																					"id": "pick-all",
																					"objectClass": "System",
																					"sid": 619426776425720,
																					"parameters": {
																						"object": "slot"
																					}
																				},
																				{
																					"id": "compare-instance-variable",
																					"objectClass": "slot",
																					"sid": 343970512304455,
																					"parameters": {
																						"instance-variable": "identifier",
																						"comparison": 0,
																						"value": "item.identifier"
																					}
																				}
																			],
																			"actions": [
																				{
																					"type": "comment",
																					"text": "Go back to the slot holding our item, and detach. save this slot's UID so we know where to put the other item."
																				},
																				{
																					"id": "set-eventvar-value",
																					"objectClass": "System",
																					"sid": 838562828019149,
																					"parameters": {
																						"variable": "swapSlotUid",
																						"value": "slot.UID"
																					}
																				},
																				{
																					"customAction": "Detach item",
																					"objectClass": "player",
																					"sid": 912033612143328
																				}
																			],
																			"sid": 626751055808015,
																			"children": [
																				{
																					"eventType": "block",
																					"conditions": [
																						{
																							"id": "pick-all",
																							"objectClass": "System",
																							"sid": 684582564620568,
																							"parameters": {
																								"object": "slot"
																							}
																						},
																						{
																							"id": "is-on-layer",
																							"objectClass": "slot",
																							"sid": 385257249690541,
																							"parameters": {
																								"layer": "equippedMenuStatue.LayerName"
																							}
																						},
																						{
																							"id": "compare-instance-variable",
																							"objectClass": "slot",
																							"sid": 673853613594299,
																							"parameters": {
																								"instance-variable": "type",
																								"comparison": 0,
																								"value": "item.type"
																							}
																						},
																						{
																							"id": "pick-nth-instance",
																							"objectClass": "System",
																							"sid": 389579549253196,
																							"parameters": {
																								"object": "slot",
																								"instance": "FIRST_INSTANCE"
																							}
																						}
																					],
																					"actions": [
																						{
																							"type": "comment",
																							"text": "Re-pick the first equipped menu slot that matches the item's type, and attach to it, even though it has an different item in it."
																						},
																						{
																							"customAction": "Attach item",
																							"objectClass": "player",
																							"sid": 304976112491279
																						}
																					],
																					"sid": 414578709356467,
																					"children": [
																						{
																							"eventType": "block",
																							"conditions": [
																								{
																									"id": "pick-all",
																									"objectClass": "System",
																									"sid": 678586053847039,
																									"parameters": {
																										"object": "item"
																									}
																								},
																								{
																									"id": "compare-instance-variable",
																									"objectClass": "item",
																									"sid": 176662126190105,
																									"parameters": {
																										"instance-variable": "identifier",
																										"comparison": 0,
																										"value": "swapIdentifier"
																									}
																								},
																								{
																									"id": "pick-all",
																									"objectClass": "System",
																									"sid": 405296621702462,
																									"parameters": {
																										"object": "slot"
																									}
																								},
																								{
																									"id": "pick-by-unique-id",
																									"objectClass": "slot",
																									"sid": 704589450530969,
																									"parameters": {
																										"unique-id": "swapSlotUid"
																									}
																								}
																							],
																							"actions": [
																								{
																									"type": "comment",
																									"text": "Now we have both items in the same slot. We'll detach the item that shouldn't be there, picking it with 'swapID'. We don't need to clear the identifier value because it was already set correctly in the previous event."
																								},
																								{
																									"id": "remove-from-parent",
																									"objectClass": "item",
																									"sid": 879371772732247
																								},
																								{
																									"callFunction": "manageMods",
																									"sid": 540326595034529,
																									"parameters": [
																										false,
																										"item.mods"
																									]
																								},
																								{
																									"customAction": "Attach item",
																									"objectClass": "player",
																									"sid": 440595200081042
																								}
																							],
																							"sid": 970787388191254
																						}
																					]
																				}
																			]
																		}
																	]
																}
															]
														}
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 389187802288755
														}
													],
													"actions": [
														{
															"customAction": "\"I don't meet the requirements for this item.\"",
															"objectClass": "player",
															"sid": 908441593617216
														}
													],
													"sid": 301793729340741
												}
											]
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "layer-is-interactive",
											"objectClass": "System",
											"sid": 951140948527553,
											"parameters": {
												"layer": "merchantMenuStatue.LayerName"
											}
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "...if the merchant menu is open..."
										}
									],
									"sid": 305621605690708,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-on-layer",
													"objectClass": "item",
													"sid": 153342285769272,
													"parameters": {
														"layer": "merchantMenuStatue.LayerName"
													}
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "...and the item is in the merchant menu..."
												}
											],
											"sid": 494713688753610,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-on-layer",
															"objectClass": "slot",
															"sid": 829655037631147,
															"parameters": {
																"layer": "inventoryMenuStatue.LayerName"
															}
														},
														{
															"id": "compare-instance-variable",
															"objectClass": "slot",
															"sid": 469948875516331,
															"parameters": {
																"instance-variable": "identifier",
																"comparison": 0,
																"value": "EMPTY"
															}
														}
													],
													"actions": [
														{
															"type": "comment",
															"text": "...check to see if there's any empty inventory slots the item can go into."
														}
													],
													"sid": 181754026692635,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-instance-variable",
																	"objectClass": "item",
																	"sid": 326474860562062,
																	"parameters": {
																		"instance-variable": "value",
																		"comparison": 3,
																		"value": "player.coins"
																	}
																}
															],
															"actions": [
																{
																	"type": "comment",
																	"text": "Check if the player can pay for the item, and if so, charge them."
																},
																{
																	"id": "subtract-from-instvar",
																	"objectClass": "player",
																	"sid": 526847057139408,
																	"parameters": {
																		"instance-variable": "coins",
																		"value": "item.value"
																	}
																}
															],
															"sid": 580986029317286,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "pick-all",
																			"objectClass": "System",
																			"sid": 342955611112313,
																			"parameters": {
																				"object": "slot"
																			}
																		},
																		{
																			"id": "compare-instance-variable",
																			"objectClass": "slot",
																			"sid": 436704766403690,
																			"parameters": {
																				"instance-variable": "identifier",
																				"comparison": 0,
																				"value": "item.identifier"
																			}
																		}
																	],
																	"actions": [
																		{
																			"type": "comment",
																			"text": "If there are, detach the item from its current slot..."
																		},
																		{
																			"customAction": "Detach item",
																			"objectClass": "player",
																			"sid": 914787403054305
																		}
																	],
																	"sid": 518708578055429
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "pick-all",
																			"objectClass": "System",
																			"sid": 512394241193415,
																			"parameters": {
																				"object": "slot"
																			}
																		},
																		{
																			"id": "is-on-layer",
																			"objectClass": "slot",
																			"sid": 741939023261402,
																			"parameters": {
																				"layer": "inventoryMenuStatue.LayerName"
																			}
																		},
																		{
																			"id": "compare-instance-variable",
																			"objectClass": "slot",
																			"sid": 611191568879341,
																			"parameters": {
																				"instance-variable": "identifier",
																				"comparison": 0,
																				"value": "EMPTY"
																			}
																		},
																		{
																			"id": "pick-nth-instance",
																			"objectClass": "System",
																			"sid": 738386391218363,
																			"parameters": {
																				"object": "slot",
																				"instance": "FIRST_INSTANCE"
																			}
																		}
																	],
																	"actions": [
																		{
																			"type": "comment",
																			"text": "...then attach it to the first empty inventory slot."
																		},
																		{
																			"customAction": "Attach item",
																			"objectClass": "player",
																			"sid": 861876116597742
																		}
																	],
																	"sid": 364953540658440
																}
															]
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "else",
																	"objectClass": "System",
																	"sid": 402232361581370
																}
															],
															"actions": [
																{
																	"customAction": "\"I don't have enough coins.\"",
																	"objectClass": "player",
																	"sid": 847195401354478
																}
															],
															"sid": 894028079555078
														}
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 271667908446741
														}
													],
													"actions": [
														{
															"customAction": "\"I can't carry any more.\"",
															"objectClass": "player",
															"sid": 891385592091592
														}
													],
													"sid": 643614221231479
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 972375055810035
												},
												{
													"id": "is-on-layer",
													"objectClass": "item",
													"sid": 326718653324686,
													"parameters": {
														"layer": "inventoryMenuStatue.LayerName"
													}
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "...and the item is in the in the inventory menu...\n"
												},
												{
													"type": "comment",
													"text": "This else is necessary so that only one thing happens to the item per right click.",
													"text-color": [
														0.7843137254901961,
														0.7843137254901961,
														0.7843137254901961,
														1
													],
													"background-color": [
														0.39215686274509803,
														0,
														0,
														1
													]
												}
											],
											"sid": 464545087234551,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-on-layer",
															"objectClass": "slot",
															"sid": 520705590136190,
															"parameters": {
																"layer": "merchantMenuStatue.LayerName"
															}
														},
														{
															"id": "compare-instance-variable",
															"objectClass": "slot",
															"sid": 280358823449913,
															"parameters": {
																"instance-variable": "identifier",
																"comparison": 0,
																"value": "EMPTY"
															}
														}
													],
													"actions": [
														{
															"type": "comment",
															"text": "Pick the empty merchant menu slots."
														}
													],
													"sid": 308821353929836,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "pick-all",
																	"objectClass": "System",
																	"sid": 992000886817299,
																	"parameters": {
																		"object": "slot"
																	}
																},
																{
																	"id": "compare-instance-variable",
																	"objectClass": "slot",
																	"sid": 570110463902719,
																	"parameters": {
																		"instance-variable": "identifier",
																		"comparison": 0,
																		"value": "item.identifier"
																	}
																}
															],
															"actions": [
																{
																	"type": "comment",
																	"text": "Now that we know there's an empty merchant menu slot for this item, go back to the inventory menu slot holding our item, and detach."
																},
																{
																	"customAction": "Detach item",
																	"objectClass": "player",
																	"sid": 407907037577841
																}
															],
															"sid": 253428946953671
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "pick-all",
																	"objectClass": "System",
																	"sid": 191787361620919,
																	"parameters": {
																		"object": "slot"
																	}
																},
																{
																	"id": "is-on-layer",
																	"objectClass": "slot",
																	"sid": 498385320602602,
																	"parameters": {
																		"layer": "merchantMenuStatue.LayerName"
																	}
																},
																{
																	"id": "compare-instance-variable",
																	"objectClass": "slot",
																	"sid": 250108957610151,
																	"parameters": {
																		"instance-variable": "identifier",
																		"comparison": 0,
																		"value": "EMPTY"
																	}
																},
																{
																	"id": "pick-nth-instance",
																	"objectClass": "System",
																	"sid": 245120039002581,
																	"parameters": {
																		"object": "slot",
																		"instance": "FIRST_INSTANCE"
																	}
																}
															],
															"actions": [
																{
																	"type": "comment",
																	"text": "Re-pick the first empty merchant menu slot that matches the item's type, and attach to it."
																},
																{
																	"customAction": "Attach item",
																	"objectClass": "player",
																	"sid": 608380356096378
																},
																{
																	"id": "add-to-instvar",
																	"objectClass": "player",
																	"sid": 834560367893187,
																	"parameters": {
																		"instance-variable": "coins",
																		"value": "item.value"
																	}
																}
															],
															"sid": 872304506648343
														}
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 600124878050321
														},
														{
															"id": "compare-instance-variable",
															"objectClass": "npc",
															"sid": 645378461185950,
															"parameters": {
																"instance-variable": "simpleName",
																"comparison": 0,
																"value": "player.talkingToNpc"
															}
														}
													],
													"actions": [
														{
															"customAction": "\"I can't purchase any more items.\"",
															"objectClass": "npc",
															"sid": 365844988240005
														}
													],
													"sid": 399905204364957
												}
											]
										}
									]
								}
							]
						},
						{
							"eventType": "variable",
							"name": "OVERLAY_LAYER_NAME",
							"type": "string",
							"initialValue": "overlay",
							"comment": "The name of the overlay layer.",
							"isStatic": false,
							"isConstant": true,
							"sid": 702255318625624
						},
						{
							"eventType": "variable",
							"name": "ITEM_OPACITY",
							"type": "number",
							"initialValue": "70",
							"comment": "The opacity of items when they're being dragged.",
							"isStatic": false,
							"isConstant": true,
							"sid": 947016917295187
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-drag-start",
									"objectClass": "item",
									"sid": 171542721559928,
									"behaviorType": "DragDrop"
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "slot",
									"sid": 660907865564922,
									"parameters": {
										"instance-variable": "identifier",
										"comparison": 0,
										"value": "item.identifier"
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "when an item starts being dragged, record where it came from, set dragging to true, and detach it"
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 886968429260276,
									"parameters": {
										"variable": "draggedOriginSlotUid",
										"value": "slot.UID"
									}
								},
								{
									"customAction": "Detach item",
									"objectClass": "player",
									"sid": 586236648031557
								},
								{
									"type": "comment",
									"text": "This ensures whatever is being dragged is always on top"
								},
								{
									"id": "move-to-layer",
									"objectClass": "item",
									"sid": 555120844224899,
									"parameters": {
										"layer": "OVERLAY_LAYER_NAME"
									}
								},
								{
									"id": "tween-one-property",
									"objectClass": "item",
									"sid": 970344550126379,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "NOT_USED",
										"property": "offsetOpacity",
										"end-value": "ITEM_OPACITY",
										"time": "MENU_FADE_TIME",
										"ease": "noease",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "TWEEN_REPEAT_COUNT"
									}
								}
							],
							"sid": 827535395163321
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-drop",
									"objectClass": "item",
									"sid": 940330704376401,
									"behaviorType": "DragDrop"
								}
							],
							"actions": [
								{
									"id": "tween-one-property",
									"objectClass": "item",
									"sid": 362084936559709,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "NOT_USED",
										"property": "offsetOpacity",
										"end-value": "SOLID_OPACITY",
										"time": "MENU_FADE_TIME",
										"ease": "noease",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "TWEEN_REPEAT_COUNT"
									}
								}
							],
							"sid": 399701785813219,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "cursor-is-over-object",
											"objectClass": "mouse",
											"sid": 940744174099667,
											"parameters": {
												"object": "slot"
											}
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "if the item was dropped over a slot..."
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 596354897933685,
											"parameters": {
												"variable": "droppedOnSlotUid",
												"value": "slot.UID"
											}
										}
									],
									"sid": 975172186095144,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "slot",
													"sid": 159834735648163,
													"parameters": {
														"instance-variable": "type",
														"comparison": 0,
														"value": "NONE_KEYWORD"
													}
												},
												{
													"id": "evaluate-expression",
													"objectClass": "System",
													"sid": 472406219080409,
													"parameters": {
														"value": "slot.type = item.type & Functions.canThePlayerEquipThis(item.level, item.classRestrictions)"
													}
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "and that slot's type was none, or it's the same as the item's type, and the player meets all the requirements to equip it..."
												}
											],
											"sid": 109270735818354,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "pick-all",
															"objectClass": "System",
															"sid": 491050178587688,
															"parameters": {
																"object": "slot"
															}
														},
														{
															"id": "pick-by-unique-id",
															"objectClass": "slot",
															"sid": 822827677091825,
															"parameters": {
																"unique-id": "droppedOnSlotUid"
															}
														}
													],
													"actions": [],
													"sid": 491667756063257,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "is-on-layer",
																	"objectClass": "slot",
																	"sid": 123686432021866,
																	"parameters": {
																		"layer": "merchantMenuStatue.LayerName"
																	}
																}
															],
															"actions": [
																{
																	"type": "comment",
																	"text": "if the slot that was dropped over is on the merchant menu..."
																}
															],
															"sid": 507809592626702,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-instance-variable",
																			"objectClass": "slot",
																			"sid": 593240241642417,
																			"parameters": {
																				"instance-variable": "identifier",
																				"comparison": 0,
																				"value": "0"
																			}
																		}
																	],
																	"actions": [
																		{
																			"type": "comment",
																			"text": "...and it's empty, put the item there..."
																		},
																		{
																			"customAction": "Attach item",
																			"objectClass": "player",
																			"sid": 614762548787523
																		}
																	],
																	"sid": 230654720423141,
																	"children": [
																		{
																			"eventType": "block",
																			"conditions": [
																				{
																					"id": "pick-all",
																					"objectClass": "System",
																					"sid": 225095829091385,
																					"parameters": {
																						"object": "slot"
																					}
																				},
																				{
																					"id": "pick-by-unique-id",
																					"objectClass": "slot",
																					"sid": 393698633433202,
																					"parameters": {
																						"unique-id": "draggedOriginSlotUid"
																					}
																				},
																				{
																					"id": "is-on-layer",
																					"objectClass": "slot",
																					"sid": 897491518366281,
																					"parameters": {
																						"layer": "merchantMenuStatue.LayerName"
																					},
																					"isInverted": true
																				}
																			],
																			"actions": [
																				{
																					"type": "comment",
																					"text": "and give the player the appropriate amount of coins if the item didn't originally also come from the merchant menu"
																				},
																				{
																					"id": "add-to-instvar",
																					"objectClass": "player",
																					"sid": 566129415569035,
																					"parameters": {
																						"instance-variable": "coins",
																						"value": "item.value"
																					}
																				}
																			],
																			"sid": 773085726586937
																		}
																	]
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "else",
																			"objectClass": "System",
																			"sid": 575142878509390
																		},
																		{
																			"id": "compare-instance-variable",
																			"objectClass": "slot",
																			"sid": 531249029416784,
																			"parameters": {
																				"instance-variable": "identifier",
																				"comparison": 1,
																				"value": "0"
																			}
																		}
																	],
																	"actions": [
																		{
																			"type": "comment",
																			"text": "...and it's not empty. send the item back. We don't swap items from the merchant menu."
																		},
																		{
																			"customAction": "Return item",
																			"objectClass": "player",
																			"sid": 931826433354086
																		}
																	],
																	"sid": 107420710118387
																}
															]
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "else",
																	"objectClass": "System",
																	"sid": 562905941879541
																},
																{
																	"id": "pick-all",
																	"objectClass": "System",
																	"sid": 370915332021303,
																	"parameters": {
																		"object": "slot"
																	}
																},
																{
																	"id": "pick-by-unique-id",
																	"objectClass": "slot",
																	"sid": 450677128659737,
																	"parameters": {
																		"unique-id": "draggedOriginSlotUid"
																	}
																},
																{
																	"id": "is-on-layer",
																	"objectClass": "slot",
																	"sid": 355033097151242,
																	"parameters": {
																		"layer": "merchantMenuStatue.LayerName"
																	}
																}
															],
															"actions": [
																{
																	"type": "comment",
																	"text": "if the item that was dropped came from the merchant menu..."
																}
															],
															"sid": 878303749076590,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "pick-all",
																			"objectClass": "System",
																			"sid": 402944150638316,
																			"parameters": {
																				"object": "slot"
																			}
																		},
																		{
																			"id": "pick-by-unique-id",
																			"objectClass": "slot",
																			"sid": 662343884314727,
																			"parameters": {
																				"unique-id": "droppedOnSlotUid"
																			}
																		},
																		{
																			"id": "compare-instance-variable",
																			"objectClass": "slot",
																			"sid": 721949181161639,
																			"parameters": {
																				"instance-variable": "identifier",
																				"comparison": 0,
																				"value": "0"
																			}
																		}
																	],
																	"actions": [
																		{
																			"type": "comment",
																			"text": "...and it was dropped an an empty slot..."
																		}
																	],
																	"sid": 439059812938388,
																	"children": [
																		{
																			"eventType": "block",
																			"conditions": [
																				{
																					"id": "compare-instance-variable",
																					"objectClass": "item",
																					"sid": 799364733860183,
																					"parameters": {
																						"instance-variable": "value",
																						"comparison": 3,
																						"value": "player.coins"
																					}
																				}
																			],
																			"actions": [
																				{
																					"type": "comment",
																					"text": "charge the player for the item and give it to them, provided they have enough coins"
																				},
																				{
																					"customAction": "Attach item",
																					"objectClass": "player",
																					"sid": 470088869175819
																				},
																				{
																					"id": "subtract-from-instvar",
																					"objectClass": "player",
																					"sid": 567458518378759,
																					"parameters": {
																						"instance-variable": "coins",
																						"value": "item.value"
																					}
																				}
																			],
																			"sid": 131416724176314
																		},
																		{
																			"eventType": "block",
																			"conditions": [
																				{
																					"id": "else",
																					"objectClass": "System",
																					"sid": 746358984634156
																				}
																			],
																			"actions": [
																				{
																					"customAction": "\"I don't have enough coins.\"",
																					"objectClass": "player",
																					"sid": 398646327231375
																				}
																			],
																			"sid": 210767559575742
																		}
																	]
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "else",
																			"objectClass": "System",
																			"sid": 531673524573466
																		},
																		{
																			"id": "pick-all",
																			"objectClass": "System",
																			"sid": 539826213980738,
																			"parameters": {
																				"object": "slot"
																			}
																		},
																		{
																			"id": "pick-by-unique-id",
																			"objectClass": "slot",
																			"sid": 824464665906728,
																			"parameters": {
																				"unique-id": "droppedOnSlotUid"
																			}
																		},
																		{
																			"id": "compare-instance-variable",
																			"objectClass": "slot",
																			"sid": 939792946285382,
																			"parameters": {
																				"instance-variable": "identifier",
																				"comparison": 1,
																				"value": "0"
																			}
																		}
																	],
																	"actions": [
																		{
																			"type": "comment",
																			"text": "...and it was dropped on a slot that wasn't empty, return it. No swapping from the merchant menu."
																		},
																		{
																			"customAction": "Return item",
																			"objectClass": "player",
																			"sid": 943202801312591
																		}
																	],
																	"sid": 515397489526822
																}
															]
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "else",
																	"objectClass": "System",
																	"sid": 208963175781136
																}
															],
															"actions": [
																{
																	"type": "comment",
																	"text": "only allow drag and drop swapping when neither the origin or destination slot are on the merchant menu"
																}
															],
															"sid": 487747416925188,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-instance-variable",
																			"objectClass": "slot",
																			"sid": 171530431035009,
																			"parameters": {
																				"instance-variable": "identifier",
																				"comparison": 0,
																				"value": "0"
																			}
																		}
																	],
																	"actions": [
																		{
																			"customAction": "Attach item",
																			"objectClass": "player",
																			"sid": 481229825308604
																		}
																	],
																	"sid": 234721746053009
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "else",
																			"objectClass": "System",
																			"sid": 774042331896389
																		},
																		{
																			"id": "compare-instance-variable",
																			"objectClass": "slot",
																			"sid": 928511222626814,
																			"parameters": {
																				"instance-variable": "identifier",
																				"comparison": 1,
																				"value": "0"
																			}
																		}
																	],
																	"actions": [
																		{
																			"type": "comment",
																			"text": "and that slot is not empty, save its identifier (which is also its item's identifier) so we can overwrite it"
																		},
																		{
																			"id": "set-eventvar-value",
																			"objectClass": "System",
																			"sid": 574995099201880,
																			"parameters": {
																				"variable": "swapIdentifier",
																				"value": "slot.identifier"
																			}
																		},
																		{
																			"id": "set-eventvar-value",
																			"objectClass": "System",
																			"sid": 744944819056108,
																			"parameters": {
																				"variable": "draggedItemUid",
																				"value": "item.UID"
																			}
																		}
																	],
																	"sid": 464840664376772,
																	"children": [
																		{
																			"eventType": "block",
																			"conditions": [
																				{
																					"id": "pick-all",
																					"objectClass": "System",
																					"sid": 558500050840916,
																					"parameters": {
																						"object": "item"
																					}
																				},
																				{
																					"id": "compare-instance-variable",
																					"objectClass": "item",
																					"sid": 598328115232003,
																					"parameters": {
																						"instance-variable": "identifier",
																						"comparison": 0,
																						"value": "swapIdentifier"
																					}
																				},
																				{
																					"id": "pick-all",
																					"objectClass": "System",
																					"sid": 342314222348738,
																					"parameters": {
																						"object": "slot"
																					}
																				},
																				{
																					"id": "pick-by-unique-id",
																					"objectClass": "slot",
																					"sid": 600886191032571,
																					"parameters": {
																						"unique-id": "draggedOriginSlotUID"
																					}
																				},
																				{
																					"id": "evaluate-expression",
																					"objectClass": "System",
																					"sid": 468262482424338,
																					"parameters": {
																						"value": "slot.type = item.type | slot.type = NONE_KEYWORD"
																					}
																				}
																			],
																			"actions": [
																				{
																					"type": "comment",
																					"text": "check if the item can go back to the origin slot"
																				}
																			],
																			"sid": 504824878746835,
																			"children": [
																				{
																					"eventType": "block",
																					"conditions": [
																						{
																							"id": "pick-all",
																							"objectClass": "System",
																							"sid": 416701827368293,
																							"parameters": {
																								"object": "item"
																							}
																						},
																						{
																							"id": "pick-by-unique-id",
																							"objectClass": "item",
																							"sid": 705763921181878,
																							"parameters": {
																								"unique-id": "draggedItemUid"
																							}
																						},
																						{
																							"id": "pick-all",
																							"objectClass": "System",
																							"sid": 865127399773032,
																							"parameters": {
																								"object": "slot"
																							}
																						},
																						{
																							"id": "pick-by-unique-id",
																							"objectClass": "slot",
																							"sid": 405551166785781,
																							"parameters": {
																								"unique-id": "droppedOnSlotUid"
																							}
																						}
																					],
																					"actions": [
																						{
																							"type": "comment",
																							"text": "if it can, re-pick the item being dragged, and the slot we dropped it on, and attach them"
																						},
																						{
																							"customAction": "Attach item",
																							"objectClass": "player",
																							"sid": 324066461246009
																						}
																					],
																					"sid": 449034392760382,
																					"children": [
																						{
																							"eventType": "block",
																							"conditions": [
																								{
																									"id": "pick-all",
																									"objectClass": "System",
																									"sid": 583035703400008,
																									"parameters": {
																										"object": "item"
																									}
																								},
																								{
																									"id": "compare-instance-variable",
																									"objectClass": "item",
																									"sid": 730100934712666,
																									"parameters": {
																										"instance-variable": "identifier",
																										"comparison": 0,
																										"value": "swapIdentifier"
																									}
																								},
																								{
																									"id": "pick-all",
																									"objectClass": "System",
																									"sid": 223139521634961,
																									"parameters": {
																										"object": "slot"
																									}
																								},
																								{
																									"id": "pick-by-unique-id",
																									"objectClass": "slot",
																									"sid": 414556926804085,
																									"parameters": {
																										"unique-id": "draggedOriginSlotUid"
																									}
																								}
																							],
																							"actions": [
																								{
																									"type": "comment",
																									"text": "now pick and detach the overlapped item that shouldn't be there (but the slot's identifier is OK), and pick the origin slot, and attach the two"
																								},
																								{
																									"id": "remove-from-parent",
																									"objectClass": "item",
																									"sid": 369562184818486
																								},
																								{
																									"callFunction": "manageMods",
																									"sid": 748748728806935,
																									"parameters": [
																										false,
																										"item.mods"
																									]
																								},
																								{
																									"customAction": "Attach item",
																									"objectClass": "player",
																									"sid": 187019555250839
																								}
																							],
																							"sid": 767482856350816
																						}
																					]
																				}
																			]
																		},
																		{
																			"eventType": "block",
																			"conditions": [
																				{
																					"id": "else",
																					"objectClass": "System",
																					"sid": 789021243555184
																				},
																				{
																					"id": "pick-all",
																					"objectClass": "System",
																					"sid": 497756829902906,
																					"parameters": {
																						"object": "slot"
																					}
																				},
																				{
																					"id": "pick-by-unique-id",
																					"objectClass": "slot",
																					"sid": 204710526690928,
																					"parameters": {
																						"unique-id": "draggedOriginSlotUid"
																					}
																				}
																			],
																			"actions": [
																				{
																					"type": "comment",
																					"text": "if it can't, don't swap, and send the item being dragged back to the origin slot"
																				},
																				{
																					"customAction": "Attach item",
																					"objectClass": "player",
																					"sid": 589201268567073
																				}
																			],
																			"sid": 404978616633693
																		}
																	]
																}
															]
														}
													]
												}
											],
											"isOrBlock": true
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 839852839292939
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "send the item back to the slot it came from"
												},
												{
													"customAction": "Return item",
													"objectClass": "player",
													"sid": 937681054973958
												}
											],
											"sid": 771584118890591,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-instance-variable",
															"objectClass": "slot",
															"sid": 918507231363542,
															"parameters": {
																"instance-variable": "type",
																"comparison": 0,
																"value": "item.type"
															}
														},
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 775567244689120,
															"parameters": {
																"first-value": "Functions.canThePlayerEquipThis(item.level, item.classRestrictions)",
																"comparison": 0,
																"second-value": "FALSE"
															}
														}
													],
													"actions": [
														{
															"type": "comment",
															"text": "Only play the audio track if the item was dropped over the slot it would normally go into."
														},
														{
															"customAction": "\"I don't meet the requirements for this item.\"",
															"objectClass": "player",
															"sid": 122046128414655
														}
													],
													"sid": 302734262259861
												}
											]
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 819452010239969
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "Can't have an else condition in an OR block."
										}
									],
									"sid": 589012115814521,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "cursor-is-over-object",
													"objectClass": "mouse",
													"sid": 143217342965722,
													"parameters": {
														"object": "invalidLocation"
													}
												},
												{
													"id": "cursor-is-over-object",
													"objectClass": "mouse",
													"sid": 283074474173400,
													"parameters": {
														"object": "prop"
													}
												},
												{
													"id": "cursor-is-over-object",
													"objectClass": "mouse",
													"sid": 609127198070053,
													"parameters": {
														"object": "9PatchInvalidLocations"
													}
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "if the item was dropped on an invalid location, send the item back to the slot it came from"
												},
												{
													"customAction": "Return item",
													"objectClass": "player",
													"sid": 939557872238150
												}
											],
											"sid": 730960747189332,
											"isOrBlock": true
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 692673207200540
												},
												{
													"id": "cursor-is-over-object",
													"objectClass": "mouse",
													"sid": 164393393233569,
													"parameters": {
														"object": "background"
													}
												},
												{
													"id": "pick-all",
													"objectClass": "System",
													"sid": 164190723268839,
													"parameters": {
														"object": "slot"
													}
												},
												{
													"id": "pick-by-unique-id",
													"objectClass": "slot",
													"sid": 606953233684230,
													"parameters": {
														"unique-id": "draggedOriginSlotUID"
													}
												},
												{
													"id": "is-on-layer",
													"objectClass": "slot",
													"sid": 789640874482342,
													"parameters": {
														"layer": "merchantMenuStatue.LayerName"
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "if the item is dropped over the background, and it didn't come from the merchant menu, turn it into loot."
												},
												{
													"id": "create-object-by-name",
													"objectClass": "System",
													"sid": 633358125704660,
													"parameters": {
														"object-name": "item.simpleName & SEPARATOR & LOOT_KEYWORD",
														"layer": "background.LayerName",
														"x": "mouse.X",
														"y": "mouse.Y",
														"create-hierarchy": false,
														"template-name": "NOT_USED"
													}
												}
											],
											"sid": 131335017684878,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "pick-last-created",
															"objectClass": "System",
															"sid": 401210540621586,
															"parameters": {
																"object": "loot"
															}
														}
													],
													"actions": [
														{
															"type": "comment",
															"text": "Transfer data from the item to the loot, then destroy the item."
														},
														{
															"customAction": "Set random animation",
															"objectClass": "loot",
															"sid": 596223544120701
														},
														{
															"id": "set-instvar-value",
															"objectClass": "loot",
															"sid": 436549342660758,
															"parameters": {
																"instance-variable": "identifier",
																"value": "item.identifier"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "loot",
															"sid": 940214577653810,
															"parameters": {
																"instance-variable": "simpleName",
																"value": "item.simpleName"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "loot",
															"sid": 609318629333019,
															"parameters": {
																"instance-variable": "fullName",
																"value": "item.fullName"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "loot",
															"sid": 477524337490032,
															"parameters": {
																"instance-variable": "value",
																"value": "item.value"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "loot",
															"sid": 706705149091083,
															"parameters": {
																"instance-variable": "type",
																"value": "item.type"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "loot",
															"sid": 527832429101211,
															"parameters": {
																"instance-variable": "lore",
																"value": "item.lore"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "loot",
															"sid": 624606486964256,
															"parameters": {
																"instance-variable": "level",
																"value": "item.level"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "loot",
															"sid": 990786707769387,
															"parameters": {
																"instance-variable": "mods",
																"value": "item.mods"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "loot",
															"sid": 222537070982038,
															"parameters": {
																"instance-variable": "classRestrictions",
																"value": "item.classRestrictions"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "loot",
															"sid": 651883566374374,
															"parameters": {
																"instance-variable": "sound",
																"value": "item.sound"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "loot",
															"sid": 240008030508494,
															"parameters": {
																"instance-variable": "pickupRangeBonus",
																"value": "0"
															}
														},
														{
															"id": "destroy",
															"objectClass": "item",
															"sid": 994504075540251
														},
														{
															"customAction": "Play drop sound effect",
															"objectClass": "loot",
															"sid": 595876714683522
														}
													],
													"sid": 134994942053203
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 298877847229759
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "Prevent items from being dropped outside the window."
												},
												{
													"customAction": "Return item",
													"objectClass": "player",
													"sid": 827945859746453
												}
											],
											"sid": 327474167530248
										}
									]
								}
							]
						},
						{
							"aceType": "action",
							"aceName": "Return item",
							"objectClass": "player",
							"functionDescription": "Send a dragged item back to the slot from which it came.",
							"functionCategory": "equipment",
							"functionReturnType": "none",
							"functionCopyPicked": true,
							"functionIsAsync": false,
							"functionParameters": [],
							"eventType": "custom-ace-block",
							"conditions": [
								{
									"id": "pick-all",
									"objectClass": "System",
									"sid": 787465918318941,
									"parameters": {
										"object": "slot"
									}
								},
								{
									"id": "pick-by-unique-id",
									"objectClass": "slot",
									"sid": 570249589448245,
									"parameters": {
										"unique-id": "draggedOriginSlotUID"
									}
								}
							],
							"actions": [
								{
									"customAction": "Attach item",
									"objectClass": "player",
									"sid": 149180764142240
								}
							],
							"sid": 541577869565779
						},
						{
							"aceType": "action",
							"aceName": "Attach item",
							"objectClass": "player",
							"functionDescription": "Attach this item to this slot.",
							"functionCategory": "equipment",
							"functionReturnType": "none",
							"functionCopyPicked": true,
							"functionIsAsync": false,
							"functionParameters": [],
							"eventType": "custom-ace-block",
							"conditions": [],
							"actions": [
								{
									"id": "set-position-to-another-object",
									"objectClass": "item",
									"sid": 158202926170484,
									"parameters": {
										"object": "slot",
										"image-point-optional": "OBJECT_ORIGIN"
									}
								},
								{
									"id": "move-to-layer",
									"objectClass": "item",
									"sid": 675697653167825,
									"parameters": {
										"layer": "slot.LayerName"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "slot",
									"sid": 195113537974111,
									"parameters": {
										"instance-variable": "identifier",
										"value": "item.identifier"
									}
								},
								{
									"id": "add-child",
									"objectClass": "slot",
									"sid": 145837397070953,
									"parameters": {
										"child": "item",
										"transform-x": true,
										"transform-y": true,
										"transform-w": true,
										"transform-h": true,
										"transform-a": true,
										"transform-o": true,
										"transform-z-elevation": true,
										"transform-visibility": true,
										"destroy-with-parent": true
									}
								}
							],
							"sid": 302922924762698,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-children",
											"objectClass": "slot",
											"sid": 147510139459841,
											"parameters": {
												"child": "placeholder",
												"which": "own"
											}
										}
									],
									"actions": [
										{
											"id": "set-visible",
											"objectClass": "placeholder",
											"sid": 267256298197378,
											"parameters": {
												"visibility": "invisible"
											}
										}
									],
									"sid": 246755852770956
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-on-layer",
											"objectClass": "slot",
											"sid": 186715506536219,
											"parameters": {
												"layer": "equippedMenuStatue.LayerName"
											}
										}
									],
									"actions": [
										{
											"customAction": "Queue gear management",
											"objectClass": "player",
											"sid": 168875224548628,
											"parameters": [
												true
											]
										}
									],
									"sid": 107160803829987
								}
							]
						},
						{
							"aceType": "action",
							"aceName": "Detach item",
							"objectClass": "player",
							"functionDescription": "Detach this item from this slot.",
							"functionCategory": "equipment",
							"functionReturnType": "none",
							"functionCopyPicked": true,
							"functionIsAsync": false,
							"functionParameters": [],
							"eventType": "custom-ace-block",
							"conditions": [],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "slot",
									"sid": 655276068229647,
									"parameters": {
										"instance-variable": "identifier",
										"value": "EMPTY"
									}
								},
								{
									"id": "remove-from-parent",
									"objectClass": "item",
									"sid": 607566432773677
								}
							],
							"sid": 905479755172596,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-children",
											"objectClass": "slot",
											"sid": 626778549093226,
											"parameters": {
												"child": "placeholder",
												"which": "own"
											}
										}
									],
									"actions": [
										{
											"id": "set-visible",
											"objectClass": "placeholder",
											"sid": 516996361783413,
											"parameters": {
												"visibility": "visible"
											}
										}
									],
									"sid": 177457332830567
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-on-layer",
											"objectClass": "slot",
											"sid": 226671583758678,
											"parameters": {
												"layer": "equippedMenuStatue.LayerName"
											}
										}
									],
									"actions": [
										{
											"customAction": "Queue gear management",
											"objectClass": "player",
											"sid": 605801051121080,
											"parameters": [
												false
											]
										}
									],
									"sid": 296519767505263
								}
							]
						},
						{
							"aceType": "action",
							"aceName": "Create item",
							"objectClass": "item",
							"functionDescription": "Creates an item in the specified slot with the specified parameters.",
							"functionCategory": "creation",
							"functionReturnType": "none",
							"functionCopyPicked": true,
							"functionIsAsync": false,
							"functionParameters": [],
							"eventType": "custom-ace-block",
							"conditions": [],
							"actions": [
								{
									"id": "create-object-by-name",
									"objectClass": "System",
									"sid": 417525468816501,
									"parameters": {
										"object-name": "advancedRandom.WeightedByName(LayoutName) & SEPARATOR & ITEM_KEYWORD",
										"layer": "slot.LayerName",
										"x": "slot.X",
										"y": "slot.Y",
										"create-hierarchy": false,
										"template-name": "NOT_USED"
									}
								}
							],
							"sid": 746944252039162,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-last-created",
											"objectClass": "System",
											"sid": 155594652829314,
											"parameters": {
												"object": "item"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "item",
											"sid": 117622260695988,
											"parameters": {
												"instance-variable": "identifier",
												"value": "nextAvailableIdentifier"
											}
										},
										{
											"type": "comment",
											"text": "If we ever want to include loot on the layout, this will need to be in an 'on item create' trigger instead of here, like how it is for loot."
										},
										{
											"id": "add-to-eventvar",
											"objectClass": "System",
											"sid": 195945313781665,
											"parameters": {
												"variable": "nextAvailableIdentifier",
												"value": "IDENTIFIER_INCREMENTER"
											}
										},
										{
											"customAction": "Attach item",
											"objectClass": "player",
											"sid": 709413224454914
										},
										{
											"id": "set-instvar-value",
											"objectClass": "item",
											"sid": 574258161654315,
											"parameters": {
												"instance-variable": "simpleName",
												"value": "tokenat(item.ObjectTypeName, Functions.getColumnNumber(equipmentArray.ObjectTypeName, SIMPLE_NAME_KEYWORD), SEPARATOR)"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "item",
											"sid": 178680748272726,
											"parameters": {
												"instance-variable": "fullName",
												"value": "Functions.arrayLookup(equipmentArray.ObjectTypeName, Self.simpleName, FULL_NAME_KEYWORD)"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "item",
											"sid": 330986901941316,
											"parameters": {
												"instance-variable": "type",
												"value": "Functions.arrayLookup(equipmentArray.ObjectTypeName, Self.simpleName, TYPE_KEYWORD)"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "item",
											"sid": 653966726352314,
											"parameters": {
												"instance-variable": "lore",
												"value": "Functions.arrayLookup(equipmentArray.ObjectTypeName, Self.simpleName, LORE_KEYWORD)"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "item",
											"sid": 454661774922378,
											"parameters": {
												"instance-variable": "level",
												"value": "Functions.arrayLookup(equipmentArray.ObjectTypeName, Self.simpleName, LEVEL_KEYWORD)"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "item",
											"sid": 870394034773867,
											"parameters": {
												"instance-variable": "value",
												"value": "Functions.arrayLookup(equipmentArray.ObjectTypeName, Self.simpleName, VALUE_KEYWORD)"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "item",
											"sid": 410369788221184,
											"parameters": {
												"instance-variable": "classRestrictions",
												"value": "Functions.arrayLookup(equipmentArray.ObjectTypeName, Self.simpleName, CLASS_RESTRICTIONS_KEYWORD)"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "item",
											"sid": 670679773288921,
											"parameters": {
												"instance-variable": "sound",
												"value": "Functions.arrayLookup(equipmentArray.ObjectTypeName, Self.simpleName, SOUND_KEYWORD)"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "item",
											"sid": 710065376111345,
											"parameters": {
												"instance-variable": "mods",
												"value": "Functions.rollMods(item.simpleName, item.level)"
											}
										}
									],
									"sid": 741954876037252
								}
							]
						}
					],
					"sid": 645635025486599
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "gear",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "comment",
							"text": "Using variables and functions to clean up these events leads to bizarre timing issues that are hard to troubleshoot.",
							"text-color": [
								0.7843137254901961,
								0.7843137254901961,
								0.7843137254901961,
								1
							],
							"background-color": [
								0,
								0,
								0,
								1
							]
						},
						{
							"eventType": "comment",
							"text": "The changes in https://www.construct.net/en/make-games/releases/beta/r414 might have fixed that: \"Further improve handling of 'Wait for previous actions to complete' after function calls\"",
							"text-color": [
								0.7843137254901961,
								0.7843137254901961,
								0.7843137254901961,
								1
							],
							"background-color": [
								0,
								0,
								0.39215686274509803,
								1
							]
						},
						{
							"aceType": "action",
							"aceName": "Queue gear management",
							"objectClass": "player",
							"functionDescription": "Queue up an item to have its gear and mods managed.",
							"functionCategory": "equipment",
							"functionReturnType": "none",
							"functionCopyPicked": true,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "active",
									"type": "boolean",
									"initialValue": "true",
									"comment": "Whether or not to activate or deactivate mods for this item.",
									"sid": 129265702150614
								}
							],
							"eventType": "custom-ace-block",
							"conditions": [],
							"actions": [
								{
									"id": "push",
									"objectClass": "gearQueueArray",
									"sid": 369455109926009,
									"parameters": {
										"where": "front",
										"value": "slot.UID",
										"axis": "x"
									}
								}
							],
							"sid": 884500525687310,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 894986370218466,
											"parameters": {
												"variable": "active"
											}
										}
									],
									"actions": [
										{
											"callFunction": "manageMods",
											"sid": 295549108993008,
											"parameters": [
												true,
												"item.mods"
											]
										}
									],
									"sid": 846356999897865
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 800839395247661
										}
									],
									"actions": [
										{
											"callFunction": "manageMods",
											"sid": 771698436145257,
											"parameters": [
												false,
												"item.mods"
											]
										}
									],
									"sid": 848548123594836
								}
							]
						},
						{
							"eventType": "variable",
							"name": "allowGearManagement",
							"type": "boolean",
							"initialValue": "true",
							"comment": "Whether or not the below events are currently running.",
							"isStatic": true,
							"isConstant": false,
							"sid": 925621554027701
						},
						{
							"eventType": "variable",
							"name": "GEAR_KEYWORD",
							"type": "string",
							"initialValue": "gear",
							"comment": "Used for spawning gear.",
							"isStatic": false,
							"isConstant": true,
							"sid": 523909295979195
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-unique-id",
									"objectClass": "slot",
									"sid": 151201709143485,
									"parameters": {
										"unique-id": "gearQueueArray.Back"
									}
								},
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 732243934327391,
									"parameters": {
										"variable": "allowGearManagement"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 578216793122315,
									"parameters": {
										"variable": "allowGearManagement",
										"value": "false"
									}
								},
								{
									"id": "pop",
									"objectClass": "gearQueueArray",
									"sid": 810792965075179,
									"parameters": {
										"where": "back",
										"axis": "x"
									}
								}
							],
							"sid": 701337323720421,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "item",
											"sid": 324802276728975,
											"parameters": {
												"instance-variable": "identifier",
												"comparison": 0,
												"value": "slot.identifier"
											}
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "if there's an item in this slot, spawn its gear"
										},
										{
											"id": "load-object-images-by-name",
											"objectClass": "System",
											"sid": 329462170784525,
											"parameters": {
												"object": "body.ObjectTypeName & SEPARATOR & item.simpleName & SEPARATOR & GEAR_KEYWORD"
											}
										},
										{
											"id": "wait-for-previous-actions",
											"objectClass": "System",
											"sid": 133325860735263
										},
										{
											"id": "create-object-by-name",
											"objectClass": "System",
											"sid": 157008153480853,
											"parameters": {
												"object-name": "body.ObjectTypeName & SEPARATOR & item.simpleName & SEPARATOR & GEAR_KEYWORD",
												"layer": "body.LayerName",
												"x": "player.X",
												"y": "player.Y",
												"create-hierarchy": false,
												"template-name": "NOT_USED"
											}
										}
									],
									"sid": 546677173220756,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-last-created",
													"objectClass": "System",
													"sid": 417520329182408,
													"parameters": {
														"object": "gear"
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "gear",
													"sid": 758489405623660,
													"parameters": {
														"instance-variable": "type",
														"value": "slot.type"
													}
												},
												{
													"id": "add-child",
													"objectClass": "body",
													"sid": 514856245612226,
													"parameters": {
														"child": "gear",
														"transform-x": true,
														"transform-y": true,
														"transform-w": false,
														"transform-h": false,
														"transform-a": true,
														"transform-o": true,
														"transform-z-elevation": true,
														"transform-visibility": true,
														"destroy-with-parent": true
													}
												}
											],
											"sid": 232582795396905
										},
										{
											"eventType": "variable",
											"name": "EQUIP_KEYWORD",
											"type": "string",
											"initialValue": "Equip",
											"comment": "Used for equip sound effects.",
											"isStatic": false,
											"isConstant": true,
											"sid": 645632124645606
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-tag-playing",
													"objectClass": "audio",
													"sid": 665817113825859,
													"parameters": {
														"tag": "item.sound & EQUIP_KEYWORD"
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"id": "play-at-object-by-name",
													"objectClass": "audio",
													"sid": 714940380171545,
													"parameters": {
														"folder": "sounds",
														"audio-file-name": "Functions.soundEffectName(item.sound & EQUIP_KEYWORD)",
														"loop": "not-looping",
														"volume": "soundEffectsVolume",
														"object": "player",
														"inner-angle": "NON_DIRECTIONAL_INNER_ANGLE",
														"outer-angle": "NON_DIRECTIONAL_OUTER_ANGLE",
														"outer-gain": "NON_DIRECTIONAL_OUTER_GAIN",
														"tag-optional": "item.sound & EQUIP_KEYWORD"
													}
												}
											],
											"sid": 353334637416312
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "gear",
													"sid": 269751851828846,
													"parameters": {
														"instance-variable": "type",
														"comparison": 0,
														"value": "slot.type"
													}
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "This won't destroy the gear that was just created. Only gear(s) that pertained to this slot beforehand get destroyed."
												},
												{
													"id": "destroy",
													"objectClass": "gear",
													"sid": 490579754262484
												},
												{
													"id": "wait",
													"objectClass": "System",
													"sid": 940584177632114,
													"parameters": {
														"seconds": "END_OF_TICK",
														"use-timescale": true
													}
												},
												{
													"id": "wait-for-previous-actions",
													"objectClass": "System",
													"sid": 565925561607643
												},
												{
													"id": "unload-object-images",
													"objectClass": "System",
													"sid": 293283187130566,
													"parameters": {
														"object": "gear"
													}
												},
												{
													"id": "set-boolean-eventvar",
													"objectClass": "System",
													"sid": 960151300312722,
													"parameters": {
														"variable": "allowGearManagement",
														"value": "true"
													}
												}
											],
											"sid": 327547775356116
										},
										{
											"eventType": "comment",
											"text": "We are playing the equip noise for the item that just got equipped right now, so we don't need to play an unequip noise."
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 631498319308368
												}
											],
											"actions": [
												{
													"id": "set-boolean-eventvar",
													"objectClass": "System",
													"sid": 424095786786034,
													"parameters": {
														"variable": "allowGearManagement",
														"value": "true"
													}
												}
											],
											"sid": 291917537478887
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 784638280342671
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "If there's no item in this slot..."
										}
									],
									"sid": 989859722530036,
									"children": [
										{
											"eventType": "variable",
											"name": "CHEST_KEYWORD",
											"type": "string",
											"initialValue": "chest",
											"comment": "Used for default gear conditions.",
											"isStatic": false,
											"isConstant": true,
											"sid": 512821015256247
										},
										{
											"eventType": "variable",
											"name": "LEGS_KEYWORD",
											"type": "string",
											"initialValue": "legs",
											"comment": "Used for default gear conditions.",
											"isStatic": false,
											"isConstant": true,
											"sid": 558161881532671
										},
										{
											"eventType": "variable",
											"name": "HEAD_KEYWORD",
											"type": "string",
											"initialValue": "head",
											"comment": "Used for default gear conditions.",
											"isStatic": false,
											"isConstant": true,
											"sid": 254876546489140
										},
										{
											"eventType": "variable",
											"name": "DEFAULT_KEYWORD",
											"type": "string",
											"initialValue": "Default",
											"comment": "Used for default gear conditions.",
											"isStatic": false,
											"isConstant": true,
											"sid": 461829894252292
										},
										{
											"eventType": "variable",
											"name": "UNEQUIP_KEYWORD",
											"type": "string",
											"initialValue": "unequip",
											"comment": "Used for the unequip sound effect name.",
											"isStatic": false,
											"isConstant": true,
											"sid": 942230916153490
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "evaluate-expression",
													"objectClass": "System",
													"sid": 934935448185004,
													"parameters": {
														"value": "slot.type = CHEST_KEYWORD & player.isFemale"
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "slot",
													"sid": 433227238925099,
													"parameters": {
														"instance-variable": "type",
														"comparison": 0,
														"value": "LEGS_KEYWORD"
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "slot",
													"sid": 358424977441152,
													"parameters": {
														"instance-variable": "type",
														"comparison": 0,
														"value": "HEAD_KEYWORD"
													}
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "...and the slot is chest and the player is one of the female classes, or legs or head, (the slots that have default gear), load the default gear."
												},
												{
													"id": "load-object-images-by-name",
													"objectClass": "System",
													"sid": 358287311138471,
													"parameters": {
														"object": "body.ObjectTypeName & SEPARATOR & slot.type & DEFAULT_KEYWORD & SEPARATOR & GEAR_KEYWORD"
													}
												},
												{
													"id": "wait-for-previous-actions",
													"objectClass": "System",
													"sid": 417345207782363
												},
												{
													"id": "create-object-by-name",
													"objectClass": "System",
													"sid": 118639843095987,
													"parameters": {
														"object-name": "body.ObjectTypeName & SEPARATOR & slot.type & DEFAULT_KEYWORD & SEPARATOR & GEAR_KEYWORD",
														"layer": "body.LayerName",
														"x": "player.X",
														"y": "player.Y",
														"create-hierarchy": false,
														"template-name": "NOT_USED"
													}
												}
											],
											"sid": 749400924663849,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "pick-last-created",
															"objectClass": "System",
															"sid": 949815511554775,
															"parameters": {
																"object": "gear"
															}
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "gear",
															"sid": 928945733462840,
															"parameters": {
																"instance-variable": "type",
																"value": "slot.type"
															}
														},
														{
															"id": "add-child",
															"objectClass": "body",
															"sid": 470891141814071,
															"parameters": {
																"child": "gear",
																"transform-x": true,
																"transform-y": true,
																"transform-w": false,
																"transform-h": false,
																"transform-a": true,
																"transform-o": true,
																"transform-z-elevation": true,
																"transform-visibility": true,
																"destroy-with-parent": true
															}
														}
													],
													"sid": 883709877144829
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-instance-variable",
															"objectClass": "gear",
															"sid": 552888699854597,
															"parameters": {
																"instance-variable": "type",
																"comparison": 0,
																"value": "slot.type"
															}
														}
													],
													"actions": [
														{
															"type": "comment",
															"text": "...destroy the (non-default) gear that was affiliated with this slot. This won't destroy the default gear that was just created."
														}
													],
													"sid": 622605866580318,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "is-tag-playing",
																	"objectClass": "audio",
																	"sid": 221773087770855,
																	"parameters": {
																		"tag": "UNEQUIP_KEYWORD"
																	},
																	"isInverted": true
																}
															],
															"actions": [
																{
																	"type": "comment",
																	"text": "weird positioning because we only want the unequip audio to play if it isn't playing already, and only if non-default gear is getting destroyed, but we don't need to wait until it's unloaded from memory to play this."
																},
																{
																	"id": "play-at-object-by-name",
																	"objectClass": "audio",
																	"sid": 760289300614980,
																	"parameters": {
																		"folder": "sounds",
																		"audio-file-name": "Functions.soundEffectName(UNEQUIP_KEYWORD)",
																		"loop": "not-looping",
																		"volume": "soundEffectsVolume",
																		"object": "player",
																		"inner-angle": "NON_DIRECTIONAL_INNER_ANGLE",
																		"outer-angle": "NON_DIRECTIONAL_OUTER_ANGLE",
																		"outer-gain": "NON_DIRECTIONAL_OUTER_GAIN",
																		"tag-optional": "NOT_USED"
																	}
																}
															],
															"sid": 477457434428723
														},
														{
															"eventType": "block",
															"conditions": [],
															"actions": [
																{
																	"id": "destroy",
																	"objectClass": "gear",
																	"sid": 731770334202317
																},
																{
																	"id": "wait",
																	"objectClass": "System",
																	"sid": 782401797582376,
																	"parameters": {
																		"seconds": "END_OF_TICK",
																		"use-timescale": true
																	}
																},
																{
																	"id": "wait-for-previous-actions",
																	"objectClass": "System",
																	"sid": 725515237960752
																},
																{
																	"id": "unload-object-images",
																	"objectClass": "System",
																	"sid": 332528951421909,
																	"parameters": {
																		"object": "gear"
																	}
																},
																{
																	"id": "set-boolean-eventvar",
																	"objectClass": "System",
																	"sid": 504434520995583,
																	"parameters": {
																		"variable": "allowGearManagement",
																		"value": "true"
																	}
																}
															],
															"sid": 571661860624005
														}
													]
												}
											],
											"isOrBlock": true
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 271838665518264
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "gear",
													"sid": 452523537859525,
													"parameters": {
														"instance-variable": "type",
														"comparison": 0,
														"value": "slot.type"
													}
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "If there's no default gear for this slot, just destroy the gear and then we're done."
												}
											],
											"sid": 549938953636278,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-tag-playing",
															"objectClass": "audio",
															"sid": 321923431124791,
															"parameters": {
																"tag": "UNEQUIP_KEYWORD"
															},
															"isInverted": true
														}
													],
													"actions": [
														{
															"id": "play-at-object-by-name",
															"objectClass": "audio",
															"sid": 101582021976698,
															"parameters": {
																"folder": "sounds",
																"audio-file-name": "Functions.soundEffectName(UNEQUIP_KEYWORD)",
																"loop": "not-looping",
																"volume": "soundEffectsVolume",
																"object": "body",
																"inner-angle": "NON_DIRECTIONAL_INNER_ANGLE",
																"outer-angle": "NON_DIRECTIONAL_OUTER_ANGLE",
																"outer-gain": "NON_DIRECTIONAL_OUTER_GAIN",
																"tag-optional": "NOT_USED"
															}
														}
													],
													"sid": 844672912598669
												},
												{
													"eventType": "block",
													"conditions": [],
													"actions": [
														{
															"id": "destroy",
															"objectClass": "gear",
															"sid": 463226392186588
														},
														{
															"id": "wait",
															"objectClass": "System",
															"sid": 786894593534729,
															"parameters": {
																"seconds": "END_OF_TICK",
																"use-timescale": true
															}
														},
														{
															"id": "wait-for-previous-actions",
															"objectClass": "System",
															"sid": 612226921109791
														},
														{
															"id": "unload-object-images",
															"objectClass": "System",
															"sid": 964096055563955,
															"parameters": {
																"object": "gear"
															}
														},
														{
															"id": "set-boolean-eventvar",
															"objectClass": "System",
															"sid": 770412536453276,
															"parameters": {
																"variable": "allowGearManagement",
																"value": "true"
															}
														}
													],
													"sid": 806771972298266
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 752879802731640
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "If there was no gear to destroy, the item was (probably?) unequipped before its gear could load. We don't need to do anything, except allow gear management again."
												},
												{
													"id": "set-boolean-eventvar",
													"objectClass": "System",
													"sid": 790696970643658,
													"parameters": {
														"variable": "allowGearManagement",
														"value": "true"
													}
												}
											],
											"sid": 734496488012300
										}
									]
								}
							]
						}
					],
					"sid": 976456797084060
				}
			],
			"sid": 156017693834822
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "isometry",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Event order here is very important.",
					"text-color": [
						0.7843137254901961,
						0.7843137254901961,
						0.7843137254901961,
						1
					],
					"background-color": [
						0,
						0,
						0,
						1
					]
				},
				{
					"functionName": "isometrify",
					"functionDescription": "Modify a value based on an angle, to make it isometrically correct.",
					"functionCategory": "isometry",
					"functionReturnType": "number",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "value",
							"type": "number",
							"initialValue": "0",
							"comment": "The value, which will be modified by the specified angle.",
							"sid": 686725352825470
						},
						{
							"name": "theAngle",
							"type": "number",
							"initialValue": "0",
							"comment": "The angle, which will be used to modify the specified value.",
							"sid": 539771032584735
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 700983687129705,
					"children": [
						{
							"eventType": "variable",
							"name": "CAMERA_ANGLE",
							"type": "number",
							"initialValue": "0.5",
							"comment": "The camera angle, on a scale of 0 to 1.",
							"isStatic": false,
							"isConstant": true,
							"sid": 332361668066869
						},
						{
							"eventType": "variable",
							"name": "MAX_ANGLE",
							"type": "number",
							"initialValue": "1",
							"comment": "The highest possible camera angle.",
							"isStatic": false,
							"isConstant": true,
							"sid": 835662964205830
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-function-return-value",
									"objectClass": "Functions",
									"sid": 302984214027313,
									"parameters": {
										"value": "value * lerp(CAMERA_ANGLE, MAX_ANGLE, abs(abs(theAngle) - QUARTER_CIRCLE) / QUARTER_CIRCLE)"
									}
								}
							],
							"sid": 860549200095427
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-on-screen",
							"objectClass": "sortable",
							"sid": 365385957978388
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "sortable",
							"sid": 337150276514592,
							"parameters": {
								"instance-variable": "yValue",
								"value": "Self.Y"
							}
						},
						{
							"id": "sort-z-order",
							"objectClass": "System",
							"sid": 480855599480174,
							"parameters": {
								"object": "sortable",
								"instance-variable": {
									"name": "yValue",
									"objectClass": "sortable"
								}
							}
						}
					],
					"sid": 868041002995505
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-on-layer",
							"objectClass": "loot",
							"sid": 450370705476650,
							"parameters": {
								"layer": "body.LayerName"
							}
						},
						{
							"id": "pick-parent",
							"objectClass": "loot",
							"sid": 830738639695161,
							"parameters": {
								"parent": "prop",
								"which": "own"
							}
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "loot with a parent prop needs to always be in front of that prop."
						},
						{
							"id": "move-to-object",
							"objectClass": "loot",
							"sid": 220340964144110,
							"parameters": {
								"where": "in-front",
								"object": "prop"
							}
						}
					],
					"sid": 489056358912797
				},
				{
					"eventType": "comment",
					"text": "If the player is facing right, put the mainHand gear on top of the sort stack, and offHand on the bottom. If they're facing left, do the opposite."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "player",
							"sid": 528389046577530,
							"parameters": {
								"instance-variable": "degrees",
								"comparison": 5,
								"value": "-QUARTER_CIRCLE"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "player",
							"sid": 919256770767209,
							"parameters": {
								"instance-variable": "degrees",
								"comparison": 3,
								"value": "QUARTER_CIRCLE"
							}
						}
					],
					"actions": [
						{
							"id": "move-to-object",
							"objectClass": "mainHand",
							"sid": 212951774401333,
							"parameters": {
								"where": "in-front",
								"object": "body"
							}
						},
						{
							"id": "move-to-object",
							"objectClass": "head",
							"sid": 621825329122247,
							"parameters": {
								"where": "in-front",
								"object": "body"
							}
						},
						{
							"id": "move-to-object",
							"objectClass": "chest",
							"sid": 943847429441738,
							"parameters": {
								"where": "in-front",
								"object": "body"
							}
						},
						{
							"id": "move-to-object",
							"objectClass": "feet",
							"sid": 547026136624748,
							"parameters": {
								"where": "in-front",
								"object": "body"
							}
						},
						{
							"id": "move-to-object",
							"objectClass": "legs",
							"sid": 168258672615670,
							"parameters": {
								"where": "in-front",
								"object": "body"
							}
						},
						{
							"id": "move-to-object",
							"objectClass": "hands",
							"sid": 602060603142604,
							"parameters": {
								"where": "in-front",
								"object": "body"
							}
						},
						{
							"id": "move-to-object",
							"objectClass": "offHand",
							"sid": 560307330088224,
							"parameters": {
								"where": "in-front",
								"object": "body"
							}
						}
					],
					"sid": 617000623508816
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 201757065599863
						}
					],
					"actions": [
						{
							"id": "move-to-object",
							"objectClass": "offHand",
							"sid": 766642363959326,
							"parameters": {
								"where": "in-front",
								"object": "body"
							}
						},
						{
							"id": "move-to-object",
							"objectClass": "head",
							"sid": 289048584224439,
							"parameters": {
								"where": "in-front",
								"object": "body"
							}
						},
						{
							"id": "move-to-object",
							"objectClass": "chest",
							"sid": 429459159755324,
							"parameters": {
								"where": "in-front",
								"object": "body"
							}
						},
						{
							"id": "move-to-object",
							"objectClass": "feet",
							"sid": 890306783449663,
							"parameters": {
								"where": "in-front",
								"object": "body"
							}
						},
						{
							"id": "move-to-object",
							"objectClass": "legs",
							"sid": 499367479615170,
							"parameters": {
								"where": "in-front",
								"object": "body"
							}
						},
						{
							"id": "move-to-object",
							"objectClass": "hands",
							"sid": 242612373823006,
							"parameters": {
								"where": "in-front",
								"object": "body"
							}
						},
						{
							"id": "move-to-object",
							"objectClass": "mainHand",
							"sid": 117287480558915,
							"parameters": {
								"where": "in-front",
								"object": "body"
							}
						}
					],
					"sid": 596387861790130
				}
			],
			"sid": 937100591006447
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "player",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "We have lots of variables, like 'uidOfClicked', that should be scoped down onto the player.",
					"text-color": [
						0.7843137254901961,
						0.7843137254901961,
						0.7843137254901961,
						1
					],
					"background-color": [
						0,
						0,
						0.39215686274509803,
						1
					]
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "levels",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "variable",
							"name": "EXPERIENCE_THRESHOLD_MULTIPLIER",
							"type": "number",
							"initialValue": "100",
							"comment": "The number by which the player's level is multiplied to determine the experience threshold.",
							"isStatic": false,
							"isConstant": true,
							"sid": 143807469711264
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "player",
									"sid": 691392649170613,
									"parameters": {
										"instance-variable": "experience",
										"comparison": 5,
										"value": "Self.level * EXPERIENCE_THRESHOLD_MULTIPLIER"
									}
								}
							],
							"actions": [
								{
									"customAction": "Level up",
									"objectClass": "player",
									"sid": 547141847667698
								}
							],
							"sid": 722175130594305
						},
						{
							"eventType": "variable",
							"name": "LEVEL_INCREMENTER",
							"type": "number",
							"initialValue": "1",
							"comment": "How many levels to go up when the experience threshold is reached.",
							"isStatic": false,
							"isConstant": true,
							"sid": 792452581919563
						},
						{
							"aceType": "action",
							"aceName": "Level up",
							"objectClass": "player",
							"functionDescription": "Level up the player.",
							"functionCategory": "stats",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [],
							"eventType": "custom-ace-block",
							"conditions": [],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "player",
									"sid": 784595259849673,
									"parameters": {
										"instance-variable": "experience",
										"value": "THRESHOLD"
									}
								},
								{
									"id": "add-to-instvar",
									"objectClass": "player",
									"sid": 841054573608136,
									"parameters": {
										"instance-variable": "level",
										"value": "LEVEL_INCREMENTER"
									}
								},
								{
									"type": "comment",
									"text": "It would be too much technical overhead to update to the ability selector while it's open, so just close it when the player levels up. It'll be pretty hard to level up with it open, anyways.",
									"text-color": [
										0.7843137254901961,
										0.7843137254901961,
										0.7843137254901961,
										1
									],
									"background-color": [
										0.39215686274509803,
										0,
										0,
										1
									]
								},
								{
									"callFunction": "Close layer",
									"sid": 679013615265140,
									"parameters": [
										"abilitySelectorStatue.LayerName"
									]
								}
							],
							"sid": 912459294920899,
							"children": [
								{
									"eventType": "variable",
									"name": "OFFSET",
									"type": "number",
									"initialValue": "1",
									"comment": "Used to offset the player's level when looking up an ability.",
									"isStatic": false,
									"isConstant": true,
									"sid": 707115087334851
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "abilitySlot",
											"sid": 321037120066696,
											"parameters": {
												"instance-variable": "unlockLevel",
												"comparison": 0,
												"value": "player.level"
											}
										},
										{
											"id": "pick-children",
											"objectClass": "abilitySlot",
											"sid": 421783378638870,
											"parameters": {
												"child": "ability",
												"which": "own"
											}
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "ability",
											"sid": 578213082397273,
											"parameters": {
												"animation": "abilitiesArray.At(Functions.getColumnNumber(abilitiesArray.ObjectTypeName, SIMPLE_NAME_KEYWORD), player.level - OFFSET)",
												"from": "beginning"
											}
										}
									],
									"sid": 876303180927859
								}
							]
						}
					],
					"sid": 221630090189973
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "facings",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 999837993442947,
									"parameters": {
										"value": "Functions.isPlayerAlive"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "player",
									"sid": 183390975620755,
									"parameters": {
										"instance-variable": "degrees",
										"value": "Functions.getDegrees(Self.MoveTo.MovingAngle)"
									}
								}
							],
							"sid": 774150289546542
						},
						{
							"aceType": "action",
							"aceName": "updateFacing",
							"objectClass": "player",
							"functionDescription": "Update the facing of the player.",
							"functionCategory": "visuals",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "x",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"sid": 784754355034413
								},
								{
									"name": "y",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"sid": 670044009285519
								}
							],
							"eventType": "custom-ace-block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 594002016095359,
									"parameters": {
										"first-value": "timescale",
										"comparison": 1,
										"second-value": "PAUSED"
									}
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 625013496059521,
									"parameters": {
										"variable": "x",
										"comparison": 1,
										"value": "-1"
									}
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 601241808385698,
									"parameters": {
										"variable": "y",
										"comparison": 1,
										"value": "-1"
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "This is a custom action so it can be called in the middle of a player ability function."
								},
								{
									"id": "set-moving-angle",
									"objectClass": "player",
									"sid": 512636239136789,
									"behaviorType": "MoveTo",
									"parameters": {
										"angle": "angle(Self.X, Self.Y, x, y)"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "player",
									"sid": 843195904351138,
									"parameters": {
										"instance-variable": "degrees",
										"value": "Functions.getDegrees(Self.MoveTo.MovingAngle)"
									}
								}
							],
							"sid": 343392208126680
						}
					],
					"sid": 528071924570554
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "health and mana",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "every-tick",
									"objectClass": "System",
									"sid": 413143904177773
								}
							],
							"actions": [
								{
									"id": "set-height",
									"objectClass": "healthOrb",
									"sid": 297619754412292,
									"parameters": {
										"height": "clamp(player.currentHealth / player.maxHealth * self.ImageHeight, THRESHOLD, Self.ImageHeight)"
									}
								},
								{
									"id": "set-height",
									"objectClass": "manaOrb",
									"sid": 488036836143048,
									"parameters": {
										"height": "clamp(player.currentMana / player.maxMana * Self.ImageHeight, THRESHOLD, Self.ImageHeight)"
									}
								}
							],
							"sid": 154905051816206
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "player",
									"sid": 930777219360607,
									"parameters": {
										"instance-variable": "currentHealth",
										"comparison": 4,
										"value": "player.maxHealth"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "player",
									"sid": 240277984047807,
									"parameters": {
										"instance-variable": "currentHealth",
										"comparison": 2,
										"value": "THRESHOLD"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "player",
									"sid": 872334710201972,
									"parameters": {
										"instance-variable": "currentHealth",
										"value": "clamp(Self.currentHealth, THRESHOLD, Self.maxHealth)"
									}
								}
							],
							"sid": 626822929654135,
							"isOrBlock": true
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "player",
									"sid": 927297459158316,
									"parameters": {
										"instance-variable": "currentMana",
										"comparison": 4,
										"value": "player.maxMana"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "player",
									"sid": 215375672900662,
									"parameters": {
										"instance-variable": "currentMana",
										"comparison": 2,
										"value": "THRESHOLD"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "player",
									"sid": 529653189069664,
									"parameters": {
										"instance-variable": "currentMana",
										"value": "clamp(Self.currentMana, THRESHOLD, Self.maxMana)"
									}
								}
							],
							"sid": 596737171205302,
							"isOrBlock": true
						},
						{
							"eventType": "variable",
							"name": "REGEN_SPEED",
							"type": "number",
							"initialValue": "1",
							"comment": "How often the player regenerates health and mana, in seconds.",
							"isStatic": false,
							"isConstant": true,
							"sid": 311716084172418
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 989508834801699,
									"parameters": {
										"value": "Functions.isPlayerAlive"
									}
								},
								{
									"id": "every-x-seconds",
									"objectClass": "System",
									"sid": 251701305958974,
									"parameters": {
										"interval-seconds": "REGEN_SPEED"
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "Regenerate health and mana while not at the maximum values, only while alive."
								}
							],
							"sid": 257908268855159,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "player",
											"sid": 227461622060153,
											"parameters": {
												"instance-variable": "currentHealth",
												"comparison": 2,
												"value": "Self.maxHealth"
											}
										}
									],
									"actions": [
										{
											"id": "add-to-instvar",
											"objectClass": "player",
											"sid": 680192376169141,
											"parameters": {
												"instance-variable": "currentHealth",
												"value": "Self.healthRegen"
											}
										}
									],
									"sid": 702126267068577
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "player",
											"sid": 995008637185060,
											"parameters": {
												"instance-variable": "currentMana",
												"comparison": 2,
												"value": "Self.maxMana"
											}
										}
									],
									"actions": [
										{
											"id": "add-to-instvar",
											"objectClass": "player",
											"sid": 831745432658274,
											"parameters": {
												"instance-variable": "currentMana",
												"value": "Self.ManaRegen"
											}
										}
									],
									"sid": 162428372958565
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 162999275165245,
									"parameters": {
										"value": "Functions.isPlayerAlive"
									},
									"isInverted": true
								},
								{
									"id": "trigger-once-while-true",
									"objectClass": "System",
									"sid": 428474450953551
								}
							],
							"actions": [
								{
									"id": "play-at-object-by-name",
									"objectClass": "audio",
									"sid": 432416264151996,
									"parameters": {
										"folder": "sounds",
										"audio-file-name": "Functions.soundEffectName(body.ObjectTypeName & SEPARATOR & DIE_KEYWORD)",
										"loop": "not-looping",
										"volume": "soundEffectsVolume",
										"object": "body",
										"inner-angle": "NON_DIRECTIONAL_INNER_ANGLE",
										"outer-angle": "NON_DIRECTIONAL_OUTER_ANGLE",
										"outer-gain": "NON_DIRECTIONAL_OUTER_GAIN",
										"tag-optional": "NOT_USED"
									}
								},
								{
									"customAction": "Update animation",
									"objectClass": "player",
									"sid": 122965433583363,
									"parameters": [
										"DIE_KEYWORD",
										"body.OriginalAnimationSpeed",
										true
									]
								},
								{
									"customAction": "Remove player control",
									"objectClass": "player",
									"sid": 279793018038571
								},
								{
									"customAction": "Destroy projectiles",
									"objectClass": "player",
									"sid": 798665859808771
								}
							],
							"sid": 631777258825799
						},
						{
							"functionName": "isPlayerAlive",
							"functionDescription": "Whether or not the player is alive.",
							"functionCategory": "player",
							"functionReturnType": "number",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [],
							"eventType": "function-block",
							"conditions": [],
							"actions": [
								{
									"id": "set-function-return-value",
									"objectClass": "Functions",
									"sid": 639155477596857,
									"parameters": {
										"value": "player.currentHealth > THRESHOLD"
									}
								}
							],
							"sid": 991268001123416
						}
					],
					"sid": 382578483115015
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "movement and interaction",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 822686522624681,
									"parameters": {
										"value": "Functions.isPlayerAlive"
									}
								}
							],
							"actions": [
								{
									"id": "set-max-speed",
									"objectClass": "player",
									"sid": 256885482061283,
									"behaviorType": "MoveTo",
									"parameters": {
										"max-speed": "Functions.isometrify(Self.movementSpeed, Self.MoveTo.MovingAngle)"
									}
								}
							],
							"sid": 245583672645296,
							"children": [
								{
									"eventType": "variable",
									"name": "STOP_MOVING_KEYWORD",
									"type": "string",
									"initialValue": "stopMoving",
									"comment": "The target flog for the keybinder to stop moving.",
									"isStatic": false,
									"isConstant": true,
									"sid": 728199444725996
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "keybinder",
											"sid": 277484064679610,
											"parameters": {
												"instance-variable": "target",
												"comparison": 0,
												"value": "STOP_MOVING_KEYWORD"
											}
										},
										{
											"id": "key-code-is-down",
											"objectClass": "keyboard",
											"sid": 583237248847686,
											"parameters": {
												"keycode": "keybinder.keycode"
											}
										}
									],
									"actions": [
										{
											"id": "reset-eventvar",
											"objectClass": "System",
											"sid": 101669739479310,
											"parameters": {
												"variable": "uidOfClicked"
											}
										},
										{
											"id": "stop",
											"objectClass": "player",
											"sid": 193539420659015,
											"behaviorType": "MoveTo"
										}
									],
									"sid": 368768864328551,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "on-click",
													"objectClass": "mouse",
													"sid": 531510230777833,
													"parameters": {
														"mouse-button": "left",
														"click-type": "clicked"
													}
												}
											],
											"actions": [
												{
													"customAction": "basicAttack",
													"objectClass": "player",
													"sid": 900226974183697,
													"parameters": [
														"mouse.X",
														"mouse.Y"
													]
												}
											],
											"sid": 893251418038432
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 120982026255155,
											"parameters": {
												"variable": "isOnInteractCooldown"
											}
										},
										{
											"id": "trigger-once-while-true",
											"objectClass": "System",
											"sid": 585721311405905
										}
									],
									"actions": [
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 944013668078549,
											"parameters": {
												"seconds": "INTERACT_COOLDOWN",
												"use-timescale": true
											}
										},
										{
											"id": "set-boolean-eventvar",
											"objectClass": "System",
											"sid": 625124061650027,
											"parameters": {
												"variable": "isOnInteractCooldown",
												"value": "false"
											}
										}
									],
									"sid": 406589245541801
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 725631430475834,
											"parameters": {
												"value": "Functions.isAnimationPlaying(WALK_KEYWORD)"
											}
										}
									],
									"actions": [],
									"sid": 411372396119511,
									"children": [
										{
											"eventType": "comment",
											"text": "TODO: See enemy footstep sound effect events.",
											"text-color": [
												0,
												0,
												0,
												1
											],
											"background-color": [
												1,
												1,
												0,
												1
											]
										},
										{
											"eventType": "variable",
											"name": "LEFT_FOOTSTEP_FRAME",
											"type": "number",
											"initialValue": "10",
											"comment": "The frame in which the left footstep touches the ground.",
											"isStatic": false,
											"isConstant": true,
											"sid": 368399404963602
										},
										{
											"eventType": "variable",
											"name": "RIGHT_FOOTSTEP_FRAME",
											"type": "number",
											"initialValue": "25",
											"comment": "The frame in which the right footstep touches the ground.",
											"isStatic": false,
											"isConstant": true,
											"sid": 996920455379927
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-animation-frame",
													"objectClass": "body",
													"sid": 133567821744743,
													"parameters": {
														"comparison": 0,
														"number": "LEFT_FOOTSTEP_FRAME"
													}
												},
												{
													"id": "trigger-once-while-true",
													"objectClass": "System",
													"sid": 289895318177335
												}
											],
											"actions": [
												{
													"id": "play-at-object-by-name",
													"objectClass": "audio",
													"sid": 768445968488498,
													"parameters": {
														"folder": "sounds",
														"audio-file-name": "Functions.soundEffectName(background.ObjectTypeName & FOOTSTEP_KEYWORD)",
														"loop": "not-looping",
														"volume": "soundEffectsVolume",
														"object": "body",
														"inner-angle": "NON_DIRECTIONAL_INNER_ANGLE",
														"outer-angle": "NON_DIRECTIONAL_OUTER_ANGLE",
														"outer-gain": "NON_DIRECTIONAL_OUTER_GAIN",
														"tag-optional": "NOT_USED"
													}
												}
											],
											"sid": 462888090850680
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-animation-frame",
													"objectClass": "body",
													"sid": 120397977850155,
													"parameters": {
														"comparison": 0,
														"number": "RIGHT_FOOTSTEP_FRAME"
													}
												},
												{
													"id": "trigger-once-while-true",
													"objectClass": "System",
													"sid": 402546216458844
												}
											],
											"actions": [
												{
													"id": "play-at-object-by-name",
													"objectClass": "audio",
													"sid": 742259046534783,
													"parameters": {
														"folder": "sounds",
														"audio-file-name": "Functions.soundEffectName(background.ObjectTypeName & FOOTSTEP_KEYWORD)",
														"loop": "not-looping",
														"volume": "soundEffectsVolume",
														"object": "body",
														"inner-angle": "NON_DIRECTIONAL_INNER_ANGLE",
														"outer-angle": "NON_DIRECTIONAL_OUTER_ANGLE",
														"outer-gain": "NON_DIRECTIONAL_OUTER_GAIN",
														"tag-optional": "NOT_USED"
													}
												}
											],
											"sid": 567136850851248
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "layer-is-visible",
											"objectClass": "System",
											"sid": 191356328749366,
											"parameters": {
												"layer": "settingsMenuStatue.LayerName"
											},
											"isInverted": true
										},
										{
											"id": "cursor-is-over-object",
											"objectClass": "mouse",
											"sid": 873512385869713,
											"parameters": {
												"object": "slot"
											},
											"isInverted": true
										},
										{
											"id": "cursor-is-over-object",
											"objectClass": "mouse",
											"sid": 536179115130859,
											"parameters": {
												"object": "item"
											},
											"isInverted": true
										},
										{
											"id": "cursor-is-over-object",
											"objectClass": "mouse",
											"sid": 876584298511895,
											"parameters": {
												"object": "invalidLocation"
											},
											"isInverted": true
										},
										{
											"id": "cursor-is-over-object",
											"objectClass": "mouse",
											"sid": 886180726251542,
											"parameters": {
												"object": "9PatchInvalidLocations"
											},
											"isInverted": true
										},
										{
											"id": "cursor-is-over-object",
											"objectClass": "mouse",
											"sid": 752194359354038,
											"parameters": {
												"object": "portrait"
											},
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 596268564767458,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "on-object-clicked",
													"objectClass": "mouse",
													"sid": 581983855282056,
													"parameters": {
														"mouse-button": "left",
														"click-type": "clicked",
														"object-clicked": "npcBody"
													}
												},
												{
													"id": "pick-parent",
													"objectClass": "npcBody",
													"sid": 500343006491042,
													"parameters": {
														"parent": "npc",
														"which": "own"
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "player",
													"sid": 218676865060788,
													"parameters": {
														"instance-variable": "talkingToNpc",
														"comparison": 1,
														"value": "npc.simpleName"
													}
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 981260177954875,
													"parameters": {
														"variable": "uidOfClicked",
														"value": "npc.UID"
													}
												},
												{
													"customAction": "Move to location",
													"objectClass": "player",
													"sid": 703019230666960,
													"parameters": [
														"npc.X",
														"npc.Y"
													]
												}
											],
											"sid": 746307798420541
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "on-object-clicked",
													"objectClass": "mouse",
													"sid": 763879713843625,
													"parameters": {
														"mouse-button": "left",
														"click-type": "clicked",
														"object-clicked": "loot"
													}
												},
												{
													"id": "pick-topbottom",
													"objectClass": "loot",
													"sid": 435457045204375,
													"parameters": {
														"which": "top"
													}
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 640378117880726,
													"parameters": {
														"variable": "uidOfClicked",
														"value": "loot.UID"
													}
												},
												{
													"customAction": "Move to location",
													"objectClass": "player",
													"sid": 297620773482621,
													"parameters": [
														"loot.X",
														"loot.Y"
													]
												}
											],
											"sid": 422837792051483
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "on-object-clicked",
													"objectClass": "mouse",
													"sid": 845886336656501,
													"parameters": {
														"mouse-button": "left",
														"click-type": "clicked",
														"object-clicked": "door"
													}
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 886877031292798,
													"parameters": {
														"variable": "uidOfClicked",
														"value": "door.UID"
													}
												},
												{
													"customAction": "Move to location",
													"objectClass": "player",
													"sid": 555111948861754,
													"parameters": [
														"door.ImagePointX(NON_DEFAULT_IMAGE_POINT)",
														"door.ImagePointY(NON_DEFAULT_IMAGE_POINT)"
													]
												}
											],
											"sid": 398884856732755
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "on-object-clicked",
													"objectClass": "mouse",
													"sid": 217418460362889,
													"parameters": {
														"mouse-button": "left",
														"click-type": "clicked",
														"object-clicked": "lootChest"
													}
												},
												{
													"id": "compare-animation-frame",
													"objectClass": "lootChest",
													"sid": 340108756894294,
													"parameters": {
														"comparison": 0,
														"number": "0"
													}
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "Only allow interaction with loot chests that haven't been opened."
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 299063216853020,
													"parameters": {
														"variable": "uidOfClicked",
														"value": "lootChest.UID"
													}
												},
												{
													"customAction": "Move to location",
													"objectClass": "player",
													"sid": 550855629716074,
													"parameters": [
														"lootChest.ImagePointX(NON_DEFAULT_IMAGE_POINT)",
														"lootChest.ImagePointY(NON_DEFAULT_IMAGE_POINT)"
													]
												}
											],
											"sid": 585061498189976
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-all",
													"objectClass": "System",
													"sid": 273856019683302,
													"parameters": {
														"object": "item"
													}
												},
												{
													"id": "is-dragging",
													"objectClass": "item",
													"sid": 268543328021518,
													"behaviorType": "DragDrop"
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "Only allow movement when no items are being dragged."
												}
											],
											"sid": 568416994144019
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 480529889420195
												},
												{
													"id": "cursor-is-over-object",
													"objectClass": "mouse",
													"sid": 480275073248378,
													"parameters": {
														"object": "player"
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "'cursor is not over player' is here and not with the other 'cursor is over' conditions to facilitate picking up loot under the player.",
													"text-color": [
														0.7843137254901961,
														0.7843137254901961,
														0.7843137254901961,
														1
													],
													"background-color": [
														0.39215686274509803,
														0,
														0,
														1
													]
												},
												{
													"type": "comment",
													"text": "Try refactoring 'cursor is over player' be an isometric circle around the player. The size of this isometric circle would be based on the players movement speed; the faster the player is moving, the larger the circle would need to be to prevent the animation stutter.",
													"text-color": [
														0.7843137254901961,
														0.7843137254901961,
														0.7843137254901961,
														1
													],
													"background-color": [
														0,
														0,
														0.39215686274509803,
														1
													]
												}
											],
											"sid": 390542893653536,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "mouse-button-is-down",
															"objectClass": "mouse",
															"sid": 544083824055063,
															"parameters": {
																"mouse-button": "right"
															}
														}
													],
													"actions": [
														{
															"type": "comment",
															"text": "If the mouse isn't over any of the aforementioned, reset 'uidOfClicked' and walk there normally."
														},
														{
															"callFunction": "Close dialog",
															"sid": 377781022645989
														},
														{
															"id": "reset-eventvar",
															"objectClass": "System",
															"sid": 625913891285005,
															"parameters": {
																"variable": "uidOfClicked"
															}
														},
														{
															"customAction": "Move to location",
															"objectClass": "player",
															"sid": 569638414623211,
															"parameters": [
																"mouse.X",
																"mouse.Y"
															]
														}
													],
													"sid": 385135479439605
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "mouse-button-is-down",
															"objectClass": "mouse",
															"sid": 842301323408620,
															"parameters": {
																"mouse-button": "left"
															}
														},
														{
															"id": "layer-is-visible",
															"objectClass": "System",
															"sid": 598925948899116,
															"parameters": {
																"layer": "kingdomOfHeaven.LayerName"
															},
															"isInverted": true
														}
													],
													"actions": [
														{
															"type": "comment",
															"text": "This prevents walking when the left mouse button is held down, then moved outside the window"
														}
													],
													"sid": 251039767195007,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "cursor-is-over-object",
																	"objectClass": "mouse",
																	"sid": 310616379297893,
																	"parameters": {
																		"object": "npcBody"
																	},
																	"isInverted": true
																},
																{
																	"id": "cursor-is-over-object",
																	"objectClass": "mouse",
																	"sid": 935659161401123,
																	"parameters": {
																		"object": "enemyBody"
																	},
																	"isInverted": true
																},
																{
																	"id": "cursor-is-over-object",
																	"objectClass": "mouse",
																	"sid": 295687394680588,
																	"parameters": {
																		"object": "loot"
																	},
																	"isInverted": true
																},
																{
																	"id": "cursor-is-over-object",
																	"objectClass": "mouse",
																	"sid": 857588471423663,
																	"parameters": {
																		"object": "door"
																	},
																	"isInverted": true
																},
																{
																	"id": "cursor-is-over-object",
																	"objectClass": "mouse",
																	"sid": 702426213936407,
																	"parameters": {
																		"object": "lootChest"
																	},
																	"isInverted": true
																},
																{
																	"id": "cursor-is-over-object",
																	"objectClass": "mouse",
																	"sid": 418331254772091,
																	"parameters": {
																		"object": "portrait"
																	},
																	"isInverted": true
																},
																{
																	"id": "cursor-is-over-object",
																	"objectClass": "mouse",
																	"sid": 707365191010933,
																	"parameters": {
																		"object": "dialog"
																	},
																	"isInverted": true
																}
															],
															"actions": [
																{
																	"callFunction": "Close dialog",
																	"sid": 162711803994716
																},
																{
																	"id": "reset-eventvar",
																	"objectClass": "System",
																	"sid": 904272718557646,
																	"parameters": {
																		"variable": "uidOfClicked"
																	}
																},
																{
																	"customAction": "Move to location",
																	"objectClass": "player",
																	"sid": 508692620105972,
																	"parameters": [
																		"mouse.X",
																		"mouse.Y"
																	]
																}
															],
															"sid": 965651956818810
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-boolean-eventvar",
																	"objectClass": "System",
																	"sid": 688365902885389,
																	"parameters": {
																		"variable": "isOnInteractCooldown"
																	},
																	"isInverted": true
																},
																{
																	"id": "cursor-is-over-object",
																	"objectClass": "mouse",
																	"sid": 595101736513250,
																	"parameters": {
																		"object": "enemyBody"
																	}
																},
																{
																	"id": "pick-topbottom",
																	"objectClass": "enemyBody",
																	"sid": 131903471408561,
																	"parameters": {
																		"which": "top"
																	}
																},
																{
																	"id": "pick-parent",
																	"objectClass": "enemyBody",
																	"sid": 534855859345445,
																	"parameters": {
																		"parent": "enemy",
																		"which": "own"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 541478825081252,
																	"parameters": {
																		"variable": "uidOfClicked",
																		"value": "enemy.UID"
																	}
																},
																{
																	"customAction": "Move to location",
																	"objectClass": "player",
																	"sid": 514101123855422,
																	"parameters": [
																		"mouse.X",
																		"mouse.Y"
																	]
																}
															],
															"sid": 133649345780508
														}
													]
												}
											]
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-comparison",
											"objectClass": "System",
											"sid": 430217294903986,
											"parameters": {
												"object": "enemy",
												"expression": "uidOfClicked",
												"comparison": 0,
												"value": "enemy.UID"
											}
										},
										{
											"id": "pick-by-comparison",
											"objectClass": "System",
											"sid": 326769778013191,
											"parameters": {
												"object": "gear",
												"expression": "gear.type",
												"comparison": 0,
												"value": "MAIN_HAND_KEYWORD"
											}
										},
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 450141745828720,
											"parameters": {
												"value": "Functions.isInRange(player.attackRange, enemy.X, enemy.Y)"
											}
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "As soon as the enemy comes in range, stop moving and attack it."
										},
										{
											"id": "stop",
											"objectClass": "player",
											"sid": 797725622384593,
											"behaviorType": "MoveTo"
										},
										{
											"id": "reset-eventvar",
											"objectClass": "System",
											"sid": 346908793014977,
											"parameters": {
												"variable": "uidOfClicked"
											}
										},
										{
											"customAction": "basicAttack",
											"objectClass": "player",
											"sid": 939238315947389,
											"parameters": [
												"enemy.X",
												"enemy.Y"
											]
										}
									],
									"sid": 388352296582573
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-comparison",
											"objectClass": "System",
											"sid": 721662282054252,
											"parameters": {
												"object": "loot",
												"expression": "loot.UID",
												"comparison": 0,
												"value": "uidOfClicked"
											}
										},
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 653750243369573,
											"parameters": {
												"value": "Functions.isInRange((player.pickupRange + max(loot.Width, loot.Height)) + loot.pickupRangeBonus, loot.X, loot.Y)"
											}
										}
									],
									"actions": [
										{
											"id": "stop",
											"objectClass": "player",
											"sid": 961332417052704,
											"behaviorType": "MoveTo"
										},
										{
											"customAction": "Pick up loot",
											"objectClass": "player",
											"sid": 186316183007670
										},
										{
											"id": "reset-eventvar",
											"objectClass": "System",
											"sid": 726407275983507,
											"parameters": {
												"variable": "uidOfClicked"
											}
										}
									],
									"sid": 781964436868869
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-comparison",
											"objectClass": "System",
											"sid": 289372584768611,
											"parameters": {
												"object": "door",
												"expression": "uidOfClicked",
												"comparison": 0,
												"value": "door.UID"
											}
										},
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 327840878911589,
											"parameters": {
												"value": "Functions.isInRange(player.pickupRange + max(door.Width, door.Height), door.ImagePointX(NON_DEFAULT_IMAGE_POINT), door.ImagePointY(NON_DEFAULT_IMAGE_POINT))"
											}
										}
									],
									"actions": [
										{
											"id": "stop",
											"objectClass": "player",
											"sid": 728178816355344,
											"behaviorType": "MoveTo"
										},
										{
											"id": "set-instvar-value",
											"objectClass": "player",
											"sid": 638177029875875,
											"parameters": {
												"instance-variable": "relocateToX",
												"value": "door.relocateToX"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "player",
											"sid": 666920721217678,
											"parameters": {
												"instance-variable": "relocateToY",
												"value": "door.relocateToY"
											}
										},
										{
											"id": "set-boolean-eventvar",
											"objectClass": "System",
											"sid": 392334434204623,
											"parameters": {
												"variable": "isOnInteractCooldown",
												"value": "true"
											}
										},
										{
											"callFunction": "Change layout",
											"sid": 905950862943501,
											"parameters": [
												"door.layout",
												false
											]
										},
										{
											"id": "reset-eventvar",
											"objectClass": "System",
											"sid": 635898589656765,
											"parameters": {
												"variable": "uidOfClicked"
											}
										}
									],
									"sid": 133416707150565
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-comparison",
											"objectClass": "System",
											"sid": 820788770937825,
											"parameters": {
												"object": "lootChest",
												"expression": "uidOfClicked",
												"comparison": 0,
												"value": "lootChest.UID"
											}
										},
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 386537536307532,
											"parameters": {
												"value": "Functions.isInRange(player.pickupRange + max(lootChest.Width, lootChest.Height), lootChest.ImagePointX(NON_DEFAULT_IMAGE_POINT), lootChest.ImagePointY(NON_DEFAULT_IMAGE_POINT))"
											}
										}
									],
									"actions": [
										{
											"id": "stop",
											"objectClass": "player",
											"sid": 837229197482044,
											"behaviorType": "MoveTo"
										},
										{
											"id": "start-animation",
											"objectClass": "lootChest",
											"sid": 717015876556937,
											"parameters": {
												"from": "current-frame"
											}
										},
										{
											"customAction": "Spawn loot",
											"objectClass": "loot",
											"sid": 877029664962585,
											"parameters": [
												"lootChest.ImagePointX(NON_DEFAULT_IMAGE_POINT)",
												"lootChest.ImagePointY(NON_DEFAULT_IMAGE_POINT)"
											]
										},
										{
											"id": "reset-eventvar",
											"objectClass": "System",
											"sid": 353763200418633,
											"parameters": {
												"variable": "uidOfClicked"
											}
										}
									],
									"sid": 571517915827350
								},
								{
									"eventType": "variable",
									"name": "UID_OF_CLICKED_RESET_TIMER",
									"type": "number",
									"initialValue": "0.5",
									"comment": "How often to reset 'uidOfClicked', in seconds.",
									"isStatic": false,
									"isConstant": true,
									"sid": 427442296815969
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-moving",
											"objectClass": "player",
											"sid": 120440326067983,
											"behaviorType": "MoveTo",
											"isInverted": true
										},
										{
											"id": "every-x-seconds",
											"objectClass": "System",
											"sid": 905189847300138,
											"parameters": {
												"interval-seconds": "UID_OF_CLICKED_RESET_TIMER"
											}
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "Reset 'uidOfClicked' if the player isn't moving. Otherwise, if the clicked object later entered into the player's interact range by its own locomotion, the player would interact with it. Give a small leeway timer to assist with interacting with objects immediately adjacent to the player."
										},
										{
											"id": "reset-eventvar",
											"objectClass": "System",
											"sid": 214493384981726,
											"parameters": {
												"variable": "uidOfClicked"
											}
										}
									],
									"sid": 266905876334575
								}
							]
						},
						{
							"aceType": "action",
							"aceName": "Move to location",
							"objectClass": "player",
							"functionDescription": "Move the player to a specified location.",
							"functionCategory": "movement",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "x",
									"type": "number",
									"initialValue": "0",
									"comment": "The coordinate on the X axis to which to move the player.",
									"sid": 853914689575615
								},
								{
									"name": "y",
									"type": "number",
									"initialValue": "0",
									"comment": "The coordinate on the Y axis to which to move the player.",
									"sid": 190962107070906
								}
							],
							"eventType": "custom-ace-block",
							"conditions": [],
							"actions": [
								{
									"id": "move-to-position",
									"objectClass": "player",
									"sid": 100440560373912,
									"behaviorType": "MoveTo",
									"parameters": {
										"x": "x",
										"y": "y",
										"mode": "direct"
									}
								}
							],
							"sid": 785776093622985
						}
					],
					"sid": 914713205483917
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "control",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "variable",
							"name": "MOVEMENT_AND_INTERACTION_GROUP_NAME",
							"type": "string",
							"initialValue": "movement and interaction",
							"comment": "The name of the group that handles movement and interaction.",
							"isStatic": false,
							"isConstant": true,
							"sid": 279740686218288
						},
						{
							"eventType": "variable",
							"name": "ABILITIES_GROUP_NAME",
							"type": "string",
							"initialValue": "abilities",
							"comment": "The name of the group that handles abilities.",
							"isStatic": false,
							"isConstant": true,
							"sid": 818551677891025
						},
						{
							"eventType": "variable",
							"name": "FACINGS_GROUP_NAME",
							"type": "string",
							"initialValue": "facings",
							"comment": "The name of the group that handles facings.",
							"isStatic": false,
							"isConstant": true,
							"sid": 815881960529678
						},
						{
							"eventType": "comment",
							"text": "These functions can't be inside of 'movement and interaction', since they disable or enable that group.",
							"text-color": [
								0.7843137254901961,
								0.7843137254901961,
								0.7843137254901961,
								1
							],
							"background-color": [
								0.39215686274509803,
								0,
								0,
								1
							]
						},
						{
							"aceType": "action",
							"aceName": "Remove player control",
							"objectClass": "player",
							"functionDescription": "Prevent the player from doing anything.",
							"functionCategory": "movement",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [],
							"eventType": "custom-ace-block",
							"conditions": [],
							"actions": [
								{
									"id": "set-enabled",
									"objectClass": "player",
									"sid": 696869368620117,
									"behaviorType": "MoveTo",
									"parameters": {
										"enabled": false
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 438266862210696,
									"parameters": {
										"group-name": "MOVEMENT_AND_INTERACTION_GROUP_NAME",
										"state": "deactivated"
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 304243638363806,
									"parameters": {
										"group-name": "ABILITIES_GROUP_NAME",
										"state": "deactivated"
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 177894392628388,
									"parameters": {
										"group-name": "FACINGS_GROUP_NAME",
										"state": "deactivated"
									}
								}
							],
							"sid": 450294414017981
						},
						{
							"aceType": "action",
							"aceName": "Restore player control",
							"objectClass": "player",
							"functionDescription": "Allow the player to move and use abilities.",
							"functionCategory": "movement",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [],
							"eventType": "custom-ace-block",
							"conditions": [],
							"actions": [
								{
									"id": "set-enabled",
									"objectClass": "player",
									"sid": 213813131177906,
									"behaviorType": "MoveTo",
									"parameters": {
										"enabled": true
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 970158625797427,
									"parameters": {
										"group-name": "MOVEMENT_AND_INTERACTION_GROUP_NAME",
										"state": "activated"
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 703175649572876,
									"parameters": {
										"group-name": "ABILITIES_GROUP_NAME",
										"state": "activated"
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 839031975739275,
									"parameters": {
										"group-name": "FACINGS_GROUP_NAME",
										"state": "activated"
									}
								},
								{
									"customAction": "Update animation",
									"objectClass": "player",
									"sid": 385675005148660,
									"parameters": [
										"IDLE_KEYWORD",
										"body.OriginalAnimationSpeed",
										true
									]
								}
							],
							"sid": 300934570311369
						}
					],
					"sid": 998455745664907
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "abilities",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each",
									"objectClass": "System",
									"sid": 649957268564522,
									"parameters": {
										"object": "keybinder"
									}
								},
								{
									"id": "key-code-is-down",
									"objectClass": "keyboard",
									"sid": 136411555013602,
									"parameters": {
										"keycode": "keybinder.keycode"
									}
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 641992718476426,
									"parameters": {
										"first-value": "timescale",
										"comparison": 1,
										"second-value": "PAUSED"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "abilitySlot",
									"sid": 710816135931744,
									"parameters": {
										"instance-variable": "abilityNumber",
										"comparison": 0,
										"value": "keybinder.abilityNumber"
									}
								},
								{
									"id": "pick-children",
									"objectClass": "abilitySlot",
									"sid": 966076745215473,
									"parameters": {
										"child": "ability",
										"which": "own"
									}
								},
								{
									"id": "is-animation-playing",
									"objectClass": "ability",
									"sid": 685047286226979,
									"parameters": {
										"animation": "NONE_KEYWORD"
									},
									"isInverted": true
								},
								{
									"id": "is-overlapping-another-object",
									"objectClass": "player",
									"sid": 613291942331108,
									"parameters": {
										"object": "nonCombatArea"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "When a key is down, if the game isn't paused and the player is in a combat area, pick the specified ability key binder, slot and ability. If there is an ability in that slot, call the relevant function."
								},
								{
									"type": "comment",
									"text": "The loop is necessary because there's no 'any key is down' keyboard condition. Using the 'on any key pressed' trigger instead of this loop prevents us from holding down a key to repeatedly cast an ability.",
									"text-color": [
										0.7843137254901961,
										0.7843137254901961,
										0.7843137254901961,
										1
									],
									"background-color": [
										0.39215686274509803,
										0,
										0,
										1
									]
								},
								{
									"id": "instance-signal",
									"objectClass": "player",
									"sid": 237057261039276,
									"parameters": {
										"tag": "ability.AnimationName"
									}
								}
							],
							"sid": 361560456221949
						},
						{
							"eventType": "group",
							"disabled": false,
							"title": "man",
							"description": "",
							"isActiveOnStart": true,
							"children": [
								{
									"eventType": "variable",
									"name": "DOWNWARD_SLASH_ANIMATION_NAME",
									"type": "string",
									"initialValue": "downwardSlash",
									"comment": "The name of the Downward Slash animation.",
									"isStatic": false,
									"isConstant": true,
									"sid": 590404617961724
								},
								{
									"eventType": "variable",
									"name": "UPWARD_SLASH_ANIMATION_NAME",
									"type": "string",
									"initialValue": "upwardSlash",
									"comment": "The name of the Upward Slash animation.",
									"isStatic": false,
									"isConstant": true,
									"sid": 351023429812230
								},
								{
									"eventType": "variable",
									"name": "KICK_ANIMATION_NAME",
									"type": "string",
									"initialValue": "kick",
									"comment": "The name of the Kick animation.",
									"isStatic": false,
									"isConstant": true,
									"sid": 724543150732958
								},
								{
									"aceType": "action",
									"aceName": "basicAttack",
									"objectClass": "player",
									"functionDescription": "The basic attack for this class.",
									"functionCategory": "abilities",
									"functionReturnType": "none",
									"functionCopyPicked": false,
									"functionIsAsync": false,
									"functionParameters": [
										{
											"name": "targetX",
											"type": "number",
											"initialValue": "0",
											"comment": "The coordinate of the location to target, on the X axis.",
											"sid": 997944691437748
										},
										{
											"name": "targetY",
											"type": "number",
											"initialValue": "0",
											"comment": "The coordinate of the location to target, on the Y axis.",
											"sid": 871671223315566
										}
									],
									"eventType": "custom-ace-block",
									"conditions": [
										{
											"id": "is-overlapping-another-object",
											"objectClass": "player",
											"sid": 631070015681285,
											"parameters": {
												"object": "nonCombatArea"
											},
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 669092372960624,
									"children": [
										{
											"eventType": "variable",
											"name": "PROJECTILE_SPEED",
											"type": "number",
											"initialValue": "650",
											"comment": "The speed of the projectile.",
											"isStatic": false,
											"isConstant": true,
											"sid": 381651078870310
										},
										{
											"eventType": "variable",
											"name": "MANIFESTATION_FRAME",
											"type": "number",
											"initialValue": "9",
											"comment": "The (0-based) frame in which the projectile should manifest.",
											"isStatic": false,
											"isConstant": true,
											"sid": 940747957175982
										},
										{
											"eventType": "variable",
											"name": "SIZE",
											"type": "number",
											"initialValue": "99",
											"comment": "The size of the projectile.",
											"isStatic": false,
											"isConstant": true,
											"sid": 440652401434319
										},
										{
											"eventType": "variable",
											"name": "RANGE",
											"type": "number",
											"initialValue": "150",
											"comment": "How far the projectile can travel before expiring, in pixels.",
											"isStatic": false,
											"isConstant": true,
											"sid": 749872962643692
										},
										{
											"eventType": "variable",
											"name": "waitPeriod",
											"type": "number",
											"initialValue": "0",
											"comment": "How long to wait after the start of the animation before generating the projectile, in seconds.",
											"isStatic": true,
											"isConstant": false,
											"sid": 977009526873853
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-by-comparison",
													"objectClass": "System",
													"sid": 122222342763702,
													"parameters": {
														"object": "gear",
														"expression": "gear.type",
														"comparison": 0,
														"value": "MAIN_HAND_KEYWORD"
													}
												},
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "player",
													"sid": 695529316344745,
													"parameters": {
														"instance-variable": "busyCastingAbility"
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "A weapon must be equipped."
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "player",
													"sid": 739939191721079,
													"parameters": {
														"instance-variable": "busyCastingAbility",
														"value": "true"
													}
												},
												{
													"id": "stop",
													"objectClass": "player",
													"sid": 273541373334594,
													"behaviorType": "MoveTo"
												},
												{
													"customAction": "updateFacing",
													"objectClass": "player",
													"sid": 343537975224457,
													"parameters": [
														"targetX",
														"targetY"
													]
												},
												{
													"customAction": "Remove player control",
													"objectClass": "player",
													"sid": 177208388841958
												},
												{
													"customAction": "Update animation",
													"objectClass": "player",
													"sid": 143011748450409,
													"parameters": [
														"DOWNWARD_SLASH_ANIMATION_NAME",
														"player.actionSpeed",
														true
													]
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 631964854329215,
													"parameters": {
														"variable": "waitPeriod",
														"value": "MANIFESTATION_FRAME / body.AnimationSpeed"
													}
												},
												{
													"id": "wait",
													"objectClass": "System",
													"sid": 684032327105710,
													"parameters": {
														"seconds": "waitPeriod",
														"use-timescale": true
													}
												}
											],
											"sid": 903218846332430,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "evaluate-expression",
															"objectClass": "System",
															"sid": 850171447798353,
															"parameters": {
																"value": "Functions.isPlayerChanneling"
															},
															"isInverted": true
														}
													],
													"actions": [
														{
															"id": "play-at-object-by-name",
															"objectClass": "audio",
															"sid": 795824902370228,
															"parameters": {
																"folder": "sounds",
																"audio-file-name": "Functions.soundEffectName(SWING_WEAPON_SOUND_EFFECT_NAME)",
																"loop": "not-looping",
																"volume": "soundEffectsVolume",
																"object": "gear",
																"inner-angle": "NON_DIRECTIONAL_INNER_ANGLE",
																"outer-angle": "NON_DIRECTIONAL_OUTER_ANGLE",
																"outer-gain": "NON_DIRECTIONAL_OUTER_GAIN",
																"tag-optional": "NOT_USED"
															}
														},
														{
															"id": "create-object",
															"objectClass": "System",
															"sid": 438694981946716,
															"parameters": {
																"object-to-create": "projectile",
																"layer": "player.LayerName",
																"x": "player.X",
																"y": "player.Y",
																"create-hierarchy": false,
																"template-name": "NOT_USED"
															}
														}
													],
													"sid": 429403210528092,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "pick-last-created",
																	"objectClass": "System",
																	"sid": 818144811386549,
																	"parameters": {
																		"object": "projectile"
																	}
																}
															],
															"actions": [
																{
																	"id": "add-child",
																	"objectClass": "player",
																	"sid": 984429382281900,
																	"parameters": {
																		"child": "projectile",
																		"transform-x": false,
																		"transform-y": false,
																		"transform-w": false,
																		"transform-h": false,
																		"transform-a": false,
																		"transform-o": false,
																		"transform-z-elevation": false,
																		"transform-visibility": false,
																		"destroy-with-parent": true
																	}
																},
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "projectile",
																	"sid": 785878330404975,
																	"parameters": {
																		"instance-variable": "isMelee",
																		"value": "true"
																	}
																},
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "projectile",
																	"sid": 320620955130966,
																	"parameters": {
																		"instance-variable": "piercing",
																		"value": "true"
																	}
																},
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "projectile",
																	"sid": 653155073593732,
																	"parameters": {
																		"instance-variable": "enabled",
																		"value": "true"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "projectile",
																	"sid": 684266325098916,
																	"parameters": {
																		"instance-variable": "range",
																		"value": "RANGE"
																	}
																},
																{
																	"type": "comment",
																	"text": "Extract the multiplier from the description in the abilities table"
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "projectile",
																	"sid": 221418513096499,
																	"parameters": {
																		"instance-variable": "slashDamage",
																		"value": "player.slashDamage"
																	}
																},
																{
																	"id": "set-width",
																	"objectClass": "projectile",
																	"sid": 950880347156461,
																	"parameters": {
																		"width": "SIZE"
																	}
																},
																{
																	"id": "set-height",
																	"objectClass": "projectile",
																	"sid": 892087345571123,
																	"parameters": {
																		"height": "Self.Width / ISOMETRIC_DIVIDER"
																	}
																},
																{
																	"id": "set-angle-of-motion",
																	"objectClass": "projectile",
																	"sid": 384423535750452,
																	"behaviorType": "Bullet",
																	"parameters": {
																		"angle": "player.MoveTo.MovingAngle"
																	}
																},
																{
																	"id": "set-speed",
																	"objectClass": "projectile",
																	"sid": 772169501552239,
																	"behaviorType": "Bullet",
																	"parameters": {
																		"speed": "Functions.isometrify(PROJECTILE_SPEED, Self.Bullet.AngleOfMotion)"
																	}
																},
																{
																	"id": "wait",
																	"objectClass": "System",
																	"sid": 713788350010661,
																	"parameters": {
																		"seconds": "body.AnimationFrameCount / body.AnimationSpeed - waitPeriod",
																		"use-timescale": true
																	}
																}
															],
															"sid": 376038355775553,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "evaluate-expression",
																			"objectClass": "System",
																			"sid": 301541679839882,
																			"parameters": {
																				"value": "Functions.isPlayerAlive"
																			}
																		},
																		{
																			"id": "evaluate-expression",
																			"objectClass": "System",
																			"sid": 294596191012847,
																			"parameters": {
																				"value": "Functions.isPlayerChanneling"
																			},
																			"isInverted": true
																		}
																	],
																	"actions": [
																		{
																			"customAction": "Restore player control",
																			"objectClass": "player",
																			"sid": 317757200602551
																		}
																	],
																	"sid": 955584998863564
																},
																{
																	"eventType": "block",
																	"conditions": [],
																	"actions": [
																		{
																			"id": "set-boolean-instvar",
																			"objectClass": "player",
																			"sid": 422104701147715,
																			"parameters": {
																				"instance-variable": "busyCastingAbility",
																				"value": "false"
																			}
																		}
																	],
																	"sid": 816189155114151
																}
															]
														}
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 431690251226559
														}
													],
													"actions": [
														{
															"id": "set-boolean-instvar",
															"objectClass": "player",
															"sid": 359803342914233,
															"parameters": {
																"instance-variable": "busyCastingAbility",
																"value": "false"
															}
														}
													],
													"sid": 692228771530126
												}
											]
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "on-instance-signal",
											"objectClass": "player",
											"sid": 654824989260917,
											"parameters": {
												"tag": "\"heroicStrike\""
											}
										}
									],
									"actions": [],
									"sid": 710330787870225,
									"children": [
										{
											"eventType": "variable",
											"name": "MANA_COST",
											"type": "number",
											"initialValue": "10",
											"comment": "The mana cost of this ability.",
											"isStatic": false,
											"isConstant": true,
											"sid": 200407043270699
										},
										{
											"eventType": "variable",
											"name": "PROJECTILE_SPEED",
											"type": "number",
											"initialValue": "700",
											"comment": "The speed of the projectile.",
											"isStatic": false,
											"isConstant": true,
											"sid": 832457670642319
										},
										{
											"eventType": "variable",
											"name": "MANIFESTATION_FRAME",
											"type": "number",
											"initialValue": "4",
											"comment": "The (0-based) frame in which the projectile should manifest.",
											"isStatic": false,
											"isConstant": true,
											"sid": 171451291953052
										},
										{
											"eventType": "variable",
											"name": "SIZE",
											"type": "number",
											"initialValue": "126",
											"comment": "The size of the projectile.",
											"isStatic": false,
											"isConstant": true,
											"sid": 148178567379893
										},
										{
											"eventType": "variable",
											"name": "RANGE",
											"type": "number",
											"initialValue": "150",
											"comment": "How far the projectile can travel before expiring, in pixels.",
											"isStatic": false,
											"isConstant": true,
											"sid": 771975410933017
										},
										{
											"eventType": "variable",
											"name": "waitPeriod",
											"type": "number",
											"initialValue": "0",
											"comment": "How long to wait after the start of the animation before generating the projectile, in seconds.",
											"isStatic": true,
											"isConstant": false,
											"sid": 972908031099853
										},
										{
											"eventType": "variable",
											"name": "SOUND_EFFECT",
											"type": "string",
											"initialValue": "heroicStrike",
											"comment": "The name of the sound effect to use for this ability.",
											"isStatic": false,
											"isConstant": true,
											"sid": 684808133045856
										},
										{
											"eventType": "variable",
											"name": "DAMAGE_MULTIPLIER",
											"type": "number",
											"initialValue": "1.1",
											"comment": "The slash damage multiplier for this ability.",
											"isStatic": false,
											"isConstant": true,
											"sid": 464216267129618
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-by-comparison",
													"objectClass": "System",
													"sid": 853030606727887,
													"parameters": {
														"object": "gear",
														"expression": "gear.type",
														"comparison": 0,
														"value": "MAIN_HAND_KEYWORD"
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "player",
													"sid": 854348853518959,
													"parameters": {
														"instance-variable": "currentMana",
														"comparison": 5,
														"value": "MANA_COST"
													}
												},
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "player",
													"sid": 112421595672516,
													"parameters": {
														"instance-variable": "busyCastingAbility"
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "The player must have a weapon equipped, and enough mana."
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "player",
													"sid": 492011908508064,
													"parameters": {
														"instance-variable": "busyCastingAbility",
														"value": "true"
													}
												},
												{
													"id": "subtract-from-instvar",
													"objectClass": "player",
													"sid": 725433684800503,
													"parameters": {
														"instance-variable": "currentMana",
														"value": "MANA_COST"
													}
												},
												{
													"id": "stop",
													"objectClass": "player",
													"sid": 166900739796849,
													"behaviorType": "MoveTo"
												},
												{
													"id": "reset-eventvar",
													"objectClass": "System",
													"sid": 321805730557886,
													"parameters": {
														"variable": "uidOfClicked"
													}
												},
												{
													"customAction": "updateFacing",
													"objectClass": "player",
													"sid": 264141808278559,
													"parameters": [
														"mouse.X",
														"mouse.Y"
													]
												},
												{
													"customAction": "Remove player control",
													"objectClass": "player",
													"sid": 981764336673063
												},
												{
													"customAction": "Update animation",
													"objectClass": "player",
													"sid": 789673502084076,
													"parameters": [
														"UPWARD_SLASH_ANIMATION_NAME",
														"player.actionSpeed",
														true
													]
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 733765423018347,
													"parameters": {
														"variable": "waitPeriod",
														"value": "MANIFESTATION_FRAME / body.AnimationSpeed"
													}
												},
												{
													"id": "wait",
													"objectClass": "System",
													"sid": 406577977717044,
													"parameters": {
														"seconds": "waitPeriod",
														"use-timescale": true
													}
												}
											],
											"sid": 867113137142444,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "evaluate-expression",
															"objectClass": "System",
															"sid": 237521898385221,
															"parameters": {
																"value": "Functions.isPlayerChanneling"
															},
															"isInverted": true
														}
													],
													"actions": [
														{
															"id": "play-at-object-by-name",
															"objectClass": "audio",
															"sid": 718660664483386,
															"parameters": {
																"folder": "sounds",
																"audio-file-name": "Functions.soundEffectName(SOUND_EFFECT)",
																"loop": "not-looping",
																"volume": "soundEffectsVolume",
																"object": "gear",
																"inner-angle": "NON_DIRECTIONAL_INNER_ANGLE",
																"outer-angle": "NON_DIRECTIONAL_OUTER_ANGLE",
																"outer-gain": "NON_DIRECTIONAL_OUTER_GAIN",
																"tag-optional": "NOT_USED"
															}
														},
														{
															"id": "create-object",
															"objectClass": "System",
															"sid": 858902196509167,
															"parameters": {
																"object-to-create": "projectile",
																"layer": "player.LayerName",
																"x": "player.X",
																"y": "player.Y",
																"create-hierarchy": false,
																"template-name": "NOT_USED"
															}
														}
													],
													"sid": 957883493957148,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "pick-last-created",
																	"objectClass": "System",
																	"sid": 208656182501924,
																	"parameters": {
																		"object": "projectile"
																	}
																}
															],
															"actions": [
																{
																	"id": "add-child",
																	"objectClass": "player",
																	"sid": 454459305934032,
																	"parameters": {
																		"child": "projectile",
																		"transform-x": false,
																		"transform-y": false,
																		"transform-w": false,
																		"transform-h": false,
																		"transform-a": false,
																		"transform-o": false,
																		"transform-z-elevation": false,
																		"transform-visibility": false,
																		"destroy-with-parent": true
																	}
																},
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "projectile",
																	"sid": 481269297917962,
																	"parameters": {
																		"instance-variable": "isMelee",
																		"value": "true"
																	}
																},
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "projectile",
																	"sid": 991331644359424,
																	"parameters": {
																		"instance-variable": "piercing",
																		"value": "true"
																	}
																},
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "projectile",
																	"sid": 473575967829757,
																	"parameters": {
																		"instance-variable": "enabled",
																		"value": "true"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "projectile",
																	"sid": 944547175556303,
																	"parameters": {
																		"instance-variable": "range",
																		"value": "RANGE"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "projectile",
																	"sid": 717640899761674,
																	"parameters": {
																		"instance-variable": "slashDamage",
																		"value": "player.slashDamage * DAMAGE_MULTIPLIER"
																	}
																},
																{
																	"id": "set-width",
																	"objectClass": "projectile",
																	"sid": 428346052114487,
																	"parameters": {
																		"width": "SIZE"
																	}
																},
																{
																	"id": "set-height",
																	"objectClass": "projectile",
																	"sid": 609536384488828,
																	"parameters": {
																		"height": "Self.Width / ISOMETRIC_DIVIDER"
																	}
																},
																{
																	"id": "set-angle-of-motion",
																	"objectClass": "projectile",
																	"sid": 945893219783432,
																	"behaviorType": "Bullet",
																	"parameters": {
																		"angle": "player.MoveTo.MovingAngle"
																	}
																},
																{
																	"id": "set-speed",
																	"objectClass": "projectile",
																	"sid": 852328694968814,
																	"behaviorType": "Bullet",
																	"parameters": {
																		"speed": "Functions.isometrify(PROJECTILE_SPEED, Self.Bullet.AngleOfMotion)"
																	}
																},
																{
																	"id": "wait",
																	"objectClass": "System",
																	"sid": 141786868695105,
																	"parameters": {
																		"seconds": "body.AnimationFrameCount / body.AnimationSpeed - waitPeriod",
																		"use-timescale": true
																	}
																}
															],
															"sid": 826546463422947,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "evaluate-expression",
																			"objectClass": "System",
																			"sid": 584146406639383,
																			"parameters": {
																				"value": "Functions.isPlayerAlive"
																			}
																		},
																		{
																			"id": "evaluate-expression",
																			"objectClass": "System",
																			"sid": 575163689819945,
																			"parameters": {
																				"value": "Functions.isPlayerChanneling"
																			},
																			"isInverted": true
																		}
																	],
																	"actions": [
																		{
																			"customAction": "Restore player control",
																			"objectClass": "player",
																			"sid": 443439836298657
																		}
																	],
																	"sid": 885818368366922
																},
																{
																	"eventType": "block",
																	"conditions": [],
																	"actions": [
																		{
																			"id": "set-boolean-instvar",
																			"objectClass": "player",
																			"sid": 511414436615953,
																			"parameters": {
																				"instance-variable": "busyCastingAbility",
																				"value": "false"
																			}
																		}
																	],
																	"sid": 769335323145323
																}
															]
														}
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 874847562503617
														}
													],
													"actions": [
														{
															"id": "set-boolean-instvar",
															"objectClass": "player",
															"sid": 472490450078684,
															"parameters": {
																"instance-variable": "busyCastingAbility",
																"value": "false"
															}
														}
													],
													"sid": 317267367314586
												}
											]
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "on-instance-signal",
											"objectClass": "player",
											"sid": 304541362409578,
											"parameters": {
												"tag": "\"kick\""
											}
										}
									],
									"actions": [],
									"sid": 975407819225998,
									"children": [
										{
											"eventType": "variable",
											"name": "MANA_COST",
											"type": "number",
											"initialValue": "15",
											"comment": "The mana cost of this ability.",
											"isStatic": false,
											"isConstant": true,
											"sid": 937711424924728
										},
										{
											"eventType": "variable",
											"name": "PROJECTILE_SPEED",
											"type": "number",
											"initialValue": "750",
											"comment": "The speed of the projectile.",
											"isStatic": false,
											"isConstant": true,
											"sid": 888864683108768
										},
										{
											"eventType": "variable",
											"name": "MANIFESTATION_FRAME",
											"type": "number",
											"initialValue": "11",
											"comment": "The (0-based) frame in which the projectile should manifest.",
											"isStatic": false,
											"isConstant": true,
											"sid": 707128992868203
										},
										{
											"eventType": "variable",
											"name": "SIZE",
											"type": "number",
											"initialValue": "81",
											"comment": "The size of the projectile.",
											"isStatic": false,
											"isConstant": true,
											"sid": 430641748719708
										},
										{
											"eventType": "variable",
											"name": "RANGE",
											"type": "number",
											"initialValue": "140",
											"comment": "How far the projectile can travel before expiring, in pixels.",
											"isStatic": false,
											"isConstant": true,
											"sid": 685451467689247
										},
										{
											"eventType": "variable",
											"name": "waitPeriod",
											"type": "number",
											"initialValue": "0",
											"comment": "How long to wait after the start of the animation before generating the projectile, in seconds.",
											"isStatic": true,
											"isConstant": false,
											"sid": 815753467860430
										},
										{
											"eventType": "variable",
											"name": "DAMAGE_MULTIPLIER",
											"type": "number",
											"initialValue": "0.5",
											"comment": "The crush damage multiplier for this ability.",
											"isStatic": false,
											"isConstant": true,
											"sid": 193904498334145
										},
										{
											"eventType": "variable",
											"name": "KNOCKBACK_SPEED",
											"type": "number",
											"initialValue": "500",
											"comment": "How fast this projectile will knock back its target(s), in pixels per second.",
											"isStatic": false,
											"isConstant": true,
											"sid": 555602137530218
										},
										{
											"eventType": "variable",
											"name": "KNOCKBACK_DISTANCE",
											"type": "number",
											"initialValue": "100",
											"comment": "How far this projectile will knock back its target(s), in pixels.",
											"isStatic": false,
											"isConstant": true,
											"sid": 376438731026162
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "player",
													"sid": 595464212365287,
													"parameters": {
														"instance-variable": "currentMana",
														"comparison": 5,
														"value": "MANA_COST"
													}
												},
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "player",
													"sid": 432798320046443,
													"parameters": {
														"instance-variable": "busyCastingAbility"
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "must have enough mana"
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "player",
													"sid": 537850473310630,
													"parameters": {
														"instance-variable": "busyCastingAbility",
														"value": "true"
													}
												},
												{
													"id": "subtract-from-instvar",
													"objectClass": "player",
													"sid": 462304171753508,
													"parameters": {
														"instance-variable": "currentMana",
														"value": "MANA_COST"
													}
												},
												{
													"id": "stop",
													"objectClass": "player",
													"sid": 470802425123799,
													"behaviorType": "MoveTo"
												},
												{
													"id": "reset-eventvar",
													"objectClass": "System",
													"sid": 913708333719232,
													"parameters": {
														"variable": "uidOfClicked"
													}
												},
												{
													"customAction": "updateFacing",
													"objectClass": "player",
													"sid": 636733418264197,
													"parameters": [
														"mouse.X",
														"mouse.Y"
													]
												},
												{
													"customAction": "Remove player control",
													"objectClass": "player",
													"sid": 896368528533251
												},
												{
													"customAction": "Update animation",
													"objectClass": "player",
													"sid": 510846989056723,
													"parameters": [
														"KICK_ANIMATION_NAME",
														"player.actionSpeed",
														true
													]
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 936807112393563,
													"parameters": {
														"variable": "waitPeriod",
														"value": "MANIFESTATION_FRAME / body.AnimationSpeed"
													}
												},
												{
													"id": "wait",
													"objectClass": "System",
													"sid": 533660683334436,
													"parameters": {
														"seconds": "waitPeriod",
														"use-timescale": true
													}
												},
												{
													"id": "create-object",
													"objectClass": "System",
													"sid": 860859246716073,
													"parameters": {
														"object-to-create": "projectile",
														"layer": "player.LayerName",
														"x": "player.X",
														"y": "player.Y",
														"create-hierarchy": false,
														"template-name": "NOT_USED"
													}
												}
											],
											"sid": 437984150015191,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "evaluate-expression",
															"objectClass": "System",
															"sid": 626812644900642,
															"parameters": {
																"value": "Functions.isPlayerChanneling"
															},
															"isInverted": true
														}
													],
													"actions": [
														{
															"id": "create-object",
															"objectClass": "System",
															"sid": 115570448282856,
															"parameters": {
																"object-to-create": "projectile",
																"layer": "player.LayerName",
																"x": "player.X",
																"y": "player.Y",
																"create-hierarchy": false,
																"template-name": "NOT_USED"
															}
														}
													],
													"sid": 965269245700365,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "pick-last-created",
																	"objectClass": "System",
																	"sid": 714701997657327,
																	"parameters": {
																		"object": "projectile"
																	}
																}
															],
															"actions": [
																{
																	"id": "add-child",
																	"objectClass": "player",
																	"sid": 510534184187707,
																	"parameters": {
																		"child": "projectile",
																		"transform-x": false,
																		"transform-y": false,
																		"transform-w": false,
																		"transform-h": false,
																		"transform-a": false,
																		"transform-o": false,
																		"transform-z-elevation": false,
																		"transform-visibility": false,
																		"destroy-with-parent": true
																	}
																},
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "projectile",
																	"sid": 182153138418941,
																	"parameters": {
																		"instance-variable": "isMelee",
																		"value": "true"
																	}
																},
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "projectile",
																	"sid": 266079748332636,
																	"parameters": {
																		"instance-variable": "enabled",
																		"value": "true"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "projectile",
																	"sid": 993243916303364,
																	"parameters": {
																		"instance-variable": "range",
																		"value": "RANGE"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "projectile",
																	"sid": 215344638232889,
																	"parameters": {
																		"instance-variable": "smashDamage",
																		"value": "player.smashDamage * DAMAGE_MULTIPLIER"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "projectile",
																	"sid": 154034697184347,
																	"parameters": {
																		"instance-variable": "knockbackDistance",
																		"value": "KNOCKBACK_DISTANCE"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "projectile",
																	"sid": 908504137330797,
																	"parameters": {
																		"instance-variable": "knockbackSpeed",
																		"value": "KNOCKBACK_SPEED"
																	}
																},
																{
																	"id": "set-width",
																	"objectClass": "projectile",
																	"sid": 145232310937498,
																	"parameters": {
																		"width": "SIZE"
																	}
																},
																{
																	"id": "set-height",
																	"objectClass": "projectile",
																	"sid": 182956431544106,
																	"parameters": {
																		"height": "Self.Width / ISOMETRIC_DIVIDER"
																	}
																},
																{
																	"id": "set-angle-of-motion",
																	"objectClass": "projectile",
																	"sid": 267451014322085,
																	"behaviorType": "Bullet",
																	"parameters": {
																		"angle": "player.MoveTo.MovingAngle"
																	}
																},
																{
																	"id": "set-speed",
																	"objectClass": "projectile",
																	"sid": 947795887837115,
																	"behaviorType": "Bullet",
																	"parameters": {
																		"speed": "Functions.isometrify(PROJECTILE_SPEED, Self.Bullet.AngleOfMotion)"
																	}
																},
																{
																	"id": "wait",
																	"objectClass": "System",
																	"sid": 729366325956590,
																	"parameters": {
																		"seconds": "body.AnimationFrameCount / body.AnimationSpeed - waitPeriod",
																		"use-timescale": true
																	}
																}
															],
															"sid": 676412308048874,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "evaluate-expression",
																			"objectClass": "System",
																			"sid": 753714608291616,
																			"parameters": {
																				"value": "Functions.isPlayerAlive"
																			}
																		},
																		{
																			"id": "evaluate-expression",
																			"objectClass": "System",
																			"sid": 196237501722787,
																			"parameters": {
																				"value": "Functions.isPlayerChanneling"
																			},
																			"isInverted": true
																		}
																	],
																	"actions": [
																		{
																			"customAction": "Restore player control",
																			"objectClass": "player",
																			"sid": 773253785579086
																		}
																	],
																	"sid": 733130551109924
																},
																{
																	"eventType": "block",
																	"conditions": [],
																	"actions": [
																		{
																			"id": "set-boolean-instvar",
																			"objectClass": "player",
																			"sid": 466509525058488,
																			"parameters": {
																				"instance-variable": "busyCastingAbility",
																				"value": "false"
																			}
																		}
																	],
																	"sid": 219052293547434
																}
															]
														}
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 178574611549629
														}
													],
													"actions": [
														{
															"id": "set-boolean-instvar",
															"objectClass": "player",
															"sid": 351829718111112,
															"parameters": {
																"instance-variable": "busyCastingAbility",
																"value": "false"
															}
														}
													],
													"sid": 355871235780556
												}
											]
										}
									]
								}
							],
							"sid": 694140029841149
						}
					],
					"sid": 600857244900806
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "animations",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 692409938657133,
									"parameters": {
										"value": "player.X <> player.lastX | player.Y <> player.lastY"
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "Using the 'Is moving' condition, instead of this condition, causes the player to continue the walking animation when grinding into solids.",
									"text-color": [
										0.7843137254901961,
										0.7843137254901961,
										0.7843137254901961,
										1
									],
									"background-color": [
										0,
										0,
										0,
										0
									]
								},
								{
									"type": "comment",
									"text": "If the player was not where they were last tick, record that location."
								},
								{
									"id": "set-instvar-value",
									"objectClass": "player",
									"sid": 208232200302105,
									"parameters": {
										"instance-variable": "lastX",
										"value": "Self.X"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "player",
									"sid": 127638597976387,
									"parameters": {
										"instance-variable": "lastY",
										"value": "Self.Y"
									}
								}
							],
							"sid": 488064512871359,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 674152903487742,
											"parameters": {
												"value": "Functions.isAnimationPlaying(WALK_KEYWORD)\n"
											}
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "if they were already walking, play the walk animation from the current frame."
										},
										{
											"customAction": "Update animation",
											"objectClass": "player",
											"sid": 546656549921007,
											"parameters": [
												"WALK_KEYWORD",
												"player.movementSpeed / ANIMATION_DIVISOR",
												false
											]
										}
									],
									"sid": 107053821611209
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 781449289351793
										},
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 700855561675655,
											"parameters": {
												"value": "Functions.isAnimationPlaying(IDLE_KEYWORD)\n"
											}
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "If they were idling, play the walk animation, from the beginning."
										},
										{
											"customAction": "Update animation",
											"objectClass": "player",
											"sid": 547920157368544,
											"parameters": [
												"WALK_KEYWORD",
												"player.movementSpeed / ANIMATION_DIVISOR",
												true
											]
										}
									],
									"sid": 189926063793734
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 833216857476881
								},
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 198837254592752,
									"parameters": {
										"value": "Functions.isPlayerAlive"
									}
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 126464817908642,
									"parameters": {
										"first-value": "timescale",
										"comparison": 1,
										"second-value": "PAUSED"
									}
								},
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 653566053058072,
									"parameters": {
										"value": "Functions.isAnimationPlaying(WALK_KEYWORD)"
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "If the player isn't moving and not dead, and they were previously walking, (and the timescale isn't paused) make him start idling."
								},
								{
									"customAction": "Update animation",
									"objectClass": "player",
									"sid": 377537583783744,
									"parameters": [
										"IDLE_KEYWORD",
										"body.OriginalAnimationSpeed",
										false
									]
								},
								{
									"id": "reset-eventvar",
									"objectClass": "System",
									"sid": 484329641237898,
									"parameters": {
										"variable": "uidOfClicked"
									}
								}
							],
							"sid": 626061452344026
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "every-tick",
									"objectClass": "System",
									"sid": 279353670384368
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "gear",
									"sid": 732369910470954,
									"parameters": {
										"animation": "body.AnimationName",
										"from": "current-frame"
									}
								},
								{
									"id": "set-animation-frame",
									"objectClass": "gear",
									"sid": 293859831908245,
									"parameters": {
										"frame-number": "body.AnimationFrame"
									}
								}
							],
							"sid": 560213321966011
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-any-animation-finished",
									"objectClass": "body",
									"sid": 345214054398777
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "If we replaced these with in-line waits, we would lose the ability to change animation speeds while they were played.",
									"text-color": [
										0.7843137254901961,
										0.7843137254901961,
										0.7843137254901961,
										1
									],
									"background-color": [
										0,
										0,
										0,
										0
									]
								}
							],
							"sid": 923030549317447,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 153655648371219,
											"parameters": {
												"value": "Functions.isAnimationPlaying(DIE_KEYWORD)\n"
											}
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "TODO: Send the player back to \"camp\".",
											"text-color": [
												0,
												0,
												0,
												1
											],
											"background-color": [
												1,
												1,
												0,
												1
											]
										},
										{
											"id": "reload",
											"objectClass": "browser",
											"sid": 310585205301617
										}
									],
									"sid": 379379093595967
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 412943244926128,
											"parameters": {
												"value": "Functions.isPlayerChanneling"
											}
										},
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 738719796360461,
											"parameters": {
												"value": "Functions.isPlayerAlive"
											}
										}
									],
									"actions": [
										{
											"customAction": "Restore player control",
											"objectClass": "player",
											"sid": 687785193502977
										}
									],
									"sid": 408650609700262
								}
							]
						},
						{
							"aceType": "action",
							"aceName": "Play channeled animation",
							"objectClass": "player",
							"functionDescription": "Play an animation where the player is uncontrollable.",
							"functionCategory": "animations",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "animationName",
									"type": "string",
									"initialValue": "",
									"comment": "The animation to play.",
									"sid": 319123793904025
								}
							],
							"eventType": "custom-ace-block",
							"conditions": [],
							"actions": [
								{
									"id": "play-at-object-by-name",
									"objectClass": "audio",
									"sid": 608034961555404,
									"parameters": {
										"folder": "sounds",
										"audio-file-name": "Functions.soundEffectName(body.ObjectTypeName & SEPARATOR & animationName)",
										"loop": "not-looping",
										"volume": "soundEffectsVolume",
										"object": "body",
										"inner-angle": "NON_DIRECTIONAL_INNER_ANGLE",
										"outer-angle": "NON_DIRECTIONAL_OUTER_ANGLE",
										"outer-gain": "NON_DIRECTIONAL_OUTER_GAIN",
										"tag-optional": "NOT_USED"
									}
								},
								{
									"customAction": "Remove player control",
									"objectClass": "player",
									"sid": 336477408049207
								},
								{
									"customAction": "Update animation",
									"objectClass": "player",
									"sid": 369377300601852,
									"parameters": [
										"animationName",
										"player.actionSpeed",
										true
									]
								}
							],
							"sid": 565763010938672
						},
						{
							"aceType": "action",
							"aceName": "Update animation",
							"objectClass": "player",
							"functionDescription": "Change the player's animation.",
							"functionCategory": "animations",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "animationName",
									"type": "string",
									"initialValue": "",
									"comment": "The name of the animation to play.",
									"sid": 275885912390573
								},
								{
									"name": "animationSpeed",
									"type": "number",
									"initialValue": "30",
									"comment": "The speed at which to play the animation, in frames per second.",
									"sid": 252225844528020
								},
								{
									"name": "playFromBeginning",
									"type": "boolean",
									"initialValue": "true",
									"comment": "Whether or not to play this animation from its beginning.",
									"sid": 364982397943244
								}
							],
							"eventType": "custom-ace-block",
							"conditions": [],
							"actions": [],
							"sid": 978826309289581,
							"children": [
								{
									"eventType": "variable",
									"name": "UNARMED_KEYWORD",
									"type": "string",
									"initialValue": "Unarmed",
									"comment": "Used for setting combat animations.",
									"isStatic": false,
									"isConstant": true,
									"sid": 224265743515472
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 917614367863974,
											"parameters": {
												"variable": "playFromBeginning"
											}
										}
									],
									"actions": [],
									"sid": 522639755557380,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-overlapping-another-object",
													"objectClass": "player",
													"sid": 546759449919497,
													"parameters": {
														"object": "nonCombatArea"
													}
												}
											],
											"actions": [
												{
													"id": "set-animation",
													"objectClass": "body",
													"sid": 893930655249901,
													"parameters": {
														"animation": "animationName & UNARMED_KEYWORD & SEPARATOR & player.degrees",
														"from": "beginning"
													}
												}
											],
											"sid": 560707158544189
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 193130514691037
												}
											],
											"actions": [
												{
													"id": "set-animation",
													"objectClass": "body",
													"sid": 980805719994862,
													"parameters": {
														"animation": "animationName & SEPARATOR & player.degrees",
														"from": "beginning"
													}
												}
											],
											"sid": 938698912811728
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 486694199195613
										}
									],
									"actions": [],
									"sid": 849921736427602,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-overlapping-another-object",
													"objectClass": "player",
													"sid": 397612595242238,
													"parameters": {
														"object": "nonCombatArea"
													}
												}
											],
											"actions": [
												{
													"id": "set-animation",
													"objectClass": "body",
													"sid": 480750740249930,
													"parameters": {
														"animation": "animationName & UNARMED_KEYWORD & SEPARATOR & player.degrees",
														"from": "current-frame"
													}
												}
											],
											"sid": 741758805012343
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 547459200049500
												}
											],
											"actions": [
												{
													"id": "set-animation",
													"objectClass": "body",
													"sid": 420614807039127,
													"parameters": {
														"animation": "animationName & SEPARATOR & player.degrees",
														"from": "current-frame"
													}
												}
											],
											"sid": 305507655711060
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-animation-speed",
											"objectClass": "body",
											"sid": 383048725102650,
											"parameters": {
												"speed": "animationSpeed"
											}
										}
									],
									"sid": 249008434202061
								}
							]
						},
						{
							"functionName": "isAnimationPlaying",
							"functionDescription": "Whether or not the player's body is currently playing the specified animation.",
							"functionCategory": "player",
							"functionReturnType": "number",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "animationName",
									"type": "string",
									"initialValue": "",
									"comment": "The animation name for which to check.",
									"sid": 111044247074623
								}
							],
							"eventType": "function-block",
							"conditions": [],
							"actions": [
								{
									"id": "set-function-return-value",
									"objectClass": "Functions",
									"sid": 534888560537717,
									"parameters": {
										"value": "Functions.contains(body.AnimationName, animationName)"
									}
								}
							],
							"sid": 840288827474922
						},
						{
							"functionName": "isPlayerChanneling",
							"functionDescription": "Whether or not the player is channeling.",
							"functionCategory": "player",
							"functionReturnType": "number",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [],
							"eventType": "function-block",
							"conditions": [],
							"actions": [
								{
									"type": "comment",
									"text": "We can't turn a function into an OR block.",
									"text-color": [
										0.7843137254901961,
										0.7843137254901961,
										0.7843137254901961,
										1
									],
									"background-color": [
										0.39215686274509803,
										0,
										0,
										1
									]
								}
							],
							"sid": 508942672402914,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 519520471044225,
											"parameters": {
												"value": "Functions.isAnimationPlaying(BLOCK_KEYWORD)"
											}
										},
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 263786997563258,
											"parameters": {
												"value": "Functions.isAnimationPlaying(HIT_KEYWORD)"
											}
										}
									],
									"actions": [
										{
											"id": "set-function-return-value",
											"objectClass": "Functions",
											"sid": 304742408351988,
											"parameters": {
												"value": "TRUE"
											}
										}
									],
									"sid": 398121546548091,
									"isOrBlock": true
								}
							]
						}
					],
					"sid": 121151613548917
				},
				{
					"eventType": "comment",
					"text": "TODO: Make a (basically) empty layout that we go to after the player chooses their class. Don't unhide the loading screen so the player never sees it. There, we spawn the player, default gear, shadows, and play ability icons. Once that all has loaded, we transition to the real first layer. All the aforementioned objects are global, so they'll come over too.",
					"text-color": [
						0,
						0,
						0,
						1
					],
					"background-color": [
						1,
						1,
						0,
						1
					]
				},
				{
					"functionName": "canThePlayerEquipThis",
					"functionDescription": "Whether or not the player can equip this item or loot.",
					"functionCategory": "equipment",
					"functionReturnType": "number",
					"functionCopyPicked": true,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "level",
							"type": "number",
							"initialValue": "0",
							"comment": "The level of the item or loot",
							"sid": 814252525263344
						},
						{
							"name": "classRestrictions",
							"type": "string",
							"initialValue": "",
							"comment": "The class restrictions of the loot or item.",
							"sid": 730264909728497
						}
					],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "evaluate-expression",
							"objectClass": "System",
							"sid": 871287632370899,
							"parameters": {
								"value": "Functions.checkPlayerClass(classRestrictions)"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "player",
							"sid": 218108628393711,
							"parameters": {
								"instance-variable": "level",
								"comparison": 5,
								"value": "level"
							}
						}
					],
					"actions": [
						{
							"id": "set-function-return-value",
							"objectClass": "Functions",
							"sid": 877478473615395,
							"parameters": {
								"value": "TRUE"
							}
						}
					],
					"sid": 384059874271583
				},
				{
					"functionName": "checkPlayerClass",
					"functionDescription": "Check if the player's class is compatible with the passed class.",
					"functionCategory": "player",
					"functionReturnType": "number",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "classRestrictions",
							"type": "string",
							"initialValue": "",
							"comment": "The class restrictions of the loot or item.",
							"sid": 987358425478248
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 825357285507242,
					"children": [
						{
							"eventType": "variable",
							"name": "ALL_CLASSES_KEYWORD",
							"type": "string",
							"initialValue": "All Classes",
							"comment": "Used when checking if the player can equip an item or not.",
							"isStatic": false,
							"isConstant": true,
							"sid": 769021875257721
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 439092072996542,
									"parameters": {
										"value": "Functions.contains(classRestrictions, body.ObjectTypeName) | Functions.contains(classRestrictions, ALL_CLASSES_KEYWORD)"
									}
								}
							],
							"actions": [
								{
									"id": "set-function-return-value",
									"objectClass": "Functions",
									"sid": 823966948137589,
									"parameters": {
										"value": "TRUE"
									}
								}
							],
							"sid": 220050327125558
						}
					]
				}
			],
			"sid": 254080374675516
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "overlay",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "group",
					"disabled": false,
					"title": "ability bar",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-click",
									"objectClass": "mouse",
									"sid": 166153498320785,
									"parameters": {
										"mouse-button": "left",
										"click-type": "clicked"
									}
								},
								{
									"id": "cursor-is-over-object",
									"objectClass": "mouse",
									"sid": 787939671581480,
									"parameters": {
										"object": "abilitySlot"
									},
									"isInverted": true
								},
								{
									"id": "cursor-is-over-object",
									"objectClass": "mouse",
									"sid": 521994085679042,
									"parameters": {
										"object": "statue"
									},
									"isInverted": true
								},
								{
									"id": "layer-is-visible",
									"objectClass": "System",
									"sid": 312569487903178,
									"parameters": {
										"layer": "abilitySelectorStatue.LayerName"
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "Close the ability selector if we click anywhere that's not an ability or statue."
								},
								{
									"callFunction": "Close layer",
									"sid": 356720225436972,
									"parameters": [
										"abilitySelectorStatue.LayerName"
									]
								},
								{
									"customAction": "Set cover highlight",
									"objectClass": "abilitySlot",
									"sid": 659314839416183,
									"parameters": [
										false
									]
								}
							],
							"sid": 520831656298993
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-button-released",
									"objectClass": "mouse",
									"sid": 230212459618653,
									"parameters": {
										"mouse-button": "left"
									}
								},
								{
									"id": "cursor-is-over-object",
									"objectClass": "mouse",
									"sid": 116681259991173,
									"parameters": {
										"object": "ability"
									}
								},
								{
									"id": "is-animation-playing",
									"objectClass": "ability",
									"sid": 932373975136127,
									"parameters": {
										"animation": "NONE_KEYWORD"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "When we click an ability that's not set to 'none'..."
								},
								{
									"type": "comment",
									"text": "'On Left button released' prevents the click from also moving the player.",
									"text-color": [
										0.7843137254901961,
										0.7843137254901961,
										0.7843137254901961,
										1
									],
									"background-color": [
										0.39215686274509803,
										0,
										0,
										1
									]
								}
							],
							"sid": 888951027546163,
							"children": [
								{
									"eventType": "variable",
									"name": "abilityUID",
									"type": "number",
									"initialValue": "0",
									"comment": "the ability's UID, use solely to set the glow effect",
									"isStatic": true,
									"isConstant": false,
									"sid": 726146004487848
								},
								{
									"eventType": "variable",
									"name": "currentAbility",
									"type": "string",
									"initialValue": "",
									"comment": "the ability that's current chosen for the displayed class of abilities",
									"isStatic": true,
									"isConstant": false,
									"sid": 998769302146377
								},
								{
									"eventType": "variable",
									"name": "selectedAbility",
									"type": "string",
									"initialValue": "",
									"comment": "The ability in the ability selector that was selected",
									"isStatic": true,
									"isConstant": false,
									"sid": 451349966261905
								},
								{
									"eventType": "variable",
									"name": "currentCategory",
									"type": "string",
									"initialValue": "",
									"comment": "the class of abilities that's currently being displayed",
									"isStatic": true,
									"isConstant": false,
									"sid": 672748660792463
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-on-layer",
											"objectClass": "ability",
											"sid": 521867841977918,
											"parameters": {
												"layer": "abilityBarStatue.LayerName"
											}
										},
										{
											"id": "pick-parent",
											"objectClass": "ability",
											"sid": 528251545987983,
											"parameters": {
												"parent": "abilitySlot",
												"which": "own"
											}
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "...if that ability is on the ability bar..."
										}
									],
									"sid": 208998898503068,
									"children": [
										{
											"eventType": "variable",
											"name": "CATEGORY_KEYWORD",
											"type": "string",
											"initialValue": "category",
											"comment": "Used for finding the column that contains the category of an ability.",
											"isStatic": false,
											"isConstant": true,
											"sid": 935796449643377
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "layer-is-visible",
													"objectClass": "System",
													"sid": 581536756451024,
													"parameters": {
														"layer": "abilitySelectorStatue.LayerName"
													}
												},
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 692620053140329,
													"parameters": {
														"variable": "currentCategory",
														"comparison": 0,
														"value": "Functions.arrayLookup(abilitiesArray.ObjectTypeName, ability.AnimationName, CATEGORY_KEYWORD)"
													}
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "...and the class of that ability is the one that's already being displayed, just close the ability selector."
												},
												{
													"callFunction": "Close layer",
													"sid": 480875260085050,
													"parameters": [
														"abilitySelectorStatue.LayerName"
													]
												},
												{
													"customAction": "Set cover highlight",
													"objectClass": "abilitySlot",
													"sid": 270619035235577,
													"parameters": [
														false
													]
												}
											],
											"sid": 816106086978843
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 804338414293539
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "Otherwise, open the ability selector and show the relevant abilities."
												},
												{
													"customAction": "Set cover highlight",
													"objectClass": "abilitySlot",
													"sid": 221257658486991,
													"parameters": [
														true
													]
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 988164220318512,
													"parameters": {
														"variable": "abilityUID",
														"value": "ability.UID"
													}
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 605454855294263,
													"parameters": {
														"variable": "currentAbility",
														"value": "ability.AnimationName"
													}
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 360802631307211,
													"parameters": {
														"variable": "currentCategory",
														"value": "Functions.arrayLookup(abilitiesArray.ObjectTypeName, ability.AnimationName, CATEGORY_KEYWORD)"
													}
												},
												{
													"callFunction": "Open layer",
													"sid": 189021992688929,
													"parameters": [
														"abilitySelectorStatue.LayerName"
													]
												}
											],
											"sid": 552225060590609,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "for",
															"objectClass": "System",
															"sid": 371631756316751,
															"parameters": {
																"name": "NOT_USED",
																"start-index": "LOOP_OFFSET",
																"end-index": "abilitiesArray.Height - LOOP_OFFSET"
															}
														},
														{
															"id": "compare-at-xy",
															"objectClass": "abilitiesArray",
															"sid": 971904029439678,
															"parameters": {
																"x": "Functions.getColumnNumber(abilitiesArray.ObjectTypeName, CATEGORY_KEYWORD)",
																"y": "loopindex",
																"comparison": 0,
																"value": "currentCategory"
															}
														},
														{
															"id": "compare-at-xy",
															"objectClass": "abilitiesArray",
															"sid": 242293833288563,
															"parameters": {
																"x": "Functions.getColumnNumber(abilitiesArray.ObjectTypeName, LEVEL_KEYWORD)",
																"y": "loopindex",
																"comparison": 3,
																"value": "player.level"
															}
														}
													],
													"actions": [
														{
															"type": "comment",
															"text": "Populate 'abilityOptionsArray' with abilities that are of the matching class and meet the level requirement."
														},
														{
															"id": "push",
															"objectClass": "abilityOptionsArray",
															"sid": 265215651227434,
															"parameters": {
																"where": "front",
																"value": "abilitiesArray.At(Functions.getColumnNumber(abilitiesArray.ObjectTypeName, SIMPLE_NAME_KEYWORD), loopindex)",
																"axis": "x"
															}
														}
													],
													"sid": 708255959243154
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "pick-all",
															"objectClass": "System",
															"sid": 982520047288136,
															"parameters": {
																"object": "ability"
															}
														}
													],
													"actions": [],
													"sid": 728722378298061,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "pick-by-comparison",
																	"objectClass": "System",
																	"sid": 437657880975258,
																	"parameters": {
																		"object": "ability",
																		"expression": "ability.LayerName",
																		"comparison": 0,
																		"value": "abilitySelectorStatue.LayerName"
																	}
																},
																{
																	"id": "for-each",
																	"objectClass": "System",
																	"sid": 103986784995558,
																	"parameters": {
																		"object": "ability"
																	}
																}
															],
															"actions": [],
															"sid": 622889163515134,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "is-empty",
																			"objectClass": "abilityOptionsArray",
																			"sid": 218549028970161
																		}
																	],
																	"actions": [
																		{
																			"id": "set-animation",
																			"objectClass": "ability",
																			"sid": 932234177235525,
																			"parameters": {
																				"animation": "NONE_KEYWORD",
																				"from": "beginning"
																			}
																		}
																	],
																	"sid": 208781154702523
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "else",
																			"objectClass": "System",
																			"sid": 421791918312952
																		}
																	],
																	"actions": [
																		{
																			"id": "set-animation",
																			"objectClass": "ability",
																			"sid": 277887591088732,
																			"parameters": {
																				"animation": "abilityOptionsArray.Back",
																				"from": "beginning"
																			}
																		},
																		{
																			"id": "pop",
																			"objectClass": "abilityOptionsArray",
																			"sid": 771062483134409,
																			"parameters": {
																				"where": "back",
																				"axis": "x"
																			}
																		}
																	],
																	"sid": 704351852125970
																},
																{
																	"eventType": "variable",
																	"name": "GRAYSCALE_EFFECT_NAME",
																	"type": "string",
																	"initialValue": "Grayscale",
																	"comment": "The name of the grayscale effect.",
																	"isStatic": false,
																	"isConstant": true,
																	"sid": 290870066816621
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "pick-by-comparison",
																			"objectClass": "System",
																			"sid": 992399196919024,
																			"parameters": {
																				"object": "ability",
																				"expression": "ability.AnimationName",
																				"comparison": 0,
																				"value": "currentAbility"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-effect-enabled",
																			"objectClass": "ability",
																			"sid": 169163123253226,
																			"parameters": {
																				"mode": "enable",
																				"effect": "GRAYSCALE_EFFECT_NAME"
																			}
																		}
																	],
																	"sid": 954936503658220
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "pick-by-comparison",
																			"objectClass": "System",
																			"sid": 148325386910517,
																			"parameters": {
																				"object": "ability",
																				"expression": "ability.AnimationName",
																				"comparison": 1,
																				"value": "currentAbility"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-effect-enabled",
																			"objectClass": "ability",
																			"sid": 746084696975006,
																			"parameters": {
																				"mode": "disable",
																				"effect": "GRAYSCALE_EFFECT_NAME"
																			}
																		}
																	],
																	"sid": 674591081863892
																}
															]
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "pick-by-comparison",
																	"objectClass": "System",
																	"sid": 152656832815296,
																	"parameters": {
																		"object": "ability",
																		"expression": "ability.UID",
																		"comparison": 1,
																		"value": "abilityUID"
																	}
																},
																{
																	"id": "pick-all",
																	"objectClass": "System",
																	"sid": 784947759337350,
																	"parameters": {
																		"object": "abilitySlot"
																	}
																},
																{
																	"id": "pick-parent",
																	"objectClass": "ability",
																	"sid": 323380240398685,
																	"parameters": {
																		"parent": "abilitySlot",
																		"which": "own"
																	}
																}
															],
															"actions": [
																{
																	"customAction": "Set cover highlight",
																	"objectClass": "abilitySlot",
																	"sid": 890603310375284,
																	"parameters": [
																		false
																	]
																}
															],
															"sid": 620014128918085
														}
													]
												}
											]
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 197310871060374
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "If we clicked on an ability option..."
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 727347019975754,
											"parameters": {
												"variable": "selectedAbility",
												"value": "ability.AnimationName"
											}
										},
										{
											"customAction": "Set cover highlight",
											"objectClass": "abilitySlot",
											"sid": 637706977488640,
											"parameters": [
												false
											]
										},
										{
											"callFunction": "Close layer",
											"sid": 747274984907248,
											"parameters": [
												"abilitySelectorStatue.LayerName"
											]
										}
									],
									"sid": 913381454522330,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-all",
													"objectClass": "System",
													"sid": 855871030350454,
													"parameters": {
														"object": "ability"
													}
												},
												{
													"id": "is-animation-playing",
													"objectClass": "ability",
													"sid": 751269906242521,
													"parameters": {
														"animation": "currentAbility"
													}
												}
											],
											"actions": [
												{
													"id": "set-animation",
													"objectClass": "ability",
													"sid": 741897931232925,
													"parameters": {
														"animation": "selectedAbility",
														"from": "beginning"
													}
												}
											],
											"sid": 923600810680650
										}
									]
								}
							]
						},
						{
							"aceType": "action",
							"aceName": "Set cover highlight",
							"objectClass": "abilitySlot",
							"functionDescription": "Turn the cover highlight on or off.",
							"functionCategory": "appearance",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "on",
									"type": "boolean",
									"initialValue": "false",
									"comment": "whether to turn the highlight on or off",
									"sid": 811582786191093
								}
							],
							"eventType": "custom-ace-block",
							"conditions": [],
							"actions": [],
							"sid": 395378481633487,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 574768230252475,
											"parameters": {
												"variable": "on"
											}
										}
									],
									"actions": [
										{
											"id": "set-effect-enabled",
											"objectClass": "abilitySlot",
											"sid": 225351504876412,
											"parameters": {
												"mode": "enable",
												"effect": "BRIGHTNESS_EFFECT_NAME"
											}
										}
									],
									"sid": 567429306854489
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 252990534661365
										}
									],
									"actions": [
										{
											"id": "set-effect-enabled",
											"objectClass": "abilitySlot",
											"sid": 321156428532300,
											"parameters": {
												"mode": "disable",
												"effect": "BRIGHTNESS_EFFECT_NAME"
											}
										}
									],
									"sid": 663090438898797
								}
							]
						}
					],
					"sid": 600010803561002
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "menus",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "layer-is-visible",
									"objectClass": "System",
									"sid": 982850324259442,
									"parameters": {
										"layer": "inventoryMenuStatue.LayerName"
									}
								},
								{
									"id": "compare-text",
									"objectClass": "coinsTotal",
									"sid": 252604516247867,
									"parameters": {
										"text-to-compare": "str(player.coins)",
										"case-sensitivity": "ignore-case"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "Only update the displayed value for coins when the inventory menu is visible, and the current amount isn't accurate."
								},
								{
									"id": "set-text",
									"objectClass": "coinsTotal",
									"sid": 307756311885998,
									"parameters": {
										"text": "player.coins"
									}
								}
							],
							"sid": 939991445799526
						},
						{
							"eventType": "variable",
							"name": "PER_SECOND_TEXT",
							"type": "string",
							"initialValue": "/second",
							"comment": "Used when displaying a character stat that's per second.",
							"isStatic": false,
							"isConstant": true,
							"sid": 678409209078561
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "layer-is-visible",
									"objectClass": "System",
									"sid": 593151920015181,
									"parameters": {
										"layer": "characterMenuStatue.LayerName"
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "maxHealth",
									"sid": 796437786557423,
									"parameters": {
										"text": "player.maxHealth"
									}
								},
								{
									"id": "set-text",
									"objectClass": "healthRegen",
									"sid": 145611212433346,
									"parameters": {
										"text": "player.healthRegen & PER_SECOND_TEXT"
									}
								},
								{
									"id": "set-text",
									"objectClass": "actionSpeed",
									"sid": 670237157538332,
									"parameters": {
										"text": "player.actionSpeed"
									}
								},
								{
									"id": "set-text",
									"objectClass": "attackRange",
									"sid": 470649090255748,
									"parameters": {
										"text": "player.attackRange"
									}
								},
								{
									"id": "set-text",
									"objectClass": "pickupRange",
									"sid": 433549745548644,
									"parameters": {
										"text": "player.pickupRange"
									}
								},
								{
									"id": "set-text",
									"objectClass": "movementSpeed",
									"sid": 181346014050731,
									"parameters": {
										"text": "player.movementSpeed"
									}
								},
								{
									"id": "set-text",
									"objectClass": "flinchResistance",
									"sid": 279838501341434,
									"parameters": {
										"text": "player.flinchResistance"
									}
								},
								{
									"id": "set-text",
									"objectClass": "armor",
									"sid": 150247730189692,
									"parameters": {
										"text": "player.armor"
									}
								},
								{
									"id": "set-text",
									"objectClass": "maxMana",
									"sid": 382263015663459,
									"parameters": {
										"text": "player.maxMana"
									}
								},
								{
									"id": "set-text",
									"objectClass": "manaRegen",
									"sid": 285155824896548,
									"parameters": {
										"text": "player.manaRegen & PER_SECOND_TEXT"
									}
								},
								{
									"id": "set-text",
									"objectClass": "physicalResistance",
									"sid": 716396584553827,
									"parameters": {
										"text": "player.physicalResistance"
									}
								},
								{
									"id": "set-text",
									"objectClass": "coldResistance",
									"sid": 688085647238283,
									"parameters": {
										"text": "player.coldResistance"
									}
								},
								{
									"id": "set-text",
									"objectClass": "fireResistance",
									"sid": 177417260742908,
									"parameters": {
										"text": "player.fireResistance"
									}
								},
								{
									"id": "set-text",
									"objectClass": "lightningResistance",
									"sid": 745910141466643,
									"parameters": {
										"text": "player.lightningResistance"
									}
								},
								{
									"id": "set-text",
									"objectClass": "arcaneResistance",
									"sid": 415966770633091,
									"parameters": {
										"text": "player.arcaneResistance"
									}
								},
								{
									"id": "set-text",
									"objectClass": "corruptResistance",
									"sid": 696165158223273,
									"parameters": {
										"text": "player.corruptResistance"
									}
								},
								{
									"id": "set-text",
									"objectClass": "slashDamage",
									"sid": 416334094982596,
									"parameters": {
										"text": "player.slashDamage"
									}
								},
								{
									"id": "set-text",
									"objectClass": "smashDamage",
									"sid": 167849782919164,
									"parameters": {
										"text": "player.smashDamage"
									}
								},
								{
									"id": "set-text",
									"objectClass": "stabDamage",
									"sid": 510369319232670,
									"parameters": {
										"text": "player.stabDamage"
									}
								},
								{
									"id": "set-text",
									"objectClass": "coldDamage",
									"sid": 455186547121666,
									"parameters": {
										"text": "player.coldDamage"
									}
								},
								{
									"id": "set-text",
									"objectClass": "fireDamage",
									"sid": 519317805663518,
									"parameters": {
										"text": "player.fireDamage"
									}
								},
								{
									"id": "set-text",
									"objectClass": "lightningDamage",
									"sid": 572268967804158,
									"parameters": {
										"text": "player.lightningDamage"
									}
								},
								{
									"id": "set-text",
									"objectClass": "arcaneDamage",
									"sid": 237068647164323,
									"parameters": {
										"text": "player.arcaneDamage"
									}
								},
								{
									"id": "set-text",
									"objectClass": "holyDamage",
									"sid": 771136631524764,
									"parameters": {
										"text": "player.holyDamage"
									}
								}
							],
							"sid": 320596497522521
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-any-key-pressed",
									"objectClass": "keyboard",
									"sid": 356243337580978
								},
								{
									"id": "layer-is-visible",
									"objectClass": "System",
									"sid": 200936538513872,
									"parameters": {
										"layer": "settingsMenu.LayerName"
									},
									"isInverted": true
								},
								{
									"id": "is-any-playing",
									"objectClass": "statue",
									"sid": 827274792490015,
									"behaviorType": "Tween",
									"isInverted": true
								},
								{
									"id": "is-dragging",
									"objectClass": "statue",
									"sid": 784082423952732,
									"behaviorType": "DragDrop",
									"isInverted": true
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 946373321700564,
									"parameters": {
										"first-value": "statue.PickedCount",
										"comparison": 0,
										"second-value": "statue.Count"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "keybinder",
									"sid": 181676093318161,
									"parameters": {
										"instance-variable": "keycode",
										"comparison": 0,
										"value": "keyboard.LastKeyCode"
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "You can only open regular menus when the settings menu isn't open, you currently aren't rearranging menus, there's no open dialog, and no other menus are currently fading in or out."
								}
							],
							"sid": 589869390653306,
							"children": [
								{
									"eventType": "comment",
									"text": "TODO: Keybindings for the Kingdom of Heaven and the Pillar of Fate.",
									"text-color": [
										0,
										0,
										0,
										1
									],
									"background-color": [
										1,
										1,
										0,
										1
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "keybinder",
											"sid": 891457742597240,
											"parameters": {
												"instance-variable": "target",
												"comparison": 0,
												"value": "equippedMenuStatue.LayerName"
											}
										}
									],
									"actions": [
										{
											"callFunction": "Toggle menu",
											"sid": 986046057762437,
											"parameters": [
												"equippedMenuStatue.LayerName"
											]
										}
									],
									"sid": 327082099075401,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "layer-is-visible",
													"objectClass": "System",
													"sid": 405966297726470,
													"parameters": {
														"layer": "merchantMenuStatue.LayerName"
													}
												}
											],
											"actions": [
												{
													"callFunction": "Close layer",
													"sid": 847114396952566,
													"parameters": [
														"merchantMenuStatue.LayerName"
													]
												}
											],
											"sid": 258013987645693
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "keybinder",
											"sid": 194007203181835,
											"parameters": {
												"instance-variable": "target",
												"comparison": 0,
												"value": "characterMenuStatue.LayerName"
											}
										}
									],
									"actions": [
										{
											"callFunction": "Toggle menu",
											"sid": 670200235757395,
											"parameters": [
												"characterMenuStatue.LayerName"
											]
										}
									],
									"sid": 533869688280642
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "keybinder",
											"sid": 855891086294721,
											"parameters": {
												"instance-variable": "target",
												"comparison": 0,
												"value": "inventoryMenuStatue.LayerName"
											}
										}
									],
									"actions": [
										{
											"callFunction": "Toggle menu",
											"sid": 574410582810596,
											"parameters": [
												"inventoryMenuStatue.LayerName"
											]
										}
									],
									"sid": 227300752950169
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "keybinder",
											"sid": 819515825929087,
											"parameters": {
												"instance-variable": "target",
												"comparison": 0,
												"value": "kingdomOfHeaven.LayerName"
											}
										}
									],
									"actions": [],
									"sid": 200101363459596,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "layer-is-visible",
													"objectClass": "System",
													"sid": 610991273417209,
													"parameters": {
														"layer": "kingdomOfHeaven.LayerName"
													}
												}
											],
											"actions": [
												{
													"id": "set-layer-visible",
													"objectClass": "System",
													"sid": 238707241659583,
													"parameters": {
														"layer": "kingdomOfHeaven.LayerName",
														"visibility": "invisible"
													}
												},
												{
													"id": "set-layer-interactive",
													"objectClass": "System",
													"sid": 863155969256123,
													"parameters": {
														"layer": "kingdomOfHeaven.LayerName",
														"interactive": false
													}
												},
												{
													"id": "set-document-css-style",
													"objectClass": "browser",
													"sid": 231854028825582,
													"parameters": {
														"property-name": "\"display\"",
														"value": "NONE_KEYWORD",
														"selector": "\"canvas[data-engine]\"\r\n",
														"type": "one"
													}
												}
											],
											"sid": 368733045976344
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 558552170577487
												}
											],
											"actions": [
												{
													"id": "set-layer-visible",
													"objectClass": "System",
													"sid": 330303056828007,
													"parameters": {
														"layer": "kingdomOfHeaven.LayerName",
														"visibility": "visible"
													}
												},
												{
													"id": "set-layer-interactive",
													"objectClass": "System",
													"sid": 380291177334926,
													"parameters": {
														"layer": "kingdomOfHeaven.LayerName",
														"interactive": true
													}
												},
												{
													"id": "set-document-css-style",
													"objectClass": "browser",
													"sid": 777690234133481,
													"parameters": {
														"property-name": "\"display\"",
														"value": "BLANK",
														"selector": "\"canvas[data-engine]\"\r\n",
														"type": "one"
													}
												}
											],
											"sid": 932277802127183
										}
									]
								}
							]
						},
						{
							"functionName": "Toggle menu",
							"functionDescription": "Open or close a menu with a key.",
							"functionCategory": "menus",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "menuName",
									"type": "string",
									"initialValue": "",
									"comment": "The name of the menu to manage.",
									"sid": 569434202636859
								}
							],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 927480318112134,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "layer-is-visible",
											"objectClass": "System",
											"sid": 129337492999172,
											"parameters": {
												"layer": "menuName"
											}
										}
									],
									"actions": [
										{
											"callFunction": "Close layer",
											"sid": 282348497464143,
											"parameters": [
												"menuName"
											]
										}
									],
									"sid": 880750344490913
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 236002267858284
										}
									],
									"actions": [
										{
											"callFunction": "Open layer",
											"sid": 522731726253615,
											"parameters": [
												"menuName"
											]
										}
									],
									"sid": 533738842030650
								}
							]
						},
						{
							"functionName": "Close layer",
							"functionDescription": "Close the specified layer.",
							"functionCategory": "menus",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": true,
							"functionParameters": [
								{
									"name": "menuName",
									"type": "string",
									"initialValue": "",
									"comment": "The name of the layer to close.",
									"sid": 231291736061001
								}
							],
							"eventType": "function-block",
							"conditions": [
								{
									"id": "pick-by-comparison",
									"objectClass": "System",
									"sid": 112140602888784,
									"parameters": {
										"object": "statue",
										"expression": "statue.LayerName",
										"comparison": 0,
										"value": "menuName"
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "Prevent interaction with the layer while it fades out."
								},
								{
									"id": "set-layer-interactive",
									"objectClass": "System",
									"sid": 717158898277148,
									"parameters": {
										"layer": "menuName",
										"interactive": false
									}
								}
							],
							"sid": 475860601676582,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 585645722562947,
											"parameters": {
												"variable": "menuName",
												"comparison": 1,
												"value": "dialogStatue.LayerName"
											}
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 711512130075887,
											"parameters": {
												"variable": "menuName",
												"comparison": 1,
												"value": "merchantMenuStatue.LayerName"
											}
										},
										{
											"id": "is-tag-playing",
											"objectClass": "audio",
											"sid": 855149925975701,
											"parameters": {
												"tag": "MENU_OPEN_KEYWORD"
											},
											"isInverted": true
										},
										{
											"id": "is-tag-playing",
											"objectClass": "audio",
											"sid": 555356798613187,
											"parameters": {
												"tag": "MENU_CLOSE_KEYWORD"
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "play-by-name",
											"objectClass": "audio",
											"sid": 228251495697342,
											"parameters": {
												"folder": "sounds",
												"audio-file-name": "Functions.soundEffectName(MENU_CLOSE_KEYWORD)",
												"loop": "not-looping",
												"volume": "DEFAULT_STEREO_PAN",
												"stereo-pan": "interfaceVolume",
												"tag-optional": "MENU_CLOSE_KEYWORD"
											}
										}
									],
									"sid": 385843217020995
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "tween-one-property",
											"objectClass": "statue",
											"sid": 822503997611114,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "NOT_USED",
												"property": "offsetOpacity",
												"end-value": "TRANSPARENT_OPACITY",
												"time": "MENU_FADE_TIME",
												"ease": "noease",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "TWEEN_REPEAT_COUNT"
											}
										},
										{
											"id": "wait-for-previous-actions",
											"objectClass": "System",
											"sid": 431281652581235
										},
										{
											"id": "set-layer-visible",
											"objectClass": "System",
											"sid": 423507120488558,
											"parameters": {
												"layer": "menuName",
												"visibility": "invisible"
											}
										}
									],
									"sid": 403434950977723
								}
							]
						},
						{
							"functionName": "Open layer",
							"functionDescription": "Open the specified layer.",
							"functionCategory": "menus",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "menuName",
									"type": "string",
									"initialValue": "",
									"comment": "The name of the layer to open.",
									"sid": 228302164093831
								}
							],
							"eventType": "function-block",
							"conditions": [
								{
									"id": "pick-by-comparison",
									"objectClass": "System",
									"sid": 273068239987896,
									"parameters": {
										"object": "statue",
										"expression": "statue.LayerName",
										"comparison": 0,
										"value": "menuName"
									}
								}
							],
							"actions": [
								{
									"id": "set-layer-visible",
									"objectClass": "System",
									"sid": 178502549753556,
									"parameters": {
										"layer": "menuName",
										"visibility": "visible"
									}
								}
							],
							"sid": 667271432738870,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 158827811441845,
											"parameters": {
												"variable": "menuName",
												"comparison": 1,
												"value": "dialogStatue.LayerName"
											}
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 179500629491860,
											"parameters": {
												"variable": "menuName",
												"comparison": 1,
												"value": "merchantMenuStatue.LayerName"
											}
										},
										{
											"id": "is-tag-playing",
											"objectClass": "audio",
											"sid": 195723223866822,
											"parameters": {
												"tag": "MENU_OPEN_KEYWORD"
											},
											"isInverted": true
										},
										{
											"id": "is-tag-playing",
											"objectClass": "audio",
											"sid": 617648047624125,
											"parameters": {
												"tag": "MENU_CLOSE_KEYWORD"
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "play-by-name",
											"objectClass": "audio",
											"sid": 980524320326130,
											"parameters": {
												"folder": "sounds",
												"audio-file-name": "Functions.soundEffectName(MENU_OPEN_KEYWORD)",
												"loop": "not-looping",
												"volume": "interfaceVolume",
												"stereo-pan": "DEFAULT_STEREO_PAN",
												"tag-optional": "MENU_OPEN_KEYWORD"
											}
										}
									],
									"sid": 255118791550331
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "tween-one-property",
											"objectClass": "statue",
											"sid": 281150899935792,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "NOT_USED",
												"property": "offsetOpacity",
												"end-value": "SOLID_OPACITY",
												"time": "MENU_FADE_TIME",
												"ease": "noease",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "TWEEN_REPEAT_COUNT"
											}
										},
										{
											"id": "wait-for-previous-actions",
											"objectClass": "System",
											"sid": 253426471654652
										},
										{
											"id": "set-layer-interactive",
											"objectClass": "System",
											"sid": 754026251697858,
											"parameters": {
												"layer": "menuName",
												"interactive": true
											}
										}
									],
									"sid": 660169148266626
								}
							]
						}
					],
					"sid": 121445526787026
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Kingdom of Heaven",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"functionName": "Show node tooltip",
							"functionDescription": "Shows the tooltip for the node under the cursor",
							"functionCategory": "menus",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "row",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"sid": 571073470386970
								},
								{
									"name": "column",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"sid": 293042432866022
								},
								{
									"name": "depth",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"sid": 387843985455063
								}
							],
							"eventType": "function-block",
							"conditions": [],
							"actions": [
								{
									"id": "log",
									"objectClass": "browser",
									"sid": 235192537744868,
									"parameters": {
										"type": "log",
										"message": "row & \" \" & column & \" \" & depth"
									}
								}
							],
							"sid": 803459225117184,
							"children": [
								{
									"eventType": "variable",
									"name": "text",
									"type": "string",
									"initialValue": "",
									"comment": "",
									"isStatic": true,
									"isConstant": false,
									"sid": 776396751980889
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 436922488551493,
											"parameters": {
												"variable": "text",
												"value": "nodeTextArray.At(row, column, depth)"
											}
										},
										{
											"id": "set-text",
											"objectClass": "nodeTooltipTitle",
											"sid": 806929471704290,
											"parameters": {
												"text": "tokenat(text, 0, \",\")"
											}
										},
										{
											"id": "set-text",
											"objectClass": "nodeTooltipText",
											"sid": 336218915809320,
											"parameters": {
												"text": "tokenat(text, 1, \",\")"
											}
										}
									],
									"sid": 146920536722128
								}
							]
						},
						{
							"functionName": "Hide node tooltip",
							"functionDescription": "",
							"functionCategory": "menus",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [],
							"eventType": "function-block",
							"conditions": [],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "nodeTooltipTitle",
									"sid": 142266475253450,
									"parameters": {
										"text": "\"\""
									}
								},
								{
									"id": "set-text",
									"objectClass": "nodeTooltipText",
									"sid": 405611461477718,
									"parameters": {
										"text": "\"\""
									}
								}
							],
							"sid": 334888299885335
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-visible",
									"objectClass": "pointsAllocatedText",
									"sid": 601729800970754
								}
							],
							"actions": [],
							"sid": 793100371177857,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "player",
											"sid": 352970576816759,
											"parameters": {
												"instance-variable": "unspentPassivePoints",
												"comparison": 0,
												"value": "1"
											}
										}
									],
									"actions": [
										{
											"id": "set-text",
											"objectClass": "pointsAvailableText",
											"sid": 459980674825211,
											"parameters": {
												"text": "player.unspentPassivePoints & \" point available\""
											}
										}
									],
									"sid": 217895524482574
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 749264370475756
										}
									],
									"actions": [
										{
											"id": "set-text",
											"objectClass": "pointsAvailableText",
											"sid": 632960637392240,
											"parameters": {
												"text": "player.unspentPassivePoints & \" points available\""
											}
										}
									],
									"sid": 375037856053984
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "player",
											"sid": 573793146852447,
											"parameters": {
												"instance-variable": "allocatedPassivePoints",
												"comparison": 0,
												"value": "1"
											}
										}
									],
									"actions": [
										{
											"id": "set-text",
											"objectClass": "pointsAllocatedText",
											"sid": 207742973904590,
											"parameters": {
												"text": "player.allocatedPassivePoints & \" point allocated\""
											}
										}
									],
									"sid": 544494553680110
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 867914477355055
										}
									],
									"actions": [
										{
											"id": "set-text",
											"objectClass": "pointsAllocatedText",
											"sid": 628827434612876,
											"parameters": {
												"text": "player.allocatedPassivePoints & \" points allocated\""
											}
										}
									],
									"sid": 290580259897124
								}
							]
						}
					],
					"sid": 271148303308724
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "tooltip",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-start-of-layout",
									"objectClass": "System",
									"sid": 359184946402027
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "Start the opacity of the tooltips at 0."
								},
								{
									"id": "set-opacity",
									"objectClass": "tooltip",
									"sid": 776535803656519,
									"parameters": {
										"opacity": "TRANSPARENT_OPACITY"
									}
								},
								{
									"id": "set-opacity",
									"objectClass": "comparisonTooltip",
									"sid": 997982007130815,
									"parameters": {
										"opacity": "TRANSPARENT_OPACITY"
									}
								}
							],
							"sid": 156127091849511
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-dragging",
									"objectClass": "statue",
									"sid": 626771208311706,
									"behaviorType": "DragDrop",
									"isInverted": true
								}
							],
							"actions": [],
							"sid": 862182322119437,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-dragging",
											"objectClass": "item",
											"sid": 905850133767904,
											"behaviorType": "DragDrop",
											"isInverted": true
										},
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 425172784946726,
											"parameters": {
												"first-value": "item.Count",
												"comparison": 0,
												"second-value": "FALSE"
											}
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "'item is DragDrop is dragging' is somehow neither false nor true when no items exist.",
											"text-color": [
												0.7843137254901961,
												0.7843137254901961,
												0.7843137254901961,
												1
											],
											"background-color": [
												0,
												0,
												0,
												1
											]
										}
									],
									"sid": 967900307182128,
									"children": [
										{
											"eventType": "variable",
											"name": "CLASS_KEYWORD",
											"type": "string",
											"initialValue": "class",
											"comment": "Used for looking up an ability's class.",
											"isStatic": false,
											"isConstant": true,
											"sid": 750246453082349
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "cursor-is-over-object",
													"objectClass": "mouse",
													"sid": 353381965524915,
													"parameters": {
														"object": "item"
													}
												},
												{
													"id": "cursor-is-over-object",
													"objectClass": "mouse",
													"sid": 196093524391821,
													"parameters": {
														"object": "invalidLocation"
													},
													"isInverted": true
												},
												{
													"id": "cursor-is-over-object",
													"objectClass": "mouse",
													"sid": 528578220998463,
													"parameters": {
														"object": "9PatchInvalidLocations"
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "TODO: Make sure tooltips work with rings.",
													"text-color": [
														0,
														0,
														0,
														1
													],
													"background-color": [
														1,
														1,
														0,
														1
													]
												},
												{
													"callFunction": "Update tooltip",
													"sid": 797882099661696,
													"parameters": [
														false,
														"item.fullName",
														"item.classRestrictions",
														"item.level",
														"Functions.makeMultiline(item.mods)",
														"item.lore",
														"item.value"
													]
												}
											],
											"sid": 447799690088387,
											"children": [
												{
													"eventType": "variable",
													"name": "typeForComparison",
													"type": "string",
													"initialValue": "",
													"comment": "The type of the gear that we want to compare",
													"isStatic": true,
													"isConstant": false,
													"sid": 938654612269956
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-on-layer",
															"objectClass": "item",
															"sid": 604896418958172,
															"parameters": {
																"layer": "inventoryMenuStatue.LayerName"
															}
														}
													],
													"actions": [
														{
															"type": "comment",
															"text": "if the item is in the inventory, compare to the relevant equipped item, if one exists"
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 315906874040765,
															"parameters": {
																"variable": "typeForComparison",
																"value": "item.type"
															}
														}
													],
													"sid": 433911383619124,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "pick-all",
																	"objectClass": "System",
																	"sid": 383413155035686,
																	"parameters": {
																		"object": "item"
																	}
																},
																{
																	"id": "pick-by-comparison",
																	"objectClass": "System",
																	"sid": 873622087157976,
																	"parameters": {
																		"object": "item",
																		"expression": "item.LayerName",
																		"comparison": 0,
																		"value": "equippedMenuStatue.LayerName"
																	}
																},
																{
																	"id": "pick-by-comparison",
																	"objectClass": "System",
																	"sid": 859133754474563,
																	"parameters": {
																		"object": "item",
																		"expression": "item.type",
																		"comparison": 0,
																		"value": "typeForComparison"
																	}
																}
															],
															"actions": [
																{
																	"callFunction": "Update comparison tooltip",
																	"sid": 394125524799220,
																	"parameters": [
																		"item.fullName",
																		"item.classRestrictions",
																		"item.level",
																		"Functions.makeMultiline(item.mods)",
																		"item.lore",
																		"item.value"
																	]
																}
															],
															"sid": 614370023859122
														}
													]
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 740320087671390
												},
												{
													"id": "cursor-is-over-object",
													"objectClass": "mouse",
													"sid": 896098241564343,
													"parameters": {
														"object": "loot"
													}
												},
												{
													"id": "cursor-is-over-object",
													"objectClass": "mouse",
													"sid": 667907912334413,
													"parameters": {
														"object": "9PatchInvalidLocations"
													},
													"isInverted": true
												},
												{
													"id": "cursor-is-over-object",
													"objectClass": "mouse",
													"sid": 750327707326966,
													"parameters": {
														"object": "invalidLocation"
													},
													"isInverted": true
												},
												{
													"id": "is-any-playing",
													"objectClass": "loot",
													"sid": 575473710792372,
													"behaviorType": "Tween",
													"isInverted": true
												},
												{
													"id": "pick-topbottom",
													"objectClass": "loot",
													"sid": 344224226879461,
													"parameters": {
														"which": "top"
													}
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "The 'else' is for if we drag and hold an item over a loot.",
													"text-color": [
														0.7843137254901961,
														0.7843137254901961,
														0.7843137254901961,
														1
													],
													"background-color": [
														0.39215686274509803,
														0,
														0,
														1
													]
												},
												{
													"callFunction": "Update tooltip",
													"sid": 829729198243444,
													"parameters": [
														false,
														"loot.fullName",
														"loot.classRestrictions",
														"loot.level",
														"Functions.makeMultiline(loot.mods)",
														"loot.lore",
														"loot.value"
													]
												}
											],
											"sid": 815525960741839
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 393589949090668
												},
												{
													"id": "cursor-is-over-object",
													"objectClass": "mouse",
													"sid": 968992526353430,
													"parameters": {
														"object": "ability"
													}
												},
												{
													"id": "is-animation-playing",
													"objectClass": "ability",
													"sid": 878550109792695,
													"parameters": {
														"animation": "NONE_KEYWORD"
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"callFunction": "Update tooltip",
													"sid": 487024551226746,
													"parameters": [
														true,
														"Functions.arrayLookup(abilitiesArray.ObjectTypeName, ability.AnimationName, FULL_NAME_KEYWORD)",
														"Functions.arrayLookup(abilitiesArray.ObjectTypeName, ability.AnimationName, CLASS_KEYWORD)",
														"Functions.arrayLookup(abilitiesArray.ObjectTypeName, ability.AnimationName, LEVEL_KEYWORD)",
														"Functions.makeMultiline(Functions.arrayLookup(abilitiesArray.ObjectTypeName, ability.AnimationName, DESCRIPTION_KEYWORD))",
														"NOT_USED",
														"FALSE"
													]
												}
											],
											"sid": 888845378678553
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 107996481350656
												},
												{
													"id": "trigger-once-while-true",
													"objectClass": "System",
													"sid": 119241200039992
												}
											],
											"actions": [
												{
													"id": "tween-one-property",
													"objectClass": "tooltip",
													"sid": 445460085484033,
													"behaviorType": "Tween",
													"parameters": {
														"tags": "NOT_USED",
														"property": "offsetOpacity",
														"end-value": "TRANSPARENT_OPACITY",
														"time": "MENU_FADE_TIME",
														"ease": "noease",
														"destroy-on-complete": "no",
														"loop": "no",
														"ping-pong": "no",
														"repeat-count": "TWEEN_REPEAT_COUNT"
													}
												},
												{
													"id": "tween-one-property",
													"objectClass": "comparisonTooltip",
													"sid": 841889378198308,
													"behaviorType": "Tween",
													"parameters": {
														"tags": "NOT_USED",
														"property": "offsetOpacity",
														"end-value": "TRANSPARENT_OPACITY",
														"time": "MENU_FADE_TIME",
														"ease": "noease",
														"destroy-on-complete": "no",
														"loop": "no",
														"ping-pong": "no",
														"repeat-count": "TWEEN_REPEAT_COUNT"
													}
												}
											],
											"sid": 839419771322734
										}
									],
									"isOrBlock": true
								}
							]
						},
						{
							"eventType": "variable",
							"name": "TOOLTIP_VERTICAL_PADDING",
							"type": "number",
							"initialValue": "20",
							"comment": "How far to vertically pad the tooltip so it comfortably contains all its information, in pixels.",
							"isStatic": false,
							"isConstant": true,
							"sid": 487008030740011
						},
						{
							"eventType": "variable",
							"name": "TOOLTIP_HORIZONTAL_PADDING",
							"type": "number",
							"initialValue": "50",
							"comment": "How far to horizontally pad the tooltip so it comfortably contains all its information, in pixels.",
							"isStatic": false,
							"isConstant": true,
							"sid": 494084332547451
						},
						{
							"eventType": "variable",
							"name": "TOOLTIP_VERTICAL_TEXT_PADDING",
							"type": "number",
							"initialValue": "15",
							"comment": "How far to pad the tooltip description away from the rest of the tooltip info, in pixels.",
							"isStatic": false,
							"isConstant": true,
							"sid": 628934883307504
						},
						{
							"eventType": "variable",
							"name": "COINS_TEXT",
							"type": "string",
							"initialValue": "Coins",
							"comment": "Used in tooltips.",
							"isStatic": false,
							"isConstant": true,
							"sid": 610332663518766
						},
						{
							"eventType": "variable",
							"name": "GREEN",
							"type": "number",
							"initialValue": "65280",
							"comment": "The numerical representation of the color green.",
							"isStatic": false,
							"isConstant": true,
							"sid": 856195681374443
						},
						{
							"eventType": "variable",
							"name": "RED",
							"type": "number",
							"initialValue": "255",
							"comment": "The numerical representation of the color red.",
							"isStatic": false,
							"isConstant": true,
							"sid": 870021894734969
						},
						{
							"eventType": "variable",
							"name": "LEVEL_TEXT",
							"type": "string",
							"initialValue": "Level",
							"comment": "Used in tooltips.",
							"isStatic": false,
							"isConstant": true,
							"sid": 163982394912517
						},
						{
							"eventType": "variable",
							"name": "MOD_NAME_INDEX",
							"type": "number",
							"initialValue": "1",
							"comment": "The index of a mod's name.",
							"isStatic": false,
							"isConstant": true,
							"sid": 679975955360657
						},
						{
							"functionName": "Update tooltip",
							"functionDescription": "Update and show the tooltip with the specified information.",
							"functionCategory": "menus",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "isAbility",
									"type": "boolean",
									"initialValue": "false",
									"comment": "Whether or not this tooltip is for an ability.",
									"sid": 644466920870083
								},
								{
									"name": "name",
									"type": "string",
									"initialValue": "",
									"comment": "The name to display on the tooltip.",
									"sid": 655975269993235
								},
								{
									"name": "class",
									"type": "string",
									"initialValue": "",
									"comment": "The class to display on the tooltip.",
									"sid": 945794792643289
								},
								{
									"name": "level",
									"type": "number",
									"initialValue": "0",
									"comment": "The level to display on the tooltip.",
									"sid": 445357807781583
								},
								{
									"name": "text",
									"type": "string",
									"initialValue": "",
									"comment": "The main body of content to display on the tooltip.",
									"sid": 893908292176095
								},
								{
									"name": "lore",
									"type": "string",
									"initialValue": "",
									"comment": "The lore to display on the tooltip.",
									"sid": 824750967220550
								},
								{
									"name": "value",
									"type": "number",
									"initialValue": "0",
									"comment": "The value (in coins) to display on the tooltip.",
									"sid": 548489733334983
								}
							],
							"eventType": "function-block",
							"conditions": [],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "tooltipName",
									"sid": 109238844659995,
									"parameters": {
										"text": "lowercase(name)"
									}
								},
								{
									"id": "set-text",
									"objectClass": "tooltipClass",
									"sid": 522948856064234,
									"parameters": {
										"text": "class"
									}
								},
								{
									"id": "set-text",
									"objectClass": "tooltipValue",
									"sid": 703976436306907,
									"parameters": {
										"text": "value & SPACE & COINS_TEXT"
									}
								},
								{
									"id": "set-text",
									"objectClass": "tooltipLevel",
									"sid": 488576232028391,
									"parameters": {
										"text": "LEVEL_TEXT & SPACE & level"
									}
								},
								{
									"id": "set-text",
									"objectClass": "tooltipLore",
									"sid": 752447281676204,
									"parameters": {
										"text": "lore"
									}
								}
							],
							"sid": 759325424482027,
							"children": [
								{
									"eventType": "variable",
									"name": "DEFAULT_FONT_COLOR",
									"type": "number",
									"initialValue": "10805227",
									"comment": "The default font color.",
									"isStatic": false,
									"isConstant": true,
									"sid": 701141571051425
								},
								{
									"eventType": "variable",
									"name": "HIDDEN_HEIGHT",
									"type": "number",
									"initialValue": "0",
									"comment": "The height value of a tooltip object when hidden.",
									"isStatic": false,
									"isConstant": true,
									"sid": 787564109420835
								},
								{
									"eventType": "variable",
									"name": "TOOLTIP_VALUE_HEIGHT",
									"type": "number",
									"initialValue": "25",
									"comment": "The height of the tooltip value when shown.",
									"isStatic": false,
									"isConstant": true,
									"sid": 802934976773068
								},
								{
									"eventType": "variable",
									"name": "TOOLTIP_LORE_HEIGHT",
									"type": "number",
									"initialValue": "20",
									"comment": "The height of the tooltip lore when shown.",
									"isStatic": false,
									"isConstant": true,
									"sid": 678482408407165
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 649898746054398,
											"parameters": {
												"variable": "isAbility"
											}
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "Using the multiline function here instead of in the calling action doesn't work.",
											"text-color": [
												0.7843137254901961,
												0.7843137254901961,
												0.7843137254901961,
												1
											],
											"background-color": [
												0,
												0,
												0,
												1
											]
										},
										{
											"id": "set-text",
											"objectClass": "tooltipDescription",
											"sid": 650843490497026,
											"parameters": {
												"text": "text"
											}
										},
										{
											"id": "set-font-color",
											"objectClass": "tooltipClass",
											"sid": 885493126020232,
											"parameters": {
												"color": "DEFAULT_FONT_COLOR"
											}
										},
										{
											"id": "set-font-color",
											"objectClass": "tooltipLevel",
											"sid": 601820743179750,
											"parameters": {
												"color": "DEFAULT_FONT_COLOR"
											}
										},
										{
											"id": "set-height",
											"objectClass": "tooltipValue",
											"sid": 933455595520660,
											"parameters": {
												"height": "HIDDEN_HEIGHT"
											}
										},
										{
											"id": "set-height",
											"objectClass": "tooltipLore",
											"sid": 586252499700592,
											"parameters": {
												"height": "HIDDEN_HEIGHT"
											}
										},
										{
											"id": "set-text",
											"objectClass": "tooltipDescription",
											"sid": 652236715180461,
											"parameters": {
												"text": "text"
											}
										}
									],
									"sid": 763060192049106
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 763942990940543
										}
									],
									"actions": [
										{
											"id": "set-text",
											"objectClass": "tooltipDescription",
											"sid": 900036161750769,
											"parameters": {
												"text": "BLANK"
											}
										},
										{
											"id": "set-height",
											"objectClass": "tooltipValue",
											"sid": 545939470272102,
											"parameters": {
												"height": "TOOLTIP_VALUE_HEIGHT"
											}
										},
										{
											"id": "set-height",
											"objectClass": "tooltipLore",
											"sid": 790766506353305,
											"parameters": {
												"height": "TOOLTIP_LORE_HEIGHT"
											}
										}
									],
									"sid": 646781768384696,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for",
													"objectClass": "System",
													"sid": 651191869819956,
													"parameters": {
														"name": "NOT_USED",
														"start-index": "LOOP_DEFAULT",
														"end-index": "tokencount(text, MOD_SEPARATOR) - DOUBLE_OFFSET"
													}
												}
											],
											"actions": [
												{
													"id": "append-text",
													"objectClass": "tooltipDescription",
													"sid": 469311704546348,
													"parameters": {
														"text": "RegexReplace(tokenat(tokenat(text, loopindex, MOD_SEPARATOR), MOD_NAME_INDEX, MOD_NAME_SEPARATOR), EITHER_CURLY_BRACKET_REGEX, GLOBAL_FLAG, NOT_USED) & newline "
													}
												}
											],
											"sid": 630356183524025
										},
										{
											"eventType": "comment",
											"text": "Set the color of the level and class restrictions text box depending if the player can use them."
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "evaluate-expression",
													"objectClass": "System",
													"sid": 100482592165817,
													"parameters": {
														"value": "Functions.checkPlayerClass(class)"
													}
												}
											],
											"actions": [
												{
													"id": "set-font-color",
													"objectClass": "tooltipClass",
													"sid": 403928569586436,
													"parameters": {
														"color": "GREEN"
													}
												}
											],
											"sid": 765991964130597,
											"isOrBlock": true
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 813739954778648
												}
											],
											"actions": [
												{
													"id": "set-font-color",
													"objectClass": "tooltipClass",
													"sid": 158770597995767,
													"parameters": {
														"color": "RED"
													}
												}
											],
											"sid": 699456439858615
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 696338830206071,
													"parameters": {
														"first-value": "player.level",
														"comparison": 5,
														"second-value": "level"
													}
												}
											],
											"actions": [
												{
													"id": "set-font-color",
													"objectClass": "tooltipLevel",
													"sid": 891105954880305,
													"parameters": {
														"color": "GREEN"
													}
												}
											],
											"sid": 794048442218917
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 771110532435994
												}
											],
											"actions": [
												{
													"id": "set-font-color",
													"objectClass": "tooltipLevel",
													"sid": 176503093673297,
													"parameters": {
														"color": "RED"
													}
												}
											],
											"sid": 196249808030852
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-y",
											"objectClass": "tooltip",
											"sid": 261134409860990,
											"parameters": {
												"y": "ViewportBottom(Self.LayerName)"
											}
										},
										{
											"id": "set-y",
											"objectClass": "tooltipDescription",
											"sid": 980085952416714,
											"parameters": {
												"y": "tooltipLore.BBoxTop"
											}
										},
										{
											"type": "comment",
											"text": "Use the text height of the description instead of it's 'BBoxTop' since it can be multi-line"
										},
										{
											"id": "set-y",
											"objectClass": "tooltipLevel",
											"sid": 754242804605589,
											"parameters": {
												"y": "tooltipDescription.BBoxBottom - tooltipDescription.TextHeight - TOOLTIP_VERTICAL_TEXT_PADDING"
											}
										},
										{
											"id": "set-y",
											"objectClass": "tooltipClass",
											"sid": 303382449594785,
											"parameters": {
												"y": "tooltipLevel.BBoxTop"
											}
										},
										{
											"id": "set-y",
											"objectClass": "tooltipValue",
											"sid": 252059974546138,
											"parameters": {
												"y": "tooltipClass.BBoxTop"
											}
										},
										{
											"id": "set-y",
											"objectClass": "tooltipName",
											"sid": 153220410089423,
											"parameters": {
												"y": "tooltipValue.BBoxTop"
											}
										},
										{
											"type": "comment",
											"text": "This is instead of anchoring, which doesn't work because the top of this object changes dynamically."
										},
										{
											"id": "set-height",
											"objectClass": "tooltip",
											"sid": 783269046651512,
											"parameters": {
												"height": "Self.Y - tooltipName.BBoxTop + TOOLTIP_VERTICAL_PADDING"
											}
										}
									],
									"sid": 273454201901542,
									"isOrBlock": true
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-highest-lowest-value",
											"objectClass": "System",
											"sid": 346059891579239,
											"parameters": {
												"object": "tooltipText",
												"which": "highest",
												"expression": "tooltipText.TextWidth"
											}
										}
									],
									"actions": [
										{
											"id": "set-width",
											"objectClass": "tooltip",
											"sid": 438374178945166,
											"parameters": {
												"width": "tooltipText.TextWidth + TOOLTIP_HORIZONTAL_PADDING"
											}
										}
									],
									"sid": 330945650350467
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 837721359401634,
											"parameters": {
												"seconds": "END_OF_TICK",
												"use-timescale": true
											}
										},
										{
											"id": "tween-one-property",
											"objectClass": "tooltip",
											"sid": 145152265660994,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "NOT_USED",
												"property": "offsetOpacity",
												"end-value": "SOLID_OPACITY",
												"time": "MENU_FADE_TIME",
												"ease": "noease",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "TWEEN_REPEAT_COUNT"
											}
										}
									],
									"sid": 662762068157903
								}
							]
						},
						{
							"functionName": "Update comparison tooltip",
							"functionDescription": "Update and show the comparison tooltip with the specified information.",
							"functionCategory": "menus",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "name",
									"type": "string",
									"initialValue": "",
									"comment": "The name to display on the comparison tooltip.",
									"sid": 910590846581926
								},
								{
									"name": "class",
									"type": "string",
									"initialValue": "",
									"comment": "The class to display on the comparison tooltip.",
									"sid": 591887021608529
								},
								{
									"name": "level",
									"type": "number",
									"initialValue": "0",
									"comment": "The level to display on the comparison tooltip.",
									"sid": 301944540294416
								},
								{
									"name": "text",
									"type": "string",
									"initialValue": "",
									"comment": "The main body of content to display on the comparison tooltip.",
									"sid": 893566839981270
								},
								{
									"name": "lore",
									"type": "string",
									"initialValue": "",
									"comment": "The lore to display on the comparison tooltip.",
									"sid": 711926424267286
								},
								{
									"name": "value",
									"type": "number",
									"initialValue": "0",
									"comment": "The value (in coins) to display on the comparison tooltip.",
									"sid": 966010385466510
								}
							],
							"eventType": "function-block",
							"conditions": [],
							"actions": [
								{
									"type": "comment",
									"text": "We can't compare abilities, so no boolean parameter for that."
								},
								{
									"id": "set-text",
									"objectClass": "comparisonTooltipName",
									"sid": 721538760050324,
									"parameters": {
										"text": "lowercase(name)"
									}
								},
								{
									"id": "set-text",
									"objectClass": "comparisonTooltipClass",
									"sid": 543527112959690,
									"parameters": {
										"text": "class"
									}
								},
								{
									"id": "set-text",
									"objectClass": "comparisonTooltipValue",
									"sid": 828576033715828,
									"parameters": {
										"text": "value & SPACE & COINS_TEXT"
									}
								},
								{
									"id": "set-text",
									"objectClass": "comparisonTooltipLevel",
									"sid": 966874321132537,
									"parameters": {
										"text": "LEVEL_TEXT & SPACE & level"
									}
								},
								{
									"id": "set-text",
									"objectClass": "comparisonTooltipLore",
									"sid": 575354792888595,
									"parameters": {
										"text": "lore"
									}
								},
								{
									"id": "set-text",
									"objectClass": "comparisonTooltipDescription",
									"sid": 868128069488789,
									"parameters": {
										"text": "BLANK"
									}
								}
							],
							"sid": 943885777192739,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for",
											"objectClass": "System",
											"sid": 391526961137309,
											"parameters": {
												"name": "NOT_USED",
												"start-index": "LOOP_DEFAULT",
												"end-index": "tokencount(text, MOD_SEPARATOR) - DOUBLE_OFFSET"
											}
										}
									],
									"actions": [
										{
											"id": "append-text",
											"objectClass": "comparisonTooltipDescription",
											"sid": 377231084296688,
											"parameters": {
												"text": "RegexReplace(tokenat(tokenat(text, loopindex, MOD_SEPARATOR), MOD_NAME_INDEX, MOD_NAME_SEPARATOR), EITHER_CURLY_BRACKET_REGEX, GLOBAL_FLAG, BLANK) & newline "
											}
										}
									],
									"sid": 166074427221325
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 564058373235149,
											"parameters": {
												"value": "Functions.checkPlayerClass(class)"
											}
										}
									],
									"actions": [
										{
											"id": "set-font-color",
											"objectClass": "comparisonTooltipClass",
											"sid": 812337526807678,
											"parameters": {
												"color": "GREEN"
											}
										}
									],
									"sid": 928300519864730,
									"isOrBlock": true
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 464183020747268
										}
									],
									"actions": [
										{
											"id": "set-font-color",
											"objectClass": "comparisonTooltipClass",
											"sid": 829973938850633,
											"parameters": {
												"color": "RED"
											}
										}
									],
									"sid": 570480678051004
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 792823110178621,
											"parameters": {
												"first-value": "player.level",
												"comparison": 5,
												"second-value": "level"
											}
										}
									],
									"actions": [
										{
											"id": "set-font-color",
											"objectClass": "comparisonTooltipLevel",
											"sid": 192643029905552,
											"parameters": {
												"color": "GREEN"
											}
										}
									],
									"sid": 103253862958061
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 246626424806030
										}
									],
									"actions": [
										{
											"id": "set-font-color",
											"objectClass": "comparisonTooltipLevel",
											"sid": 939493761324756,
											"parameters": {
												"color": "RED"
											}
										}
									],
									"sid": 452964067971167
								},
								{
									"eventType": "comment",
									"text": "See comments in the related events for the normal tooltip."
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-y",
											"objectClass": "comparisonTooltip",
											"sid": 671311727852783,
											"parameters": {
												"y": "tooltip.BBoxTop"
											}
										},
										{
											"id": "set-y",
											"objectClass": "comparisonTooltipDescription",
											"sid": 982379596444137,
											"parameters": {
												"y": "comparisonTooltipLore.BBoxTop"
											}
										},
										{
											"type": "comment",
											"text": "Use the text height of the description instead of it's 'BBoxTop' since it can be multi-line"
										},
										{
											"id": "set-y",
											"objectClass": "comparisonTooltipLevel",
											"sid": 378856161583710,
											"parameters": {
												"y": "comparisonTooltipDescription.BBoxBottom - comparisonTooltipDescription.TextHeight - TOOLTIP_VERTICAL_TEXT_PADDING"
											}
										},
										{
											"id": "set-y",
											"objectClass": "comparisonTooltipClass",
											"sid": 656948004152940,
											"parameters": {
												"y": "comparisonTooltipLevel.BBoxTop"
											}
										},
										{
											"id": "set-y",
											"objectClass": "comparisonTooltipValue",
											"sid": 298993727985744,
											"parameters": {
												"y": "comparisonTooltipClass.BBoxTop"
											}
										},
										{
											"id": "set-y",
											"objectClass": "comparisonTooltipName",
											"sid": 659464851487438,
											"parameters": {
												"y": "comparisonTooltipValue.BBoxTop"
											}
										},
										{
											"type": "comment",
											"text": "This is instead of anchoring, which doesn't work because the top of this object changes dynamically."
										},
										{
											"id": "set-height",
											"objectClass": "comparisonTooltip",
											"sid": 473010455313794,
											"parameters": {
												"height": "Self.Y - comparisonTooltipName.BBoxTop + TOOLTIP_VERTICAL_PADDING"
											}
										},
										{
											"id": "set-y",
											"objectClass": "currentlyEquipped",
											"sid": 543793349127980,
											"parameters": {
												"y": "comparisonTooltip.BBoxTop"
											}
										}
									],
									"sid": 233887033264269
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-highest-lowest-value",
											"objectClass": "System",
											"sid": 637439964578507,
											"parameters": {
												"object": "comparisonTooltipText",
												"which": "highest",
												"expression": "comparisonTooltipText.TextWidth"
											}
										}
									],
									"actions": [
										{
											"id": "set-width",
											"objectClass": "comparisonTooltip",
											"sid": 600400404613481,
											"parameters": {
												"width": "comparisonTooltipText.TextWidth + TOOLTIP_HORIZONTAL_PADDING"
											}
										}
									],
									"sid": 758644597798527
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 229744424860900,
											"parameters": {
												"seconds": "END_OF_TICK",
												"use-timescale": true
											}
										},
										{
											"id": "tween-one-property",
											"objectClass": "comparisonTooltip",
											"sid": 723280941357015,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "NOT_USED",
												"property": "offsetOpacity",
												"end-value": "SOLID_OPACITY",
												"time": "MENU_FADE_TIME",
												"ease": "noease",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "TWEEN_REPEAT_COUNT"
											}
										}
									],
									"sid": 345794445703827
								}
							]
						},
						{
							"functionName": "makeMultiline",
							"functionDescription": "Break text up into multiple lines.",
							"functionCategory": "menus",
							"functionReturnType": "string",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "text",
									"type": "string",
									"initialValue": "",
									"comment": "The string to parse onto multiple lines.",
									"sid": 111120030396060
								}
							],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 958028436375389,
							"children": [
								{
									"eventType": "variable",
									"name": "NEWLINE_SEQUENCE",
									"type": "string",
									"initialValue": "newline",
									"comment": "The string to use to represent where a newline is needed.",
									"isStatic": false,
									"isConstant": true,
									"sid": 119929648323933
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-function-return-value",
											"objectClass": "Functions",
											"sid": 965970913235530,
											"parameters": {
												"value": "replace(text, NEWLINE_SEQUENCE, newline)"
											}
										}
									],
									"sid": 343025903689753
								}
							]
						}
					],
					"sid": 534862555037467
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "enemy info",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-start-of-layout",
									"objectClass": "System",
									"sid": 737867412499976
								}
							],
							"actions": [
								{
									"id": "set-opacity",
									"objectClass": "enemyHealthFrame",
									"sid": 141933657988928,
									"parameters": {
										"opacity": "TRANSPARENT_OPACITY"
									}
								}
							],
							"sid": 603778329502351
						},
						{
							"aceType": "action",
							"aceName": "Update enemy info",
							"objectClass": "enemy",
							"functionDescription": "Update's the enemy's info in the overlay.",
							"functionCategory": "information",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [],
							"eventType": "custom-ace-block",
							"conditions": [],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "enemyName",
									"sid": 675864384199733,
									"parameters": {
										"text": "lowercase(enemy.fullName)"
									}
								},
								{
									"id": "set-text",
									"objectClass": "enemyAttributes",
									"sid": 996520508067314,
									"parameters": {
										"text": "BLANK"
									}
								}
							],
							"sid": 205245599416706,
							"children": [
								{
									"eventType": "variable",
									"name": "attributes",
									"type": "string",
									"initialValue": "",
									"comment": "",
									"isStatic": true,
									"isConstant": false,
									"sid": 633643937576285
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 885172701361285,
											"parameters": {
												"variable": "attributes",
												"value": "enemy.attributes"
											}
										}
									],
									"sid": 315909316028904
								},
								{
									"eventType": "variable",
									"name": "ATTRIBUTE_SEPARATOR",
									"type": "string",
									"initialValue": ",",
									"comment": "The character used to parse attributes.",
									"isStatic": false,
									"isConstant": true,
									"sid": 451400736443053
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for",
											"objectClass": "System",
											"sid": 185232497329886,
											"parameters": {
												"name": "NOT_USED",
												"start-index": "LOOP_DEFAULT",
												"end-index": "tokencount(attributes, ATTRIBUTE_SEPARATOR)"
											}
										}
									],
									"actions": [
										{
											"id": "append-text",
											"objectClass": "enemyAttributes",
											"sid": 522396908890883,
											"parameters": {
												"text": "tokenat(attributes, loopindex, ATTRIBUTE_SEPARATOR) & newline"
											}
										}
									],
									"sid": 779974924962259
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 984177249915966,
											"parameters": {
												"seconds": "END_OF_TICK",
												"use-timescale": true
											}
										},
										{
											"id": "tween-one-property",
											"objectClass": "enemyHealthFrame",
											"sid": 762702223043765,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "NOT_USED",
												"property": "offsetOpacity",
												"end-value": "SOLID_OPACITY",
												"time": "MENU_FADE_TIME",
												"ease": "noease",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "TWEEN_REPEAT_COUNT"
											}
										}
									],
									"sid": 351561554142939
								}
							]
						},
						{
							"eventType": "variable",
							"name": "healthBarScale",
							"type": "number",
							"initialValue": "0",
							"comment": "The X scaling of the enemy's health bar.",
							"isStatic": true,
							"isConstant": false,
							"sid": 828197839110695
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "cursor-is-over-object",
									"objectClass": "mouse",
									"sid": 560016983693502,
									"parameters": {
										"object": "enemyBody"
									}
								},
								{
									"id": "pick-topbottom",
									"objectClass": "enemyBody",
									"sid": 941475082877777,
									"parameters": {
										"which": "top"
									}
								},
								{
									"id": "pick-parent",
									"objectClass": "enemyBody",
									"sid": 795137331020642,
									"parameters": {
										"parent": "enemy",
										"which": "own"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 980137107684028,
									"parameters": {
										"variable": "healthBarScale",
										"value": "enemy.currentHealth / enemy.maxHealth * PERCENTAGE_DIVIDER"
									}
								}
							],
							"sid": 107491999194856,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "trigger-once-while-true",
											"objectClass": "System",
											"sid": 960441615476776
										}
									],
									"actions": [
										{
											"customAction": "Update enemy info",
											"objectClass": "enemy",
											"sid": 663742265398797
										}
									],
									"sid": 639451042301086
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-text",
											"objectClass": "enemyName",
											"sid": 434210227725965,
											"parameters": {
												"text-to-compare": "enemy.fullName",
												"case-sensitivity": "ignore-case"
											},
											"isInverted": true
										},
										{
											"id": "trigger-once-while-true",
											"objectClass": "System",
											"sid": 957637580777324
										}
									],
									"actions": [
										{
											"customAction": "Update enemy info",
											"objectClass": "enemy",
											"sid": 258101121703731
										}
									],
									"sid": 866235878046209
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 149532471031596,
											"parameters": {
												"first-value": "enemyHealthBar.ImageScaleX",
												"comparison": 1,
												"second-value": "healthBarScale"
											}
										},
										{
											"id": "trigger-once-while-true",
											"objectClass": "System",
											"sid": 765997918956657
										}
									],
									"actions": [
										{
											"id": "set-image-scale-x",
											"objectClass": "enemyHealthBar",
											"sid": 409361728160888,
											"parameters": {
												"scale-x": "healthBarScale"
											}
										}
									],
									"sid": 782496995465253
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 879642486780677
								},
								{
									"id": "trigger-once-while-true",
									"objectClass": "System",
									"sid": 479992439038144
								}
							],
							"actions": [
								{
									"id": "tween-one-property",
									"objectClass": "enemyHealthFrame",
									"sid": 978586895562677,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "NOT_USED",
										"property": "offsetOpacity",
										"end-value": "TRANSPARENT_OPACITY",
										"time": "MENU_FADE_TIME",
										"ease": "noease",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "TWEEN_REPEAT_COUNT"
									}
								}
							],
							"sid": 820060221223573
						}
					],
					"sid": 407220405598445
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "settings",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-object-clicked",
									"objectClass": "mouse",
									"sid": 788644910307958,
									"parameters": {
										"mouse-button": "left",
										"click-type": "clicked",
										"object-clicked": "checkbox"
									}
								}
							],
							"actions": [],
							"sid": 523175943705179,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "checkbox",
											"sid": 533996962520063,
											"parameters": {
												"animation": "CHECKED_KEYWORD"
											}
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "checkbox",
											"sid": 118750584381554,
											"parameters": {
												"animation": "UNCHECKED_KEYWORD",
												"from": "beginning"
											}
										}
									],
									"sid": 242886779246573,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-tag-playing",
													"objectClass": "audio",
													"sid": 973820514686706,
													"parameters": {
														"tag": "UNCHECKED_KEYWORD & checkbox.UID"
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"id": "play-at-object-by-name",
													"objectClass": "audio",
													"sid": 245083408390201,
													"parameters": {
														"folder": "sounds",
														"audio-file-name": "Functions.soundEffectName(UNCHECKED_KEYWORD)",
														"loop": "not-looping",
														"volume": "DEFAULT_STEREO_PAN",
														"object": "checkbox",
														"inner-angle": "NON_DIRECTIONAL_INNER_ANGLE",
														"outer-angle": "NON_DIRECTIONAL_OUTER_ANGLE",
														"outer-gain": "NON_DIRECTIONAL_OUTER_GAIN",
														"tag-optional": "UNCHECKED_KEYWORD & checkbox.UID"
													}
												}
											],
											"sid": 781303277124167
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 160180378950240
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "checkbox",
											"sid": 709413526170555,
											"parameters": {
												"animation": "CHECKED_KEYWORD",
												"from": "beginning"
											}
										}
									],
									"sid": 481722811100812,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-tag-playing",
													"objectClass": "audio",
													"sid": 751077973503270,
													"parameters": {
														"tag": "CHECKED_KEYWORD & checkbox.UID"
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"id": "play-at-object-by-name",
													"objectClass": "audio",
													"sid": 359738599268669,
													"parameters": {
														"folder": "sounds",
														"audio-file-name": "Functions.soundEffectName(CHECKED_KEYWORD)",
														"loop": "not-looping",
														"volume": "DEFAULT_STEREO_PAN",
														"object": "checkbox",
														"inner-angle": "NON_DIRECTIONAL_INNER_ANGLE",
														"outer-angle": "NON_DIRECTIONAL_OUTER_ANGLE",
														"outer-gain": "NON_DIRECTIONAL_OUTER_GAIN",
														"tag-optional": "CHECKED_KEYWORD & checkbox.UID"
													}
												}
											],
											"sid": 376559198738564
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-any-key-pressed",
									"objectClass": "keyboard",
									"sid": 167192459492997
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "keybinder",
									"sid": 889791498902048,
									"parameters": {
										"instance-variable": "keycode",
										"comparison": 0,
										"value": "keyboard.LastKeyCode"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "keybinder",
									"sid": 406740118147742,
									"parameters": {
										"instance-variable": "target",
										"comparison": 0,
										"value": "settingsMenuStatue.LayerName"
									}
								},
								{
									"id": "is-any-playing",
									"objectClass": "statue",
									"sid": 547306812257313,
									"behaviorType": "Tween",
									"isInverted": true
								},
								{
									"id": "is-any-playing",
									"objectClass": "fader",
									"sid": 448930757734690,
									"behaviorType": "Tween",
									"isInverted": true
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "The settings menu can't be opened while anything else is fading."
								}
							],
							"sid": 523105908918023,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "layer-is-visible",
											"objectClass": "System",
											"sid": 694307768566811,
											"parameters": {
												"layer": "settingsMenuStatue.LayerName"
											}
										}
									],
									"actions": [],
									"sid": 742240280522348,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-all",
													"objectClass": "System",
													"sid": 138847087674083,
													"parameters": {
														"object": "keybinder"
													}
												},
												{
													"id": "compare-text",
													"objectClass": "keybinder",
													"sid": 494127180938316,
													"parameters": {
														"text-to-compare": "ELLIPSIS",
														"case-sensitivity": "ignore-case"
													}
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "Only allow closure of the settings menu if we aren't currently rebinding a key."
												}
											],
											"sid": 488562586448744
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 196255381221636
												}
											],
											"actions": [
												{
													"id": "set-time-scale",
													"objectClass": "System",
													"sid": 712461326797907,
													"parameters": {
														"time-scale": "UNPAUSED_TIME_SCALE"
													}
												},
												{
													"callFunction": "Close layer",
													"sid": 715906628023549,
													"parameters": [
														"settingsMenuStatue.LayerName"
													]
												},
												{
													"id": "set-layer-interactive",
													"objectClass": "System",
													"sid": 288955339999289,
													"parameters": {
														"layer": "body.LayerName",
														"interactive": true
													}
												},
												{
													"id": "set-layer-interactive",
													"objectClass": "System",
													"sid": 356425458563202,
													"parameters": {
														"layer": "abilityBarStatue.LayerName",
														"interactive": true
													}
												},
												{
													"id": "set-layer-interactive",
													"objectClass": "System",
													"sid": 847196829159466,
													"parameters": {
														"layer": "background.LayerName",
														"interactive": true
													}
												}
											],
											"sid": 728272389536994
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 249415301243006
										}
									],
									"actions": [
										{
											"id": "set-time-scale",
											"objectClass": "System",
											"sid": 611202584541492,
											"parameters": {
												"time-scale": "PAUSED"
											}
										},
										{
											"id": "set-layer-interactive",
											"objectClass": "System",
											"sid": 278733162287097,
											"parameters": {
												"layer": "body.LayerName",
												"interactive": false
											}
										},
										{
											"id": "set-layer-interactive",
											"objectClass": "System",
											"sid": 115592063285771,
											"parameters": {
												"layer": "abilityBarStatue.LayerName",
												"interactive": false
											}
										},
										{
											"id": "set-layer-interactive",
											"objectClass": "System",
											"sid": 119403818847371,
											"parameters": {
												"layer": "background.LayerName",
												"interactive": false
											}
										},
										{
											"callFunction": "Close dialog",
											"sid": 227155259177360
										},
										{
											"callFunction": "Close layer",
											"sid": 363219135868759,
											"parameters": [
												"equippedMenuStatue.LayerName"
											]
										},
										{
											"callFunction": "Close layer",
											"sid": 165993740378783,
											"parameters": [
												"inventoryMenuStatue.LayerName"
											]
										},
										{
											"callFunction": "Close layer",
											"sid": 440272284419070,
											"parameters": [
												"abilitySelectorStatue.LayerName"
											]
										},
										{
											"callFunction": "Close layer",
											"sid": 129664861089245,
											"parameters": [
												"characterMenuStatue.LayerName"
											]
										},
										{
											"callFunction": "Open layer",
											"sid": 489084137274119,
											"parameters": [
												"settingsMenuStatue.LayerName"
											]
										}
									],
									"sid": 520857936134325
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-object-clicked",
									"objectClass": "mouse",
									"sid": 643567039363702,
									"parameters": {
										"mouse-button": "left",
										"click-type": "clicked",
										"object-clicked": "keybinder"
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "If none of the keybinders are waiting to receive an input..."
								}
							],
							"sid": 713480100974908,
							"children": [
								{
									"eventType": "variable",
									"name": "NO_KEYCODE",
									"type": "number",
									"initialValue": "0",
									"comment": "The value for no keycode.",
									"isStatic": false,
									"isConstant": true,
									"sid": 882437954423627
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-all",
											"objectClass": "System",
											"sid": 406514684073326,
											"parameters": {
												"object": "keybinder"
											}
										},
										{
											"id": "compare-text",
											"objectClass": "keybinder",
											"sid": 685531208991222,
											"parameters": {
												"text-to-compare": "ELLIPSIS",
												"case-sensitivity": "ignore-case"
											}
										}
									],
									"actions": [],
									"sid": 379220276263228
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 684890181660628
										}
									],
									"actions": [
										{
											"id": "set-text",
											"objectClass": "keybinder",
											"sid": 637931546165125,
											"parameters": {
												"text": "ELLIPSIS"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "keybinder",
											"sid": 450697672111465,
											"parameters": {
												"instance-variable": "keycode",
												"value": "NO_KEYCODE"
											}
										},
										{
											"id": "set-layer-interactive",
											"objectClass": "System",
											"sid": 584842475520771,
											"parameters": {
												"layer": "settingsMenuStatue.LayerName",
												"interactive": false
											}
										}
									],
									"sid": 209007120016131
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-any-key-pressed",
									"objectClass": "keyboard",
									"sid": 570830043676926
								},
								{
									"id": "compare-text",
									"objectClass": "keybinder",
									"sid": 554440300150107,
									"parameters": {
										"text-to-compare": "ELLIPSIS",
										"case-sensitivity": "ignore-case"
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "When a key is pressed, and there's a keybinder waiting to receive input..."
								}
							],
							"sid": 929528626556521,
							"children": [
								{
									"eventType": "variable",
									"name": "SPACEBAR",
									"type": "string",
									"initialValue": "spacebar",
									"comment": "The name of the spacebar key.",
									"isStatic": false,
									"isConstant": true,
									"sid": 421584328610978
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-all",
											"objectClass": "System",
											"sid": 370753037980012,
											"parameters": {
												"object": "keybinder"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "keybinder",
											"sid": 268922051436640,
											"parameters": {
												"instance-variable": "keycode",
												"comparison": 0,
												"value": "keyboard.LastKeyCode"
											}
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "...and the key that was pressed isn't already bound..."
										}
									],
									"sid": 624381061161863
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 909037105655847
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "...update the keybinder keycode and text."
										},
										{
											"id": "set-text",
											"objectClass": "keybinder",
											"sid": 634170616464691,
											"parameters": {
												"text": "uppercase(replace(keyboard.TypedKey, SPACE, SPACEBAR))"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "keybinder",
											"sid": 908548169808163,
											"parameters": {
												"instance-variable": "keycode",
												"value": "keyboard.LastKeyCode"
											}
										},
										{
											"id": "set-layer-interactive",
											"objectClass": "System",
											"sid": 349720274995196,
											"parameters": {
												"layer": "settingsMenuStatue.LayerName",
												"interactive": true
											}
										}
									],
									"sid": 508602824145830,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "abilitySlot",
													"sid": 780316021632258,
													"parameters": {
														"instance-variable": "abilityNumber",
														"comparison": 0,
														"value": "keybinder.abilityNumber"
													}
												},
												{
													"id": "pick-children",
													"objectClass": "abilitySlot",
													"sid": 663580547770050,
													"parameters": {
														"child": "abilityKey",
														"which": "own"
													}
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "If there's an ability slot tied to this keybinder, update its abilityKey."
												},
												{
													"id": "set-text",
													"objectClass": "abilityKey",
													"sid": 416449890932601,
													"parameters": {
														"text": "BLACK_OUTLINE_BBCODE & keybinder.PlainText"
													}
												}
											],
											"sid": 949462789028493
										}
									]
								}
							]
						}
					],
					"sid": 925547222458167
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "statues",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-created",
									"objectClass": "statue",
									"sid": 319590783319583
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "statue",
									"sid": 165910146363182,
									"parameters": {
										"instance-variable": "originalX",
										"value": "Self.X"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "statue",
									"sid": 959915078054956,
									"parameters": {
										"instance-variable": "originalY",
										"value": "Self.Y"
									}
								},
								{
									"type": "comment",
									"text": "Allow statues to fade while paused."
								},
								{
									"id": "set-object-time-scale",
									"objectClass": "System",
									"sid": 792221529704906,
									"parameters": {
										"object": "statue",
										"time-scale": "UNPAUSED_TIME_SCALE"
									}
								}
							],
							"sid": 502899049216928
						},
						{
							"eventType": "variable",
							"name": "STATUE_DRAG_OPACITY",
							"type": "number",
							"initialValue": "50",
							"comment": "The opacity value of dragged statues.",
							"isStatic": false,
							"isConstant": true,
							"sid": 237851361576172
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-drag-start",
									"objectClass": "statue",
									"sid": 243525080075900,
									"behaviorType": "DragDrop"
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "We can't reorganize layers in this event, because global sprites go to their matching layout number when the layout is changed, and re-organizing layers changes their number.",
									"text-color": [
										0.7843137254901961,
										0.7843137254901961,
										0.7843137254901961,
										1
									],
									"background-color": [
										0,
										0,
										0,
										0
									]
								},
								{
									"id": "set-enabled",
									"objectClass": "statue",
									"sid": 223147705922705,
									"behaviorType": "Anchor",
									"parameters": {
										"state": "disabled"
									}
								},
								{
									"id": "tween-one-property",
									"objectClass": "statue",
									"sid": 465192844497970,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "NOT_USED",
										"property": "offsetOpacity",
										"end-value": "STATUE_DRAG_OPACITY",
										"time": "MENU_FADE_TIME",
										"ease": "noease",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "TWEEN_REPEAT_COUNT"
									}
								}
							],
							"sid": 462994720905216
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-drop",
									"objectClass": "statue",
									"sid": 904770788709315,
									"behaviorType": "DragDrop"
								}
							],
							"actions": [
								{
									"id": "tween-one-property",
									"objectClass": "statue",
									"sid": 431331815907238,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "NOT_USED",
										"property": "offsetOpacity",
										"end-value": "SOLID_OPACITY",
										"time": "MENU_FADE_TIME",
										"ease": "noease",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "TWEEN_REPEAT_COUNT"
									}
								}
							],
							"sid": 979508492213436
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-object-clicked",
									"objectClass": "mouse",
									"sid": 940732654549276,
									"parameters": {
										"mouse-button": "left",
										"click-type": "double-clicked",
										"object-clicked": "statue"
									}
								},
								{
									"id": "pick-topbottom",
									"objectClass": "statue",
									"sid": 855042222664613,
									"parameters": {
										"which": "top"
									}
								}
							],
							"actions": [
								{
									"id": "set-position",
									"objectClass": "statue",
									"sid": 782379482693970,
									"parameters": {
										"x": "Self.originalX",
										"y": "Self.originalY"
									}
								},
								{
									"id": "set-enabled",
									"objectClass": "statue",
									"sid": 174249010982823,
									"behaviorType": "Anchor",
									"parameters": {
										"state": "enabled"
									}
								}
							],
							"sid": 251720373653722
						}
					],
					"sid": 229570565825876
				}
			],
			"sid": 491413826418283
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "enemies",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "'Enemy currentHealth > THRESHOLD' should be a function, but functions with return values can't copy picked. The equivalent would be 'Pick enemies where functions.isEnemyAlive', but that isn't shorter, I'm also not convinced it does exactly the same thing.",
					"text-color": [
						0.7843137254901961,
						0.7843137254901961,
						0.7843137254901961,
						1
					],
					"background-color": [
						0.39215686274509803,
						0,
						0,
						1
					]
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "behaviors",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "variable",
							"name": "GOING_BACKWARD_AGAIN",
							"type": "string",
							"initialValue": "goingBackwardAgain",
							"comment": "Indicates this enemy is moving backward, for the second time.",
							"isStatic": false,
							"isConstant": true,
							"sid": 327317398170116
						},
						{
							"eventType": "variable",
							"name": "GOING_BACKWARD",
							"type": "string",
							"initialValue": "goingBackward",
							"comment": "Indicates this enemy is moving backward.",
							"isStatic": false,
							"isConstant": true,
							"sid": 431453150985793
						},
						{
							"eventType": "variable",
							"name": "GOING_LEFT",
							"type": "string",
							"initialValue": "goingLeft",
							"comment": "Indicates this enemy is moving to their left.",
							"isStatic": false,
							"isConstant": true,
							"sid": 598949023580630
						},
						{
							"eventType": "variable",
							"name": "GOING_RIGHT",
							"type": "string",
							"initialValue": "goingRight",
							"comment": "Indicates this enemy is moving to their right.",
							"isStatic": false,
							"isConstant": true,
							"sid": 500748282075827
						},
						{
							"eventType": "variable",
							"name": "NOT_REROUTING",
							"type": "string",
							"initialValue": "no",
							"comment": "Indicates this enemy is not currently rerouting.",
							"isStatic": false,
							"isConstant": true,
							"sid": 656245470907559
						},
						{
							"aceType": "action",
							"aceName": "Walk at angle",
							"objectClass": "enemy",
							"functionDescription": "",
							"functionCategory": "movement",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "theAngle",
									"type": "number",
									"initialValue": "0",
									"comment": "The angle along which the enemy should move.",
									"sid": 648332493172035
								},
								{
									"name": "theDistance",
									"type": "number",
									"initialValue": "0",
									"comment": "The distance the enemy will travel.",
									"sid": 472143259885471
								}
							],
							"eventType": "custom-ace-block",
							"conditions": [],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 592092303407705,
									"parameters": {
										"variable": "theAngle",
										"value": "enemy.MoveTo.MovingAngle - theAngle"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 973571768105207,
									"parameters": {
										"variable": "theDistance",
										"value": "Functions.isometrify(theDistance, theAngle)"
									}
								},
								{
									"id": "move-to-position",
									"objectClass": "enemy",
									"sid": 883198940336461,
									"behaviorType": "MoveTo",
									"parameters": {
										"x": "Self.X + cos(theAngle) * theDistance",
										"y": "Self.Y + sin(theAngle) * theDistance",
										"mode": "direct"
									}
								}
							],
							"sid": 137579896912588
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-on-screen",
									"objectClass": "enemyBody",
									"sid": 258864942012861
								},
								{
									"id": "pick-parent",
									"objectClass": "enemyBody",
									"sid": 117834460067667,
									"parameters": {
										"parent": "enemy",
										"which": "own"
									}
								}
							],
							"actions": [
								{
									"id": "set-max-speed",
									"objectClass": "enemy",
									"sid": 643289427795543,
									"behaviorType": "MoveTo",
									"parameters": {
										"max-speed": "Functions.isometrify(Self.movementSpeed, Self.MoveTo.MovingAngle)"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "enemy",
									"sid": 277643133966543,
									"parameters": {
										"instance-variable": "currentHealth",
										"value": "clamp(Self.currentHealth, 0,Self.maxHealth)"
									}
								}
							],
							"sid": 786563222722520,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 273135057844696,
											"parameters": {
												"value": "Functions.contains(enemyBody.AnimationName, WALK_KEYWORD)\n"
											}
										}
									],
									"actions": [],
									"sid": 954751649253547,
									"children": [
										{
											"eventType": "comment",
											"text": "TODO: Build a tool that lets us add frame tags en masse. Use them to indicate on which frames the footstep sounds should play for the player and enemies.",
											"text-color": [
												0,
												0,
												0,
												1
											],
											"background-color": [
												1,
												1,
												0,
												1
											]
										},
										{
											"eventType": "variable",
											"name": "LEFT_FOOTSTEP_FRAME",
											"type": "number",
											"initialValue": "13",
											"comment": "The frame in which the left footstep touches the ground.",
											"isStatic": false,
											"isConstant": true,
											"sid": 225825869193963
										},
										{
											"eventType": "variable",
											"name": "RIGHT_FOOTSTEP_FRAME",
											"type": "number",
											"initialValue": "33",
											"comment": "The frame in which the right footstep touches the ground.",
											"isStatic": false,
											"isConstant": true,
											"sid": 883690179788132
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-animation-frame",
													"objectClass": "enemyBody",
													"sid": 805252970942332,
													"parameters": {
														"comparison": 0,
														"number": "LEFT_FOOTSTEP_FRAME"
													}
												},
												{
													"id": "trigger-once-while-true",
													"objectClass": "System",
													"sid": 680416264464975
												}
											],
											"actions": [
												{
													"id": "play-at-object-by-name",
													"objectClass": "audio",
													"sid": 989661304189083,
													"parameters": {
														"folder": "sounds",
														"audio-file-name": "Functions.soundEffectName(background.ObjectTypeName & FOOTSTEP_KEYWORD)",
														"loop": "not-looping",
														"volume": "soundEffectsVolume",
														"object": "enemyBody",
														"inner-angle": "NON_DIRECTIONAL_INNER_ANGLE",
														"outer-angle": "NON_DIRECTIONAL_OUTER_ANGLE",
														"outer-gain": "NON_DIRECTIONAL_OUTER_GAIN",
														"tag-optional": "NOT_USED"
													}
												}
											],
											"sid": 633622757363681
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-animation-frame",
													"objectClass": "enemyBody",
													"sid": 434985407934845,
													"parameters": {
														"comparison": 0,
														"number": "RIGHT_FOOTSTEP_FRAME"
													}
												},
												{
													"id": "trigger-once-while-true",
													"objectClass": "System",
													"sid": 267080386260004
												}
											],
											"actions": [
												{
													"id": "play-at-object-by-name",
													"objectClass": "audio",
													"sid": 938259999813228,
													"parameters": {
														"folder": "sounds",
														"audio-file-name": "Functions.soundEffectName(background.ObjectTypeName & FOOTSTEP_KEYWORD)",
														"loop": "not-looping",
														"volume": "soundEffectsVolume",
														"object": "enemyBody",
														"inner-angle": "NON_DIRECTIONAL_INNER_ANGLE",
														"outer-angle": "NON_DIRECTIONAL_OUTER_ANGLE",
														"outer-gain": "NON_DIRECTIONAL_OUTER_GAIN",
														"tag-optional": "NOT_USED"
													}
												}
											],
											"sid": 880617534244316
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "on-arrived",
											"objectClass": "enemy",
											"sid": 885313538967121,
											"behaviorType": "MoveTo"
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "Here we handle what happens when the enemy successfully arrives at their destination."
										}
									],
									"sid": 539686458967405,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "enemy",
													"sid": 854347625661608,
													"parameters": {
														"instance-variable": "rerouting",
														"comparison": 0,
														"value": "GOING_BACKWARD"
													}
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "If they successfully moved backward, now the enemy will go left."
												},
												{
													"id": "set-instvar-value",
													"objectClass": "enemy",
													"sid": 741748355093181,
													"parameters": {
														"instance-variable": "rerouting",
														"value": "GOING_LEFT"
													}
												},
												{
													"customAction": "Walk at angle",
													"objectClass": "enemy",
													"sid": 874467291549939,
													"parameters": [
														"QUARTER_CIRCLE",
														"enemy.Width"
													]
												}
											],
											"sid": 219556820298042
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 529751045864272
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "enemy",
													"sid": 518210565852582,
													"parameters": {
														"instance-variable": "rerouting",
														"comparison": 0,
														"value": "GOING_LEFT"
													}
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "If they successfully went left, they're done; they can resume normal behavior."
												},
												{
													"id": "set-instvar-value",
													"objectClass": "enemy",
													"sid": 148249188176851,
													"parameters": {
														"instance-variable": "rerouting",
														"value": "NOT_REROUTING"
													}
												}
											],
											"sid": 491299688276828
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 758460142996143
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "enemy",
													"sid": 361362030765160,
													"parameters": {
														"instance-variable": "rerouting",
														"comparison": 0,
														"value": "GOING_RIGHT"
													}
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "If they successfully went right, they're done; they can resume normal behavior."
												},
												{
													"id": "set-instvar-value",
													"objectClass": "enemy",
													"sid": 180347189057485,
													"parameters": {
														"instance-variable": "rerouting",
														"value": "NOT_REROUTING"
													}
												}
											],
											"sid": 401077608371867
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 742386062979371
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "enemy",
													"sid": 849543922891443,
													"parameters": {
														"instance-variable": "rerouting",
														"comparison": 0,
														"value": "GOING_BACKWARD_AGAIN"
													}
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "If they successfully moved backward a second time, try going left again. No need to record that this would be the 2nd left attempt."
												},
												{
													"id": "set-instvar-value",
													"objectClass": "enemy",
													"sid": 623035938797684,
													"parameters": {
														"instance-variable": "rerouting",
														"value": "GOING_LEFT"
													}
												},
												{
													"customAction": "Walk at angle",
													"objectClass": "enemy",
													"sid": 935624815720598,
													"parameters": [
														"QUARTER_CIRCLE",
														"enemy.Width"
													]
												}
											],
											"sid": 344833862316779
										}
									]
								},
								{
									"eventType": "variable",
									"name": "DISTANCE_MULTIPLIER",
									"type": "number",
									"initialValue": "2",
									"comment": "How much further to go in this reroute attempt.",
									"isStatic": false,
									"isConstant": true,
									"sid": 134848786786819
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "on-hit-solid",
											"objectClass": "enemy",
											"sid": 381212948325406,
											"behaviorType": "MoveTo"
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "If an enemy hit a solid while moving, they need to go somewhere else. They can't stop because they don't have an idle animation."
										}
									],
									"sid": 461383012509278,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "enemy",
													"sid": 945196365262255,
													"parameters": {
														"instance-variable": "rerouting",
														"comparison": 0,
														"value": "NOT_REROUTING"
													}
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "If the enemy wasn't already rerouting when he hit a solid, begin rerouting by going backward."
												},
												{
													"id": "set-instvar-value",
													"objectClass": "enemy",
													"sid": 391668534163888,
													"parameters": {
														"instance-variable": "rerouting",
														"value": "GOING_BACKWARD"
													}
												},
												{
													"customAction": "Walk at angle",
													"objectClass": "enemy",
													"sid": 430817924141140,
													"parameters": [
														"HALF_CIRCLE",
														"enemy.Width"
													]
												}
											],
											"sid": 688258119055863
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 917978582155203
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "enemy",
													"sid": 190534323080781,
													"parameters": {
														"instance-variable": "rerouting",
														"comparison": 0,
														"value": "GOING_BACKWARD"
													}
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "If the enemy hit a solid while going backward, try going left."
												},
												{
													"id": "set-instvar-value",
													"objectClass": "enemy",
													"sid": 571663436995349,
													"parameters": {
														"instance-variable": "rerouting",
														"value": "GOING_LEFT"
													}
												},
												{
													"customAction": "Walk at angle",
													"objectClass": "enemy",
													"sid": 725520960829608,
													"parameters": [
														"QUARTER_CIRCLE",
														"enemy.Width"
													]
												}
											],
											"sid": 715543732067525
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 343751899759745
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "enemy",
													"sid": 350170452507128,
													"parameters": {
														"instance-variable": "rerouting",
														"comparison": 0,
														"value": "GOING_LEFT"
													}
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "If the enemy hit a solid while going left, try going right. Go further than previously attempt, to prevent loops."
												},
												{
													"id": "set-instvar-value",
													"objectClass": "enemy",
													"sid": 578803424071431,
													"parameters": {
														"instance-variable": "rerouting",
														"value": "GOING_RIGHT"
													}
												},
												{
													"customAction": "Walk at angle",
													"objectClass": "enemy",
													"sid": 254286465424377,
													"parameters": [
														"HALF_CIRCLE",
														"enemy.Width * DISTANCE_MULTIPLIER"
													]
												}
											],
											"sid": 235276827078822
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 678975833778988
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "enemy",
													"sid": 951363165053175,
													"parameters": {
														"instance-variable": "rerouting",
														"comparison": 0,
														"value": "GOING_RIGHT"
													}
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "If the enemy hit a solid while going right, try backing up again."
												},
												{
													"id": "set-instvar-value",
													"objectClass": "enemy",
													"sid": 652993616584778,
													"parameters": {
														"instance-variable": "rerouting",
														"value": "GOING_BACKWARD_AGAIN"
													}
												},
												{
													"customAction": "Walk at angle",
													"objectClass": "enemy",
													"sid": 997902650040095,
													"parameters": [
														"QUARTER_CIRCLE",
														"enemy.Width"
													]
												}
											],
											"sid": 724755864938345
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 176386841905804
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "enemy",
													"sid": 963166989409324,
													"parameters": {
														"instance-variable": "rerouting",
														"comparison": 0,
														"value": "GOING_BACKWARD_AGAIN"
													}
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "If the enemy hit a solid while backing up again, they are probably stuck. Reset the rerouting process to try again."
												},
												{
													"id": "set-instvar-value",
													"objectClass": "enemy",
													"sid": 735693146646706,
													"parameters": {
														"instance-variable": "rerouting",
														"value": "NOT_REROUTING"
													}
												}
											],
											"sid": 522391266338360
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-moving",
											"objectClass": "enemy",
											"sid": 261289383252672,
											"behaviorType": "MoveTo"
										},
										{
											"id": "pick-children",
											"objectClass": "enemy",
											"sid": 602911596678790,
											"parameters": {
												"child": "enemyBody",
												"which": "own"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "enemy",
											"sid": 402525091719978,
											"parameters": {
												"instance-variable": "degrees",
												"value": "Functions.getDegrees(Self.MoveTo.MovingAngle)"
											}
										},
										{
											"id": "set-boolean-instvar",
											"objectClass": "enemy",
											"sid": 733443498925009,
											"parameters": {
												"instance-variable": "attacking",
												"value": "false"
											}
										}
									],
									"sid": 995911688446923,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "evaluate-expression",
													"objectClass": "System",
													"sid": 829074163670148,
													"parameters": {
														"value": "Functions.contains(enemyBody.AnimationName, WALK_KEYWORD)\n"
													}
												}
											],
											"actions": [
												{
													"id": "set-animation",
													"objectClass": "enemyBody",
													"sid": 342362866985389,
													"parameters": {
														"animation": "WALK_KEYWORD & SEPARATOR & enemy.degrees",
														"from": "current-frame"
													}
												}
											],
											"sid": 712780573528690
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 113104470063147
												}
											],
											"actions": [
												{
													"id": "set-animation",
													"objectClass": "enemyBody",
													"sid": 331732382634159,
													"parameters": {
														"animation": "WALK_KEYWORD & SEPARATOR & enemy.degrees",
														"from": "beginning"
													}
												}
											],
											"sid": 817877337397979
										},
										{
											"eventType": "block",
											"conditions": [],
											"actions": [
												{
													"id": "set-animation-speed",
													"objectClass": "enemyBody",
													"sid": 299126247746393,
													"parameters": {
														"speed": "enemy.movementSpeed / ANIMATION_DIVISOR"
													}
												}
											],
											"sid": 257704021090389
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "enemy",
											"sid": 404431078146695,
											"parameters": {
												"instance-variable": "rerouting",
												"comparison": 0,
												"value": "NOT_REROUTING"
											}
										},
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "enemy",
											"sid": 785786954622028,
											"parameters": {
												"instance-variable": "attacking"
											},
											"isInverted": true
										},
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "enemy",
											"sid": 108196162325046,
											"parameters": {
												"instance-variable": "hit"
											},
											"isInverted": true
										},
										{
											"id": "pick-parent",
											"objectClass": "enemyBody",
											"sid": 304773321105288,
											"parameters": {
												"parent": "enemy",
												"which": "own"
											}
										}
									],
									"actions": [],
									"sid": 714853243837445,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-by-evaluate",
													"objectClass": "System",
													"sid": 535624580317632,
													"parameters": {
														"object": "enemy",
														"expression": "Functions.isInRange(enemy.attackRange, enemy.X, enemy.Y)"
													}
												},
												{
													"id": "has-los-to-object",
													"objectClass": "enemy",
													"sid": 179505139370713,
													"behaviorType": "LineOfSight",
													"parameters": {
														"object": "player",
														"image-point": "OBJECT_ORIGIN"
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "enemy",
													"sid": 765456521621301,
													"parameters": {
														"instance-variable": "degrees",
														"value": "Functions.getDegrees(angle(enemy.X, enemy.Y, player.X, player.Y))"
													}
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "enemy",
													"sid": 780308239052219,
													"parameters": {
														"instance-variable": "attacking",
														"value": "true"
													}
												},
												{
													"id": "instance-signal",
													"objectClass": "enemy",
													"sid": 796429305361544,
													"parameters": {
														"tag": "enemy.simpleName"
													}
												}
											],
											"sid": 697644869671278
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-by-comparison",
													"objectClass": "System",
													"sid": 492969381854095,
													"parameters": {
														"object": "enemy",
														"expression": "Functions.isInRange(enemy.attackRange, enemy.X, enemy.Y)",
														"comparison": 0,
														"value": "FALSE"
													}
												}
											],
											"actions": [
												{
													"id": "move-to-object",
													"objectClass": "enemy",
													"sid": 801465804583466,
													"behaviorType": "MoveTo",
													"parameters": {
														"object": "player",
														"image-point": "OBJECT_ORIGIN",
														"mode": "direct"
													}
												}
											],
											"sid": 640992658053719
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "enemy",
											"sid": 301783311942772,
											"parameters": {
												"instance-variable": "currentHealth",
												"comparison": 0,
												"value": "THRESHOLD"
											}
										},
										{
											"id": "pick-children",
											"objectClass": "enemy",
											"sid": 342453186762135,
											"parameters": {
												"child": "enemyBody",
												"which": "own"
											}
										},
										{
											"id": "pick-by-comparison",
											"objectClass": "System",
											"sid": 112440800904193,
											"parameters": {
												"object": "enemyBody",
												"expression": "Functions.contains(enemyBody.AnimationName, DIE_KEYWORD)",
												"comparison": 0,
												"value": "FALSE"
											}
										},
										{
											"id": "pick-parent",
											"objectClass": "enemyBody",
											"sid": 292827668140868,
											"parameters": {
												"parent": "enemy",
												"which": "own"
											}
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "Pick dead enemies and their bodies. Trim down the selection of enemies to only those who are parents of bodies that aren't playing a DIE_KEYWORD animation."
										},
										{
											"id": "add-to-instvar",
											"objectClass": "player",
											"sid": 753964957765899,
											"parameters": {
												"instance-variable": "experience",
												"value": "enemy.experience"
											}
										},
										{
											"customAction": "Destroy projectiles",
											"objectClass": "enemy",
											"sid": 684362656708265
										},
										{
											"id": "destroy",
											"objectClass": "enemy",
											"sid": 661455970113275
										},
										{
											"id": "set-animation",
											"objectClass": "enemyBody",
											"sid": 984279648260387,
											"parameters": {
												"animation": "DIE_KEYWORD & SEPARATOR & enemy.degrees",
												"from": "beginning"
											}
										},
										{
											"id": "play-at-object-by-name",
											"objectClass": "audio",
											"sid": 878111084176644,
											"parameters": {
												"folder": "sounds",
												"audio-file-name": "Functions.soundEffectName(enemy.type & SEPARATOR & DIE_KEYWORD)",
												"loop": "not-looping",
												"volume": "soundEffectsVolume",
												"object": "enemyBody",
												"inner-angle": "NON_DIRECTIONAL_INNER_ANGLE",
												"outer-angle": "NON_DIRECTIONAL_OUTER_ANGLE",
												"outer-gain": "NON_DIRECTIONAL_OUTER_GAIN",
												"tag-optional": "NOT_USED"
											}
										},
										{
											"customAction": "Spawn loot",
											"objectClass": "loot",
											"sid": 325690623031120,
											"parameters": [
												"enemy.X",
												"enemy.Y"
											]
										}
									],
									"sid": 845775673450816
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-on-screen",
									"objectClass": "enemyBody",
									"sid": 127050934763793,
									"isInverted": true
								},
								{
									"id": "pick-parent",
									"objectClass": "enemyBody",
									"sid": 449029605780893,
									"parameters": {
										"parent": "enemy",
										"which": "own"
									}
								}
							],
							"actions": [
								{
									"id": "stop",
									"objectClass": "enemy",
									"sid": 747614533357404,
									"behaviorType": "MoveTo"
								},
								{
									"id": "set-instvar-value",
									"objectClass": "enemy",
									"sid": 344480556173198,
									"parameters": {
										"instance-variable": "rerouting",
										"value": "NOT_REROUTING"
									}
								}
							],
							"sid": 839354063176527
						},
						{
							"eventType": "variable",
							"name": "ENEMY_DEATH_FADE_OUT_TIME",
							"type": "number",
							"initialValue": "1",
							"comment": "How long to fade out the body of a dead enemy, in seconds.",
							"isStatic": false,
							"isConstant": true,
							"sid": 970931894317934
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-any-animation-finished",
									"objectClass": "enemyBody",
									"sid": 636124233086149
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "We could replace these with in-line waits based on the the length of the animation, but we would effectively lose the ability to change animation speeds while they were played."
								}
							],
							"sid": 915717840994810,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-evaluate",
											"objectClass": "System",
											"sid": 291377309424986,
											"parameters": {
												"object": "enemyBody",
												"expression": "Functions.contains(enemyBody.AnimationName, DIE_KEYWORD)"
											}
										}
									],
									"actions": [
										{
											"id": "tween-one-property",
											"objectClass": "enemyBody",
											"sid": 328626335671072,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "NOT_USED",
												"property": "offsetOpacity",
												"end-value": "TRANSPARENT_OPACITY",
												"time": "ENEMY_DEATH_FADE_OUT_TIME",
												"ease": "noease",
												"destroy-on-complete": "yes",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "TWEEN_REPEAT_COUNT"
											}
										}
									],
									"sid": 305858177061194
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-parent",
											"objectClass": "enemyBody",
											"sid": 829615484125780,
											"parameters": {
												"parent": "enemy",
												"which": "own"
											}
										}
									],
									"actions": [],
									"sid": 938155508642631,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-by-evaluate",
													"objectClass": "System",
													"sid": 714463769304741,
													"parameters": {
														"object": "enemyBody",
														"expression": "Functions.contains(enemyBody.AnimationName, ATTACK_KEYWORD)"
													}
												}
											],
											"actions": [
												{
													"id": "set-boolean-instvar",
													"objectClass": "enemy",
													"sid": 183789396537260,
													"parameters": {
														"instance-variable": "attacking",
														"value": "false"
													}
												}
											],
											"sid": 307056031215417
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-by-evaluate",
													"objectClass": "System",
													"sid": 347322284570872,
													"parameters": {
														"object": "enemyBody",
														"expression": "Functions.contains(enemyBody.AnimationName, HIT_KEYWORD)"
													}
												}
											],
											"actions": [
												{
													"id": "set-boolean-instvar",
													"objectClass": "enemy",
													"sid": 971129049528586,
													"parameters": {
														"instance-variable": "attacking",
														"value": "false"
													}
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "enemy",
													"sid": 972174768371784,
													"parameters": {
														"instance-variable": "hit",
														"value": "false"
													}
												}
											],
											"sid": 521797612596668
										}
									]
								}
							]
						}
					],
					"sid": 346842453318444
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "enemy abilities",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-instance-signal",
									"objectClass": "enemy",
									"sid": 395455347717356,
									"parameters": {
										"tag": "\"goblinWarlock\""
									}
								}
							],
							"actions": [],
							"sid": 614054561608264,
							"children": [
								{
									"eventType": "variable",
									"name": "PROJECTILE_SPEED",
									"type": "number",
									"initialValue": "600",
									"comment": "The speed of the projectile",
									"isStatic": false,
									"isConstant": true,
									"sid": 134741474609241
								},
								{
									"eventType": "variable",
									"name": "MANIFESTATION_POINT",
									"type": "number",
									"initialValue": "100",
									"comment": "The longest possible distance (in pixels) between the enemy origin and where the projectile visual representation should appear. This is when they are facing directly left or right.",
									"isStatic": false,
									"isConstant": true,
									"sid": 767388748972969
								},
								{
									"eventType": "variable",
									"name": "MANIFESTATION_FRAME",
									"type": "number",
									"initialValue": "10",
									"comment": "The (0-based) frame in which the projectile should manifest",
									"isStatic": false,
									"isConstant": true,
									"sid": 879762577402802
								},
								{
									"eventType": "variable",
									"name": "SIZE",
									"type": "number",
									"initialValue": "30",
									"comment": "The size of the projectile",
									"isStatic": false,
									"isConstant": true,
									"sid": 176132503858568
								},
								{
									"eventType": "variable",
									"name": "projectileManifestationTime",
									"type": "number",
									"initialValue": "0",
									"comment": "How long it takes the projectile to get from the enemy's origin to the manifestation point",
									"isStatic": true,
									"isConstant": false,
									"sid": 985844178598961
								},
								{
									"eventType": "variable",
									"name": "SOUND_EFFECT",
									"type": "string",
									"initialValue": "lightningOrb",
									"comment": "The sound effect to use with this ability.",
									"isStatic": false,
									"isConstant": true,
									"sid": 542642286270944
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-children",
											"objectClass": "enemy",
											"sid": 298773864152301,
											"parameters": {
												"child": "enemyBody",
												"which": "own"
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 886904033762256,
											"parameters": {
												"variable": "projectileManifestationTime",
												"value": "Functions.isometrify(MANIFESTATION_POINT, enemy.degrees) / PROJECTILE_SPEED"
											}
										},
										{
											"id": "stop",
											"objectClass": "enemy",
											"sid": 693919590256964,
											"behaviorType": "MoveTo"
										},
										{
											"id": "set-moving-angle",
											"objectClass": "enemy",
											"sid": 920813802034581,
											"behaviorType": "MoveTo",
											"parameters": {
												"angle": "angle(Self.X, Self.Y, player.X, player.Y)"
											}
										},
										{
											"id": "set-animation",
											"objectClass": "enemyBody",
											"sid": 678314465286259,
											"parameters": {
												"animation": "ATTACK_KEYWORD & SEPARATOR & enemy.degrees",
												"from": "beginning"
											}
										},
										{
											"id": "set-animation-speed",
											"objectClass": "enemyBody",
											"sid": 253166570977560,
											"parameters": {
												"speed": "enemy.attackSpeed"
											}
										},
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 182674950820577,
											"parameters": {
												"seconds": " MANIFESTATION_FRAME / enemyBody.AnimationSpeed - projectileManifestationTime",
												"use-timescale": true
											}
										}
									],
									"sid": 284787284392439,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "enemy",
													"sid": 352163118579076,
													"parameters": {
														"instance-variable": "hit"
													},
													"isInverted": true
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "enemy",
													"sid": 243189366343374,
													"parameters": {
														"instance-variable": "currentHealth",
														"comparison": 4,
														"value": "THRESHOLD"
													}
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "If the enemy was hit between the time when the attack started, but before the projectile was generated, cease continuation with the attack."
												},
												{
													"id": "create-object",
													"objectClass": "System",
													"sid": 394442389738293,
													"parameters": {
														"object-to-create": "projectile",
														"layer": "enemy.LayerName",
														"x": "enemy.X",
														"y": "enemy.Y",
														"create-hierarchy": false,
														"template-name": "NOT_USED"
													}
												}
											],
											"sid": 544411531920407,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "pick-last-created",
															"objectClass": "System",
															"sid": 355846942537171,
															"parameters": {
																"object": "projectile"
															}
														}
													],
													"actions": [
														{
															"id": "add-child",
															"objectClass": "enemy",
															"sid": 690782715598793,
															"parameters": {
																"child": "projectile",
																"transform-x": false,
																"transform-y": false,
																"transform-w": false,
																"transform-h": false,
																"transform-a": false,
																"transform-o": false,
																"transform-z-elevation": false,
																"transform-visibility": false,
																"destroy-with-parent": true
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "projectile",
															"sid": 792342174844032,
															"parameters": {
																"instance-variable": "range",
																"value": "enemy.attackRange"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "projectile",
															"sid": 422866868611826,
															"parameters": {
																"instance-variable": "lightningDamage",
																"value": "enemy.lightningDamage"
															}
														},
														{
															"id": "set-width",
															"objectClass": "projectile",
															"sid": 453400260113532,
															"parameters": {
																"width": "SIZE"
															}
														},
														{
															"id": "set-height",
															"objectClass": "projectile",
															"sid": 655969339353387,
															"parameters": {
																"height": "Self.Width / ISOMETRIC_DIVIDER"
															}
														},
														{
															"id": "set-speed",
															"objectClass": "projectile",
															"sid": 267847342477466,
															"behaviorType": "Bullet",
															"parameters": {
																"speed": "Functions.isometrify(PROJECTILE_SPEED, Self.Bullet.AngleOfMotion)"
															}
														},
														{
															"id": "set-angle-of-motion",
															"objectClass": "projectile",
															"sid": 631158025196998,
															"behaviorType": "Bullet",
															"parameters": {
																"angle": "enemy.MoveTo.MovingAngle"
															}
														},
														{
															"id": "wait",
															"objectClass": "System",
															"sid": 701368489370650,
															"parameters": {
																"seconds": "projectileManifestationTime",
																"use-timescale": true
															}
														},
														{
															"id": "create-object",
															"objectClass": "System",
															"sid": 757755878725394,
															"parameters": {
																"object-to-create": "lightningOrb",
																"layer": "enemyBody.LayerName",
																"x": "projectile.X",
																"y": "projectile.Y",
																"create-hierarchy": false,
																"template-name": "NOT_USED"
															}
														},
														{
															"id": "set-boolean-instvar",
															"objectClass": "projectile",
															"sid": 481285760187518,
															"parameters": {
																"instance-variable": "enabled",
																"value": "true"
															}
														}
													],
													"sid": 812015083825717,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "pick-last-created",
																	"objectClass": "System",
																	"sid": 252760966310871,
																	"parameters": {
																		"object": "lightningOrb"
																	}
																}
															],
															"actions": [
																{
																	"id": "add-child",
																	"objectClass": "projectile",
																	"sid": 696166804333331,
																	"parameters": {
																		"child": "lightningOrb",
																		"transform-x": true,
																		"transform-y": true,
																		"transform-w": false,
																		"transform-h": false,
																		"transform-a": true,
																		"transform-o": true,
																		"transform-z-elevation": true,
																		"transform-visibility": false,
																		"destroy-with-parent": true
																	}
																},
																{
																	"id": "play-at-object-by-name",
																	"objectClass": "audio",
																	"sid": 345199863990188,
																	"parameters": {
																		"folder": "sounds",
																		"audio-file-name": "Functions.soundEffectName(SOUND_EFFECT)",
																		"loop": "looping",
																		"volume": "soundEffectsVolume",
																		"object": "lightningOrb",
																		"inner-angle": "NON_DIRECTIONAL_INNER_ANGLE",
																		"outer-angle": "NON_DIRECTIONAL_OUTER_ANGLE",
																		"outer-gain": "NON_DIRECTIONAL_OUTER_GAIN",
																		"tag-optional": "str(projectile.UID)"
																	}
																}
															],
															"sid": 117733310431973
														}
													]
												}
											]
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-instance-signal",
									"objectClass": "enemy",
									"sid": 140214999731007,
									"parameters": {
										"tag": "\"goblinUnderling\""
									}
								}
							],
							"actions": [],
							"sid": 614246276877431,
							"children": [
								{
									"eventType": "variable",
									"name": "PROJECTILE_SPEED",
									"type": "number",
									"initialValue": "700",
									"comment": "The speed of the projectile",
									"isStatic": false,
									"isConstant": true,
									"sid": 776445699072284
								},
								{
									"eventType": "variable",
									"name": "MANIFESTATION_FRAME",
									"type": "number",
									"initialValue": "38",
									"comment": "The (0-based) frame in which the projectile should manifest",
									"isStatic": false,
									"isConstant": true,
									"sid": 272687892505457
								},
								{
									"eventType": "variable",
									"name": "SIZE",
									"type": "number",
									"initialValue": "120",
									"comment": "The size of the projectile",
									"isStatic": false,
									"isConstant": true,
									"sid": 679213943083329
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-children",
											"objectClass": "enemy",
											"sid": 779359414880762,
											"parameters": {
												"child": "enemyBody",
												"which": "own"
											}
										}
									],
									"actions": [
										{
											"id": "stop",
											"objectClass": "enemy",
											"sid": 743630096223979,
											"behaviorType": "MoveTo"
										},
										{
											"id": "set-moving-angle",
											"objectClass": "enemy",
											"sid": 539794888822548,
											"behaviorType": "MoveTo",
											"parameters": {
												"angle": "angle(Self.X, Self.Y, player.X, player.Y)"
											}
										},
										{
											"id": "set-animation",
											"objectClass": "enemyBody",
											"sid": 991334836871840,
											"parameters": {
												"animation": "ATTACK_KEYWORD & SEPARATOR & enemy.degrees",
												"from": "beginning"
											}
										},
										{
											"id": "set-animation-speed",
											"objectClass": "enemyBody",
											"sid": 625203394918558,
											"parameters": {
												"speed": "enemy.attackSpeed"
											}
										},
										{
											"type": "comment",
											"text": "This is the amount of time between the start of the animation and the manifestation of the projectile."
										},
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 758343467445718,
											"parameters": {
												"seconds": " MANIFESTATION_FRAME / enemyBody.AnimationSpeed",
												"use-timescale": true
											}
										}
									],
									"sid": 554537150361450,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "enemy",
													"sid": 371145257704139,
													"parameters": {
														"instance-variable": "currentHealth",
														"comparison": 4,
														"value": "THRESHOLD"
													}
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "As long as the enemy didn't die during the windup of its attack..."
												},
												{
													"id": "create-object",
													"objectClass": "System",
													"sid": 859039332580497,
													"parameters": {
														"object-to-create": "projectile",
														"layer": "enemy.LayerName",
														"x": "enemy.X",
														"y": "enemy.Y",
														"create-hierarchy": false,
														"template-name": "NOT_USED"
													}
												}
											],
											"sid": 910741011590646,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "pick-last-created",
															"objectClass": "System",
															"sid": 833142651683369,
															"parameters": {
																"object": "projectile"
															}
														}
													],
													"actions": [
														{
															"id": "play-at-object-by-name",
															"objectClass": "audio",
															"sid": 668476599679982,
															"parameters": {
																"folder": "sounds",
																"audio-file-name": "Functions.soundEffectName(SWING_WEAPON_SOUND_EFFECT_NAME)",
																"loop": "not-looping",
																"volume": "soundEffectsVolume",
																"object": "projectile",
																"inner-angle": "NON_DIRECTIONAL_INNER_ANGLE",
																"outer-angle": "NON_DIRECTIONAL_OUTER_ANGLE",
																"outer-gain": "NON_DIRECTIONAL_OUTER_GAIN",
																"tag-optional": "NOT_USED"
															}
														},
														{
															"id": "add-child",
															"objectClass": "enemy",
															"sid": 844375015941828,
															"parameters": {
																"child": "projectile",
																"transform-x": false,
																"transform-y": false,
																"transform-w": false,
																"transform-h": false,
																"transform-a": false,
																"transform-o": false,
																"transform-z-elevation": false,
																"transform-visibility": false,
																"destroy-with-parent": true
															}
														},
														{
															"id": "set-boolean-instvar",
															"objectClass": "projectile",
															"sid": 832460503463979,
															"parameters": {
																"instance-variable": "enabled",
																"value": "true"
															}
														},
														{
															"id": "set-boolean-instvar",
															"objectClass": "projectile",
															"sid": 966081428579590,
															"parameters": {
																"instance-variable": "isMelee",
																"value": "true"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "projectile",
															"sid": 522322966599625,
															"parameters": {
																"instance-variable": "slashDamage",
																"value": "enemy.slashDamage"
															}
														},
														{
															"id": "set-width",
															"objectClass": "projectile",
															"sid": 278953451188280,
															"parameters": {
																"width": "SIZE"
															}
														},
														{
															"id": "set-height",
															"objectClass": "projectile",
															"sid": 593960142154911,
															"parameters": {
																"height": "Self.Width / ISOMETRIC_DIVIDER"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "projectile",
															"sid": 634630762255215,
															"parameters": {
																"instance-variable": "range",
																"value": "enemy.attackRange"
															}
														},
														{
															"id": "set-angle-of-motion",
															"objectClass": "projectile",
															"sid": 149749429572463,
															"behaviorType": "Bullet",
															"parameters": {
																"angle": "enemy.MoveTo.MovingAngle"
															}
														},
														{
															"id": "set-speed",
															"objectClass": "projectile",
															"sid": 701277550329036,
															"behaviorType": "Bullet",
															"parameters": {
																"speed": "Functions.isometrify(PROJECTILE_SPEED, Self.Bullet.AngleOfMotion)"
															}
														}
													],
													"sid": 336288078294154
												}
											]
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-instance-signal",
									"objectClass": "enemy",
									"sid": 250470746981569,
									"parameters": {
										"tag": "\"goblinArcher\""
									}
								}
							],
							"actions": [],
							"sid": 197833536519198,
							"children": [
								{
									"eventType": "variable",
									"name": "MANIFESTATION_POINT",
									"type": "number",
									"initialValue": "80",
									"comment": "The longest possible distance between the enemy origin and where the projectile should visually appear, in pixels.",
									"isStatic": false,
									"isConstant": true,
									"sid": 838597136130018
								},
								{
									"eventType": "variable",
									"name": "MANIFESTATION_FRAME",
									"type": "number",
									"initialValue": "15",
									"comment": "The (0-based) frame in which the projectile should manifest.",
									"isStatic": false,
									"isConstant": true,
									"sid": 860282146403275
								},
								{
									"eventType": "variable",
									"name": "PROJECTILE_SPEED",
									"type": "number",
									"initialValue": "600",
									"comment": "The speed of the projectile.",
									"isStatic": false,
									"isConstant": true,
									"sid": 176474846742986
								},
								{
									"eventType": "variable",
									"name": "SIZE",
									"type": "number",
									"initialValue": "15",
									"comment": "The size of the projectile, in pixels.",
									"isStatic": false,
									"isConstant": true,
									"sid": 949252621750236
								},
								{
									"eventType": "variable",
									"name": "SOUND_EFFECT",
									"type": "string",
									"initialValue": "arrowShot",
									"comment": "The sound effect to use with this ability.",
									"isStatic": false,
									"isConstant": true,
									"sid": 186421690177248
								},
								{
									"eventType": "variable",
									"name": "projectileManifestationTime",
									"type": "number",
									"initialValue": "0",
									"comment": "How long it takes the projectile to get from the enemy's origin to the manifestation point, in seconds.",
									"isStatic": true,
									"isConstant": false,
									"sid": 581246533602118
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-children",
											"objectClass": "enemy",
											"sid": 453345851981676,
											"parameters": {
												"child": "enemyBody",
												"which": "own"
											}
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "The point in time when the projectile should appear differs based on which direction the enemy is facing. (i.e., the distance between the enemy's origin and hand is drastically different if he's facing left, vs. if he's facing up)"
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 169353622869653,
											"parameters": {
												"variable": "projectileManifestationTime",
												"value": "Functions.isometrify(MANIFESTATION_POINT, enemy.degrees) / PROJECTILE_SPEED"
											}
										},
										{
											"id": "stop",
											"objectClass": "enemy",
											"sid": 897223117559669,
											"behaviorType": "MoveTo"
										},
										{
											"id": "set-moving-angle",
											"objectClass": "enemy",
											"sid": 421614035819689,
											"behaviorType": "MoveTo",
											"parameters": {
												"angle": "angle(Self.X, Self.Y, player.X, player.Y)"
											}
										},
										{
											"id": "set-animation",
											"objectClass": "enemyBody",
											"sid": 553899493767123,
											"parameters": {
												"animation": "ATTACK_KEYWORD & SEPARATOR & enemy.degrees",
												"from": "beginning"
											}
										},
										{
											"id": "set-animation-speed",
											"objectClass": "enemyBody",
											"sid": 615234006906402,
											"parameters": {
												"speed": "enemy.attackSpeed"
											}
										},
										{
											"type": "comment",
											"text": "Time the spawning of the projectile so it will pass over the manifestation point during the same frame that the the projectile's visual representation on the enemy disappears."
										},
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 682291151350586,
											"parameters": {
												"seconds": " MANIFESTATION_FRAME / enemyBody.AnimationSpeed - projectileManifestationTime",
												"use-timescale": true
											}
										}
									],
									"sid": 993186503588443,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "enemy",
													"sid": 892213846181595,
													"parameters": {
														"instance-variable": "hit"
													},
													"isInverted": true
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "enemy",
													"sid": 550459168011206,
													"parameters": {
														"instance-variable": "currentHealth",
														"comparison": 4,
														"value": "THRESHOLD"
													}
												}
											],
											"actions": [
												{
													"id": "create-object",
													"objectClass": "System",
													"sid": 374941599192614,
													"parameters": {
														"object-to-create": "projectile",
														"layer": "enemy.LayerName",
														"x": "enemy.X",
														"y": "enemy.Y",
														"create-hierarchy": false,
														"template-name": "NOT_USED"
													}
												}
											],
											"sid": 396511010842113,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "pick-last-created",
															"objectClass": "System",
															"sid": 263185270538662,
															"parameters": {
																"object": "projectile"
															}
														}
													],
													"actions": [
														{
															"id": "add-child",
															"objectClass": "enemy",
															"sid": 666089072827732,
															"parameters": {
																"child": "projectile",
																"transform-x": false,
																"transform-y": false,
																"transform-w": false,
																"transform-h": false,
																"transform-a": false,
																"transform-o": false,
																"transform-z-elevation": false,
																"transform-visibility": false,
																"destroy-with-parent": true
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "projectile",
															"sid": 646749915333452,
															"parameters": {
																"instance-variable": "range",
																"value": "enemy.attackRange"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "projectile",
															"sid": 377922999569196,
															"parameters": {
																"instance-variable": "stabDamage",
																"value": "enemy.stabDamage"
															}
														},
														{
															"id": "set-width",
															"objectClass": "projectile",
															"sid": 179050362825462,
															"parameters": {
																"width": "SIZE"
															}
														},
														{
															"id": "set-height",
															"objectClass": "projectile",
															"sid": 640073282662134,
															"parameters": {
																"height": "Self.Width / ISOMETRIC_DIVIDER"
															}
														},
														{
															"type": "comment",
															"text": "Adjust the projectile's speed to account for isometry."
														},
														{
															"type": "comment",
															"text": "If we set the angle before we set the speed, and the speed of the projectile on the main menu is 0, this projectile will only flight straight left or right.",
															"text-color": [
																0.7843137254901961,
																0.7843137254901961,
																0.7843137254901961,
																1
															],
															"background-color": [
																0.39215686274509803,
																0,
																0,
																1
															]
														},
														{
															"id": "set-angle-of-motion",
															"objectClass": "projectile",
															"sid": 576772089979155,
															"behaviorType": "Bullet",
															"parameters": {
																"angle": "enemy.MoveTo.MovingAngle"
															}
														},
														{
															"id": "set-speed",
															"objectClass": "projectile",
															"sid": 990883941465141,
															"behaviorType": "Bullet",
															"parameters": {
																"speed": "Functions.isometrify(PROJECTILE_SPEED, Self.Bullet.AngleOfMotion)"
															}
														},
														{
															"id": "wait",
															"objectClass": "System",
															"sid": 505067466058697,
															"parameters": {
																"seconds": "projectileManifestationTime",
																"use-timescale": true
															}
														},
														{
															"type": "comment",
															"text": "The projectile is now at the manifestation point. Spawn the projectile's visual representation."
														},
														{
															"id": "create-object",
															"objectClass": "System",
															"sid": 208506944533334,
															"parameters": {
																"object-to-create": "crossbowBolt",
																"layer": "enemyBody.LayerName",
																"x": "projectile.X",
																"y": "projectile.Y",
																"create-hierarchy": false,
																"template-name": "NOT_USED"
															}
														},
														{
															"id": "set-boolean-instvar",
															"objectClass": "projectile",
															"sid": 448865541675645,
															"parameters": {
																"instance-variable": "enabled",
																"value": "true"
															}
														}
													],
													"sid": 473385477570637,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "pick-last-created",
																	"objectClass": "System",
																	"sid": 993114304744468,
																	"parameters": {
																		"object": "crossbowBolt"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-animation",
																	"objectClass": "crossbowBolt",
																	"sid": 661064372819070,
																	"parameters": {
																		"animation": "str(enemy.degrees)",
																		"from": "beginning"
																	}
																},
																{
																	"id": "add-child",
																	"objectClass": "projectile",
																	"sid": 366119185591288,
																	"parameters": {
																		"child": "crossbowBolt",
																		"transform-x": true,
																		"transform-y": true,
																		"transform-w": false,
																		"transform-h": false,
																		"transform-a": true,
																		"transform-o": true,
																		"transform-z-elevation": true,
																		"transform-visibility": false,
																		"destroy-with-parent": true
																	}
																},
																{
																	"type": "comment",
																	"text": "'arrowShot' is a short enough sound effect that we should play it in its entirety even the crossbow bolt is destroyed before the audio can complete, so don't use a tag here.",
																	"text-color": [
																		0.7843137254901961,
																		0.7843137254901961,
																		0.7843137254901961,
																		1
																	],
																	"background-color": [
																		0.39215686274509803,
																		0,
																		0,
																		1
																	]
																},
																{
																	"id": "play-at-object-by-name",
																	"objectClass": "audio",
																	"sid": 867644431486685,
																	"parameters": {
																		"folder": "sounds",
																		"audio-file-name": "Functions.soundEffectName(SOUND_EFFECT)",
																		"loop": "not-looping",
																		"volume": "soundEffectsVolume",
																		"object": "crossbowBolt",
																		"inner-angle": "NON_DIRECTIONAL_OUTER_ANGLE",
																		"outer-angle": "NON_DIRECTIONAL_OUTER_ANGLE",
																		"outer-gain": "NON_DIRECTIONAL_OUTER_GAIN",
																		"tag-optional": "NOT_USED"
																	}
																}
															],
															"sid": 780785417630096
														}
													]
												}
											]
										}
									]
								}
							]
						}
					],
					"sid": 353498742385237
				}
			],
			"sid": 617251843840566
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "shadows",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "The player's shadows are global because we add them to a layout, check the 'global' checkbox, then delete them from that layout.",
					"text-color": [
						0.7843137254901961,
						0.7843137254901961,
						0.7843137254901961,
						1
					],
					"background-color": [
						0.39215686274509803,
						0,
						0,
						1
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-parent",
							"objectClass": "shadow",
							"sid": 226383708709643,
							"parameters": {
								"parent": "hasShadow",
								"which": "own"
							}
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "shadow",
							"sid": 627266054647833,
							"parameters": {
								"animation": "hasShadow.AnimationName",
								"from": "current-frame"
							}
						},
						{
							"id": "set-animation-frame",
							"objectClass": "shadow",
							"sid": 282623935223883,
							"parameters": {
								"frame-number": "hasShadow.AnimationFrame"
							}
						}
					],
					"sid": 824913553665963
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-created",
							"objectClass": "hasShadow",
							"sid": 460073097317385
						}
					],
					"actions": [],
					"sid": 559501222679591,
					"children": [
						{
							"eventType": "variable",
							"name": "SHADOW_KEYWORD",
							"type": "string",
							"initialValue": "shadow",
							"comment": "Used for creating shadows.",
							"isStatic": false,
							"isConstant": true,
							"sid": 193096139888855
						},
						{
							"eventType": "variable",
							"name": "SHADOW_OFFSET",
							"type": "number",
							"initialValue": "1",
							"comment": "How far up on the Y axis a shadow should be from its parent, in pixels.",
							"isStatic": false,
							"isConstant": true,
							"sid": 707071947182384
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-children",
									"objectClass": "hasShadow",
									"sid": 229157054686219,
									"parameters": {
										"child": "shadow",
										"which": "own"
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "If this object already has a shadow, do nothing."
								}
							],
							"sid": 306819096486497
						},
						{
							"eventType": "comment",
							"text": "If we change this boolean to affirm positive instead of negative (e.g., changing it to 'createShadow'), newly created hasShadows won't have shadows created for them since booleans for items that don't already exist on a layout are false.",
							"text-color": [
								0.7843137254901961,
								0.7843137254901961,
								0.7843137254901961,
								1
							],
							"background-color": [
								0,
								0,
								0,
								1
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 710553164941548
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "hasShadow",
									"sid": 331127415234228,
									"parameters": {
										"instance-variable": "doNotCreateShadow"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "create-object-by-name",
									"objectClass": "System",
									"sid": 284592616389672,
									"parameters": {
										"object-name": "hasShadow.ObjectTypeName & SEPARATOR & SHADOW_KEYWORD",
										"layer": "hasShadow.LayerName",
										"x": "hasShadow.X",
										"y": "hasShadow.Y - SHADOW_OFFSET",
										"create-hierarchy": false,
										"template-name": "NOT_USED"
									}
								}
							],
							"sid": 922237215237393,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-last-created",
											"objectClass": "System",
											"sid": 738691775554172,
											"parameters": {
												"object": "shadow"
											}
										}
									],
									"actions": [
										{
											"id": "add-child",
											"objectClass": "hasShadow",
											"sid": 741621168246062,
											"parameters": {
												"child": "shadow",
												"transform-x": true,
												"transform-y": true,
												"transform-w": false,
												"transform-h": false,
												"transform-a": true,
												"transform-o": true,
												"transform-z-elevation": true,
												"transform-visibility": true,
												"destroy-with-parent": true
											}
										}
									],
									"sid": 974179425393640
								}
							]
						}
					]
				},
				{
					"eventType": "variable",
					"name": "SHADOW_OPACITY_COLUMN_NAME",
					"type": "string",
					"initialValue": "shadowOpacity",
					"comment": "The name of the shadow opacity column in the layout properties array.",
					"isStatic": false,
					"isConstant": true,
					"sid": 611966064383949
				},
				{
					"eventType": "variable",
					"name": "BLURHORIZONTAL_EFFECT_NAME",
					"type": "string",
					"initialValue": "BlurHorizontal",
					"comment": "The name of the horizontal blur effect.",
					"isStatic": false,
					"isConstant": true,
					"sid": 457255383309763
				},
				{
					"eventType": "variable",
					"name": "BLURVERTICAL_EFFECT_NAME",
					"type": "string",
					"initialValue": "BlurVertical",
					"comment": "The name of the vertical blur effect.",
					"isStatic": false,
					"isConstant": true,
					"sid": 498523278491456
				},
				{
					"eventType": "variable",
					"name": "INTENSITY_PARAMETER_INDEX",
					"type": "number",
					"initialValue": "0",
					"comment": "The index of the intensity parameter on the blur effects.",
					"isStatic": false,
					"isConstant": true,
					"sid": 680730105349972
				},
				{
					"eventType": "variable",
					"name": "INTENSITY_VALUE",
					"type": "number",
					"initialValue": "75",
					"comment": "The value of intensity parameter on the blur effects.",
					"isStatic": false,
					"isConstant": true,
					"sid": 975766573424522
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-created",
							"objectClass": "shadow",
							"sid": 726851021711244
						},
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 824707174220293
						}
					],
					"actions": [
						{
							"id": "set-opacity",
							"objectClass": "shadow",
							"sid": 676204846964078,
							"parameters": {
								"opacity": "Functions.arrayLookup(layoutProperties.ObjectTypeName, LayoutName, SHADOW_OPACITY_COLUMN_NAME)"
							}
						},
						{
							"id": "set-effect-parameter",
							"objectClass": "shadow",
							"sid": 571114663568365,
							"parameters": {
								"effect": "BLURHORIZONTAL_EFFECT_NAME",
								"parameter-index": "INTENSITY_PARAMETER_INDEX",
								"value": "INTENSITY_VALUE"
							}
						},
						{
							"id": "set-effect-parameter",
							"objectClass": "shadow",
							"sid": 498878073670909,
							"parameters": {
								"effect": "BLURVERTICAL_EFFECT_NAME",
								"parameter-index": "INTENSITY_PARAMETER_INDEX",
								"value": "INTENSITY_VALUE"
							}
						}
					],
					"sid": 784344448043891,
					"isOrBlock": true
				}
			],
			"sid": 538206850780870
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "projectiles",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Having a projectile object on the main menu in the margin prevents an issue where 'bullet - set angle of motion' only ever sets the projectile's angle of motion to either 0 or 180. ",
					"text-color": [
						0.7843137254901961,
						0.7843137254901961,
						0.7843137254901961,
						1
					],
					"background-color": [
						0.39215686274509803,
						0,
						0,
						1
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-end-of-layout",
							"objectClass": "System",
							"sid": 628499402402762
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "The destruction of non-global objects on layout change appears takes place after the event sheet of that layout loses authority. We must destroy projectiles in an 'On end of layout' trigger so 'projectile On destroyed' triggers still fire.",
							"text-color": [
								0.7843137254901961,
								0.7843137254901961,
								0.7843137254901961,
								1
							],
							"background-color": [
								0.39215686274509803,
								0,
								0,
								1
							]
						},
						{
							"id": "destroy",
							"objectClass": "projectile",
							"sid": 794027424251130
						}
					],
					"sid": 724152661026630
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "projectile",
							"sid": 349111188136143,
							"parameters": {
								"object": "prop"
							}
						},
						{
							"id": "compare-distance-travelled",
							"objectClass": "projectile",
							"sid": 389248189125400,
							"behaviorType": "Bullet",
							"parameters": {
								"comparison": 5,
								"distance": "Functions.isometrify(Self.range, Self.Bullet.AngleOfMotion)"
							}
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "We could shear the shape of projectiles using mesh points when they collide with a prop.\nWe could have a boolean flag on props that they can be attacked over.",
							"text-color": [
								0.7843137254901961,
								0.7843137254901961,
								0.7843137254901961,
								1
							],
							"background-color": [
								0,
								0,
								0.39215686274509803,
								1
							]
						},
						{
							"id": "destroy",
							"objectClass": "projectile",
							"sid": 733343382755969
						}
					],
					"sid": 707134340591950,
					"isOrBlock": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-destroyed",
							"objectClass": "projectile",
							"sid": 866847254131652
						}
					],
					"actions": [
						{
							"id": "stop",
							"objectClass": "audio",
							"sid": 158935877118093,
							"parameters": {
								"tag": "str(projectile.UID)"
							}
						}
					],
					"sid": 852865633208779
				},
				{
					"eventType": "comment",
					"text": "TODO: Add all other damage types"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "projectile",
							"sid": 866965572546389,
							"parameters": {
								"instance-variable": "enabled"
							}
						}
					],
					"actions": [],
					"sid": 932202329358705,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "projectile",
									"sid": 703840981642531,
									"parameters": {
										"object": "enemy"
									}
								},
								{
									"id": "pick-parent",
									"objectClass": "projectile",
									"sid": 513615765405988,
									"parameters": {
										"parent": "player",
										"which": "own"
									}
								}
							],
							"actions": [
								{
									"id": "subtract-from-instvar",
									"objectClass": "enemy",
									"sid": 759091227242449,
									"parameters": {
										"instance-variable": "currentHealth",
										"value": "Functions.calculateDamage(projectile.slashDamage, Self.physicalResistance)"
									}
								},
								{
									"id": "subtract-from-instvar",
									"objectClass": "enemy",
									"sid": 308805359477508,
									"parameters": {
										"instance-variable": "currentHealth",
										"value": "Functions.calculateDamage(projectile.smashDamage, Self.physicalResistance)"
									}
								},
								{
									"id": "set-max-speed",
									"objectClass": "enemy",
									"sid": 429298093959011,
									"behaviorType": "knockback",
									"parameters": {
										"max-speed": "projectile.knockbackSpeed"
									}
								},
								{
									"id": "move-to-position",
									"objectClass": "enemy",
									"sid": 446507994368750,
									"behaviorType": "knockback",
									"parameters": {
										"x": "Self.X + Functions.isometrify(projectile.knockbackDistance, projectile.Bullet.AngleOfMotion) * cos(projectile.Bullet.AngleOfMotion)",
										"y": "Self.Y + Functions.isometrify(projectile.knockbackDistance, projectile.Bullet.AngleOfMotion) * sin(projectile.Bullet.AngleOfMotion)",
										"mode": "direct"
									}
								}
							],
							"sid": 673936274587997,
							"children": [
								{
									"eventType": "variable",
									"name": "UNFLINCHING_ATTRIBUTE",
									"type": "string",
									"initialValue": "Unflinching",
									"comment": "The unflinching attribute, that prevents flinching.",
									"isStatic": false,
									"isConstant": true,
									"sid": 499041862014481
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 215865666325125,
											"parameters": {
												"value": "Functions.contains(enemy.attributes, UNFLINCHING_ATTRIBUTE)"
											},
											"isInverted": true
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "enemy",
											"sid": 136262733815063,
											"parameters": {
												"instance-variable": "currentHealth",
												"comparison": 4,
												"value": "THRESHOLD"
											}
										},
										{
											"id": "pick-children",
											"objectClass": "enemy",
											"sid": 381198098849893,
											"parameters": {
												"child": "enemyBody",
												"which": "own"
											}
										},
										{
											"id": "pick-parent",
											"objectClass": "enemyBody",
											"sid": 837310322782666,
											"parameters": {
												"parent": "enemy",
												"which": "own"
											}
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "Hitstun the enemy, as long as they aren't Unflinching and the projectile didn't kill them."
										},
										{
											"id": "stop",
											"objectClass": "enemy",
											"sid": 258415481730862,
											"behaviorType": "MoveTo"
										},
										{
											"id": "set-boolean-instvar",
											"objectClass": "enemy",
											"sid": 804180954135793,
											"parameters": {
												"instance-variable": "hit",
												"value": "true"
											}
										},
										{
											"id": "set-animation",
											"objectClass": "enemyBody",
											"sid": 536655600381851,
											"parameters": {
												"animation": "HIT_KEYWORD & SEPARATOR & enemy.degrees",
												"from": "beginning"
											}
										},
										{
											"id": "play-at-object-by-name",
											"objectClass": "audio",
											"sid": 915582123331284,
											"parameters": {
												"folder": "sounds",
												"audio-file-name": "Functions.soundEffectName(enemy.type & SEPARATOR & HIT_KEYWORD)",
												"loop": "not-looping",
												"volume": "soundEffectsVolume",
												"object": "enemyBody",
												"inner-angle": "NON_DIRECTIONAL_INNER_ANGLE",
												"outer-angle": "NON_DIRECTIONAL_OUTER_ANGLE",
												"outer-gain": "NON_DIRECTIONAL_OUTER_GAIN",
												"tag-optional": "NOT_USED"
											}
										},
										{
											"customAction": "Destroy projectiles",
											"objectClass": "enemy",
											"sid": 349869752147933
										}
									],
									"sid": 305641316456038
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "projectile",
											"sid": 930689339639153,
											"parameters": {
												"instance-variable": "piercing"
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "destroy",
											"objectClass": "projectile",
											"sid": 712906424152491
										}
									],
									"sid": 647399467179630
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "projectile",
									"sid": 921224045921521,
									"parameters": {
										"object": "player"
									}
								},
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 679754343869857,
									"parameters": {
										"value": "Functions.isPlayerAlive"
									}
								},
								{
									"id": "pick-parent",
									"objectClass": "projectile",
									"sid": 353666848228170,
									"parameters": {
										"parent": "enemy",
										"which": "own"
									}
								}
							],
							"actions": [],
							"sid": 591454218470020,
							"children": [
								{
									"eventType": "variable",
									"name": "playerHealthBeforeImpact",
									"type": "number",
									"initialValue": "0",
									"comment": "The player's health before the projectile hit them.",
									"isStatic": true,
									"isConstant": false,
									"sid": 386149964426580
								},
								{
									"eventType": "comment",
									"text": "TODO: The only reason we don't play the hit and block animations in non-combat areas is because our non-combat idle animation is posed significantly differently than those two animations. It would look bad. Once we get different animations, remove those conditions.",
									"text-color": [
										0,
										0,
										0,
										1
									],
									"background-color": [
										1,
										1,
										0,
										1
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 968549922738934,
											"parameters": {
												"value": "Functions.isPlayerChanneling"
											},
											"isInverted": true
										},
										{
											"id": "is-overlapping-another-object",
											"objectClass": "player",
											"sid": 476151660177644,
											"parameters": {
												"object": "nonCombatArea"
											},
											"isInverted": true
										},
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 722866731052195,
											"parameters": {
												"value": "Functions.percentageRandom(player.armor)"
											}
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "If the player isn't in a non-combat area, isn't currently channeling, and successfully blocks the attack, play the block animation, then we're done."
										},
										{
											"customAction": "Play channeled animation",
											"objectClass": "player",
											"sid": 686221468901152,
											"parameters": [
												"BLOCK_KEYWORD"
											]
										},
										{
											"customAction": "Destroy projectiles",
											"objectClass": "player",
											"sid": 921344491676015
										}
									],
									"sid": 661315679644106
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 212609481973178
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "If the projectile didn't get blocked..."
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 705146640200271,
											"parameters": {
												"variable": "playerHealthBeforeImpact",
												"value": "player.currentHealth"
											}
										},
										{
											"id": "subtract-from-instvar",
											"objectClass": "player",
											"sid": 122982726134419,
											"parameters": {
												"instance-variable": "currentHealth",
												"value": "Functions.calculateDamage(projectile.lightningDamage, Self.lightningResistance)"
											}
										},
										{
											"id": "subtract-from-instvar",
											"objectClass": "player",
											"sid": 916802951705164,
											"parameters": {
												"instance-variable": "currentHealth",
												"value": "Functions.calculateDamage(projectile.stabDamage, Self.physicalResistance)"
											}
										},
										{
											"id": "subtract-from-instvar",
											"objectClass": "player",
											"sid": 239115698500777,
											"parameters": {
												"instance-variable": "currentHealth",
												"value": "Functions.calculateDamage(projectile.slashDamage, Self.physicalResistance)"
											}
										}
									],
									"sid": 680787690708581,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "evaluate-expression",
													"objectClass": "System",
													"sid": 222353227608645,
													"parameters": {
														"value": "Functions.isPlayerChanneling"
													},
													"isInverted": true
												},
												{
													"id": "is-overlapping-another-object",
													"objectClass": "player",
													"sid": 971472195556840,
													"parameters": {
														"object": "nonCombatArea"
													},
													"isInverted": true
												},
												{
													"id": "evaluate-expression",
													"objectClass": "System",
													"sid": 956923238129420,
													"parameters": {
														"value": "Functions.isPlayerAlive"
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "player",
													"sid": 726441733710015,
													"parameters": {
														"instance-variable": "currentHealth",
														"comparison": 2,
														"value": "playerHealthBeforeImpact - Self.maxHealth / Self.flinchResistance"
													}
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "If the player isn't currently channeling, isn't in a non-combat area, and the hit doesn't kill him, and the hit overcomes the flinch resistance, the player flinches."
												},
												{
													"customAction": "Play channeled animation",
													"objectClass": "player",
													"sid": 995504998894816,
													"parameters": [
														"HIT_KEYWORD"
													]
												},
												{
													"customAction": "Destroy projectiles",
													"objectClass": "player",
													"sid": 303680323881634
												}
											],
											"sid": 181406029233488
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "projectile",
													"sid": 558866989360890,
													"parameters": {
														"instance-variable": "piercing"
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"id": "destroy",
													"objectClass": "projectile",
													"sid": 887800632849253
												}
											],
											"sid": 944725340629196
										}
									]
								}
							]
						}
					]
				},
				{
					"aceType": "action",
					"aceName": "Destroy projectiles",
					"objectClass": "player",
					"functionDescription": "Destroy the player's disabled and melee projectiles.",
					"functionCategory": "misc",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "custom-ace-block",
					"conditions": [
						{
							"id": "pick-children",
							"objectClass": "player",
							"sid": 814842361282251,
							"parameters": {
								"child": "projectile",
								"which": "own"
							}
						}
					],
					"actions": [
						{
							"callFunction": "Destroy projectiles",
							"sid": 767474068981919
						}
					],
					"sid": 270847700736521
				},
				{
					"aceType": "action",
					"aceName": "Destroy projectiles",
					"objectClass": "enemy",
					"functionDescription": "Destroy an enemy's disabled and melee projectiles.",
					"functionCategory": "misc",
					"functionReturnType": "none",
					"functionCopyPicked": true,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "custom-ace-block",
					"conditions": [
						{
							"id": "pick-children",
							"objectClass": "enemy",
							"sid": 293741972379725,
							"parameters": {
								"child": "projectile",
								"which": "own"
							}
						}
					],
					"actions": [
						{
							"callFunction": "Destroy projectiles",
							"sid": 964679492882506
						}
					],
					"sid": 901485025880730
				},
				{
					"functionName": "Destroy projectiles",
					"functionDescription": "Destroy the picked disabled and melee projectiles.",
					"functionCategory": "world",
					"functionReturnType": "none",
					"functionCopyPicked": true,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 233213550470465,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "projectile",
									"sid": 560560920081516,
									"parameters": {
										"instance-variable": "enabled"
									},
									"isInverted": true
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "projectile",
									"sid": 501464944787625,
									"parameters": {
										"instance-variable": "isMelee"
									}
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "projectile",
									"sid": 937450022823636
								}
							],
							"sid": 457745888214251,
							"isOrBlock": true
						}
					]
				}
			],
			"sid": 725204103231325
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "data management",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"functionName": "isInRange",
					"functionDescription": "Check if the player is in range of a point.",
					"functionCategory": "world",
					"functionReturnType": "number",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "range",
							"type": "number",
							"initialValue": "0",
							"comment": "The length to which to compare the distance.",
							"sid": 258859109546499
						},
						{
							"name": "x",
							"type": "number",
							"initialValue": "0",
							"comment": "The X coordinate of the location.",
							"sid": 289627900828855
						},
						{
							"name": "y",
							"type": "number",
							"initialValue": "0",
							"comment": "The Y coordinate of the location.",
							"sid": 142640056398958
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-function-return-value",
							"objectClass": "Functions",
							"sid": 812887588448363,
							"parameters": {
								"value": "Functions.isometrify(range, angle(player.X, player.Y, x, y)) >= distance(player.X, player.Y, x, y)"
							}
						}
					],
					"sid": 184329559850783
				},
				{
					"functionName": "arrayLookup",
					"functionDescription": "Look up a value in an array.",
					"functionCategory": "data",
					"functionReturnType": "any",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "array",
							"type": "string",
							"initialValue": "",
							"comment": "The name of the array in which we are looking up a value.",
							"sid": 323776559197148
						},
						{
							"name": "simpleName",
							"type": "string",
							"initialValue": "",
							"comment": "The simple name of the object for which we are looking up a value.",
							"sid": 663050307506003
						},
						{
							"name": "targetColumn",
							"type": "string",
							"initialValue": "",
							"comment": "The header of the column that contains the value which we are looking up.",
							"sid": 165061868634179
						}
					],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 486795755802062,
							"parameters": {
								"object": "queriedArray",
								"expression": "queriedArray.ObjectTypeName",
								"comparison": 0,
								"value": "array"
							}
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "Pick the array that was passed. The calling event might not pick it, so we can't use \"copy picked\"."
						}
					],
					"sid": 586304870816681,
					"children": [
						{
							"eventType": "variable",
							"name": "SIMPLE_NAME_COLUMN_NUMBER",
							"type": "number",
							"initialValue": "0",
							"comment": "simpleName should always be the first column.",
							"isStatic": false,
							"isConstant": true,
							"sid": 173358586676420
						},
						{
							"eventType": "variable",
							"name": "targetColumnNumber",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": true,
							"isConstant": false,
							"sid": 143271006801768
						},
						{
							"eventType": "comment",
							"text": "Adding 'Stop loop' actions to these loops will also stop the loop that this function is in when called, if there is one.",
							"text-color": [
								0.7843137254901961,
								0.7843137254901961,
								0.7843137254901961,
								1
							],
							"background-color": [
								0,
								0,
								0,
								1
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each-element",
									"objectClass": "queriedArray",
									"sid": 419878359957367,
									"parameters": {
										"axes": "x"
									}
								},
								{
									"id": "compare-current-value",
									"objectClass": "queriedArray",
									"sid": 207218969616039,
									"parameters": {
										"comparison": 0,
										"value": "targetColumn"
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "Loop through the headers to find the columns we want."
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 384455726850362,
									"parameters": {
										"variable": "targetColumnNumber",
										"value": "queriedArray.CurX"
									}
								}
							],
							"sid": 371823461720625
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for",
									"objectClass": "System",
									"sid": 161051338867061,
									"parameters": {
										"name": "NOT_USED",
										"start-index": "LOOP_OFFSET",
										"end-index": "queriedArray.Height"
									}
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 698732887280317,
									"parameters": {
										"first-value": "queriedArray.At(SIMPLE_NAME_COLUMN_NUMBER, loopindex)",
										"comparison": 0,
										"second-value": "simpleName"
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "Loop through the simpleName column values to find our object, and use that to find the coordinates of the value we want."
								},
								{
									"id": "set-function-return-value",
									"objectClass": "Functions",
									"sid": 797327502662506,
									"parameters": {
										"value": "queriedArray.At(targetColumnNumber, loopindex)"
									}
								}
							],
							"sid": 316964224788847
						}
					]
				},
				{
					"functionName": "getColumnNumber",
					"functionDescription": "Find the number of a column by its name.",
					"functionCategory": "data",
					"functionReturnType": "number",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "array",
							"type": "string",
							"initialValue": "",
							"comment": "The array in which to find the column name and number.",
							"sid": 417535318627685
						},
						{
							"name": "columnName",
							"type": "string",
							"initialValue": "",
							"comment": "The column name for which the number is needed.",
							"sid": 535319316146738
						}
					],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 969157735323348,
							"parameters": {
								"object": "queriedArray",
								"expression": "queriedArray.ObjectTypeName",
								"comparison": 0,
								"value": "array"
							}
						},
						{
							"id": "for-each-element",
							"objectClass": "queriedArray",
							"sid": 809142578541249,
							"parameters": {
								"axes": "x"
							}
						},
						{
							"id": "compare-current-value",
							"objectClass": "queriedArray",
							"sid": 807903728824992,
							"parameters": {
								"comparison": 0,
								"value": "columnName"
							}
						}
					],
					"actions": [
						{
							"id": "set-function-return-value",
							"objectClass": "Functions",
							"sid": 874778872234686,
							"parameters": {
								"value": "queriedArray.CurX"
							}
						}
					],
					"sid": 454046452601444
				},
				{
					"functionName": "contains",
					"functionDescription": "Whether or not a string contains another string.",
					"functionCategory": "data",
					"functionReturnType": "number",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "text",
							"type": "string",
							"initialValue": "",
							"comment": "Text to be searched.",
							"sid": 349128528220351
						},
						{
							"name": "findText",
							"type": "string",
							"initialValue": "",
							"comment": "Text to search for.",
							"sid": 335367374834632
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 997592836136537,
					"children": [
						{
							"eventType": "variable",
							"name": "NOT_FOUND",
							"type": "number",
							"initialValue": "-1",
							"comment": "The value that the system expression 'find' returns when the specified text cannot be found.",
							"isStatic": false,
							"isConstant": true,
							"sid": 896694598761115
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 338571283724726,
									"parameters": {
										"first-value": "find(text, findText)",
										"comparison": 1,
										"second-value": "NOT_FOUND"
									}
								}
							],
							"actions": [
								{
									"id": "set-function-return-value",
									"objectClass": "Functions",
									"sid": 517167990148056,
									"parameters": {
										"value": "TRUE"
									}
								}
							],
							"sid": 179659706590272
						}
					]
				},
				{
					"functionName": "getDegrees",
					"functionDescription": "Round a specified angle to nearest allowed angle, specified by ARC.",
					"functionCategory": "data",
					"functionReturnType": "number",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "theAngle",
							"type": "number",
							"initialValue": "0",
							"comment": "The angle to round off.",
							"sid": 163668324124135
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-function-return-value",
							"objectClass": "Functions",
							"sid": 522131157680944,
							"parameters": {
								"value": "HALF_CIRCLE"
							}
						}
					],
					"sid": 170318264995268,
					"children": [
						{
							"eventType": "variable",
							"name": "result",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": true,
							"isConstant": false,
							"sid": 628423147061369
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 262519311533115,
									"parameters": {
										"variable": "result",
										"value": "round(theAngle / ARC) * ARC"
									}
								}
							],
							"sid": 198982935476380
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 211619955088314,
									"parameters": {
										"variable": "result",
										"comparison": 1,
										"value": "NEGATIVE_HALF_CRICLE"
									}
								}
							],
							"actions": [
								{
									"id": "set-function-return-value",
									"objectClass": "Functions",
									"sid": 140820931283528,
									"parameters": {
										"value": "result"
									}
								}
							],
							"sid": 812509457884939
						}
					]
				},
				{
					"functionName": "toPercentage",
					"functionDescription": "Converts points to a percentage with diminishing returns.",
					"functionCategory": "data",
					"functionReturnType": "number",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "points",
							"type": "number",
							"initialValue": "0",
							"comment": "The points to convert.",
							"sid": 288015731984776
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 889664236947837,
					"children": [
						{
							"eventType": "variable",
							"name": "DIMINISHER_STRENGTH",
							"type": "number",
							"initialValue": "100",
							"comment": "How intensely to diminish the effectiveness of accruing points.",
							"isStatic": false,
							"isConstant": true,
							"sid": 546842163152017
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-function-return-value",
									"objectClass": "Functions",
									"sid": 104354184330237,
									"parameters": {
										"value": "points / (DIMINISHER_STRENGTH + points)"
									}
								}
							],
							"sid": 911094353541427
						}
					]
				},
				{
					"functionName": "percentageRandom",
					"functionDescription": "Compare a percentage against a pseudo-randomly generated number.",
					"functionCategory": "data",
					"functionReturnType": "number",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "points",
							"type": "number",
							"initialValue": "0",
							"comment": "The points to compare.",
							"sid": 769088366011218
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"type": "comment",
							"text": ".5 would be twice as likely to fail, 2 would be twice as likely to pass, 3 would be three times likely to pass, etc."
						}
					],
					"sid": 581373026916618,
					"children": [
						{
							"eventType": "variable",
							"name": "BASE_PROBABILITY",
							"type": "number",
							"initialValue": "1",
							"comment": "The likelihood of returning true or false.",
							"isStatic": false,
							"isConstant": true,
							"sid": 620318559915053
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-function-return-value",
									"objectClass": "Functions",
									"sid": 600576788290036,
									"parameters": {
										"value": "Functions.toPercentage(points) > random(BASE_PROBABILITY)"
									}
								}
							],
							"sid": 917966407497171
						}
					]
				},
				{
					"functionName": "calculateDamage",
					"functionDescription": "Calculate how much damage something does.",
					"functionCategory": "world",
					"functionReturnType": "number",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "incomingDamage",
							"type": "number",
							"initialValue": "0",
							"comment": "The unmitigated incoming damage amount.",
							"sid": 140734945675496
						},
						{
							"name": "resistancePoints",
							"type": "number",
							"initialValue": "0",
							"comment": "How many points of resistance by which to reduce the damage.",
							"sid": 164406902408500
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 812628131478009,
					"children": [
						{
							"eventType": "variable",
							"name": "INVERTER",
							"type": "number",
							"initialValue": "1",
							"comment": "Used to invert the percentage.",
							"isStatic": false,
							"isConstant": true,
							"sid": 817990759866293
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-function-return-value",
									"objectClass": "Functions",
									"sid": 251382328379174,
									"parameters": {
										"value": "round(incomingDamage * 1 - Functions.toPercentage(resistancePoints))"
									}
								}
							],
							"sid": 916050337317692
						}
					]
				}
			],
			"sid": 864124535956996
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "mods",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "We can't pass boolean parameters between non-mapped functions, so we have to evaluate the boolean parameter in events, and call the next function accordingly.",
					"text-color": [
						0.7843137254901961,
						0.7843137254901961,
						0.7843137254901961,
						1
					],
					"background-color": [
						0.39215686274509803,
						0,
						0,
						1
					]
				},
				{
					"functionName": "manageNodeMods",
					"functionDescription": "Manage the mods from passive nodes.",
					"functionCategory": "mods",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "active",
							"type": "boolean",
							"initialValue": "false",
							"comment": "Whether or not to apply or remove these mods",
							"sid": 169610684842094
						},
						{
							"name": "row",
							"type": "number",
							"initialValue": "0",
							"comment": "The row of the node (X value)",
							"sid": 103790429966106
						},
						{
							"name": "column",
							"type": "number",
							"initialValue": "0",
							"comment": "The column of the node (Y value)",
							"sid": 517796271907735
						},
						{
							"name": "depth",
							"type": "number",
							"initialValue": "0",
							"comment": "The depth of the node (Z value)",
							"sid": 765154012557958
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 874268372188755,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 921674829300949,
									"parameters": {
										"variable": "active"
									}
								}
							],
							"actions": [
								{
									"callFunction": "manageMods",
									"sid": 292035135559098,
									"parameters": [
										true,
										"nodeModsArray.At(row, column, depth)"
									]
								}
							],
							"sid": 741735787233396
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 503428391636091
								}
							],
							"actions": [
								{
									"callFunction": "manageMods",
									"sid": 230305147957959,
									"parameters": [
										false,
										"nodeModsArray.At(row, column, depth)"
									]
								}
							],
							"sid": 532996172633404
						}
					]
				},
				{
					"functionName": "manageMods",
					"functionDescription": "Activates or deactivates mods",
					"functionCategory": "mods",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "active",
							"type": "boolean",
							"initialValue": "false",
							"comment": "Whether or not to apply or remove these mods",
							"sid": 320322540087353
						},
						{
							"name": "mods",
							"type": "string",
							"initialValue": "",
							"comment": "The mods to manage",
							"sid": 770799780804067
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 774980469777344,
					"children": [
						{
							"eventType": "variable",
							"name": "mod",
							"type": "string",
							"initialValue": "",
							"comment": "The mod we're currently working on in the below loop.",
							"isStatic": true,
							"isConstant": false,
							"sid": 658994502548319
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for",
									"objectClass": "System",
									"sid": 332883692666387,
									"parameters": {
										"name": "NOT_USED",
										"start-index": "LOOP_DEFAULT",
										"end-index": "tokencount(mods, MOD_SEPARATOR) - DOUBLE_OFFSET"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 208150560176102,
									"parameters": {
										"variable": "mod",
										"value": "tokenat(mods, loopindex, MOD_SEPARATOR)"
									}
								}
							],
							"sid": 779671384936572,
							"children": [
								{
									"eventType": "comment",
									"text": "We have to call an intermediary function because we can't forward function parameters that don't exist in the original function; we have to parse 'mod' into its name and description components.",
									"text-color": [
										0.7843137254901961,
										0.7843137254901961,
										0.7843137254901961,
										1
									],
									"background-color": [
										0.39215686274509803,
										0,
										0,
										1
									]
								},
								{
									"eventType": "variable",
									"name": "DESCRIPTION_INDEX",
									"type": "number",
									"initialValue": "1",
									"comment": "The index of the description of the mod.",
									"isStatic": false,
									"isConstant": true,
									"sid": 101551332716494
								},
								{
									"eventType": "variable",
									"name": "NAME_INDEX",
									"type": "number",
									"initialValue": "0",
									"comment": "The index of the name of the mod.",
									"isStatic": false,
									"isConstant": true,
									"sid": 919024741673307
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 906401843708283,
											"parameters": {
												"variable": "active"
											}
										}
									],
									"actions": [
										{
											"callFunction": "modCaller",
											"sid": 121924609139306,
											"parameters": [
												true,
												"tokenat(mod, DESCRIPTION_INDEX, MOD_NAME_SEPARATOR)",
												"tokenat(mod, NAME_INDEX, MOD_NAME_SEPARATOR)"
											]
										}
									],
									"sid": 526533871975863
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 844394093944753
										}
									],
									"actions": [
										{
											"callFunction": "modCaller",
											"sid": 630043489526376,
											"parameters": [
												false,
												"tokenat(mod, DESCRIPTION_INDEX, MOD_NAME_SEPARATOR)",
												"tokenat(mod, NAME_INDEX, MOD_NAME_SEPARATOR)"
											]
										}
									],
									"sid": 835571074643744
								}
							]
						}
					]
				},
				{
					"functionName": "modCaller",
					"functionDescription": "Intermediary function to call a mod function.",
					"functionCategory": "mods",
					"functionReturnType": "none",
					"functionCopyPicked": true,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "active",
							"type": "boolean",
							"initialValue": "false",
							"comment": "Whether or not to activate or deactivate this mod.",
							"sid": 185032068040398
						},
						{
							"name": "modDescription",
							"type": "string",
							"initialValue": "",
							"comment": "The actual contents of this mod.",
							"sid": 668551496321785
						},
						{
							"name": "ModName",
							"type": "string",
							"initialValue": "",
							"comment": "The simple name of this mod.",
							"sid": 563496748576604
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"type": "comment",
							"text": "We can't rearrange the parameter order here because they get passed and applied to the individual mod functions in the same order.",
							"text-color": [
								0.7843137254901961,
								0.7843137254901961,
								0.7843137254901961,
								1
							],
							"background-color": [
								0.39215686274509803,
								0,
								0,
								1
							]
						},
						{
							"id": "call-mapped-function",
							"objectClass": "Functions",
							"sid": 822755244839253,
							"parameters": {
								"name": "MODS_KEYWORD",
								"string": "modName",
								"forward-params": "ALL_PARAMETERS"
							}
						}
					],
					"sid": 899772844374345
				},
				{
					"functionName": "getFirstValueFromMod",
					"functionDescription": "Extract the first value from a mod.",
					"functionCategory": "mods",
					"functionReturnType": "any",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "mod",
							"type": "string",
							"initialValue": "",
							"comment": "The mod from which the value will be extracted.",
							"sid": 176375073136459
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"type": "comment",
							"text": "We have enough mods with only a single value to warrant the existence of this function."
						}
					],
					"sid": 996141775955306,
					"children": [
						{
							"eventType": "variable",
							"name": "INDEX",
							"type": "number",
							"initialValue": "0",
							"comment": "The index of the value in question.",
							"isStatic": false,
							"isConstant": true,
							"sid": 238935535407720
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-function-return-value",
									"objectClass": "Functions",
									"sid": 997998575838495,
									"parameters": {
										"value": "Functions.getValueFromMod(mod, INDEX)"
									}
								}
							],
							"sid": 599935998025791
						}
					]
				},
				{
					"functionName": "getValueFromMod",
					"functionDescription": "returns the Nth text value found inside the specified mod description",
					"functionCategory": "mods",
					"functionReturnType": "any",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "mod",
							"type": "string",
							"initialValue": "",
							"comment": "The mod description from which to extract the string.",
							"sid": 615512659832660
						},
						{
							"name": "index",
							"type": "number",
							"initialValue": "0",
							"comment": "The index of the value to extract.",
							"sid": 799799702803442
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 320744027056050,
					"children": [
						{
							"eventType": "variable",
							"name": "CURLY_BRACKET_REGEX",
							"type": "string",
							"initialValue": "\\{.*?\\}",
							"comment": "A regular expression to get everything between curly brackets.",
							"isStatic": false,
							"isConstant": true,
							"sid": 128105563160003
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-function-return-value",
									"objectClass": "Functions",
									"sid": 395840419375679,
									"parameters": {
										"value": "RegexReplace(RegexMatchAt(mod, CURLY_BRACKET_REGEX, GLOBAL_FLAG, index), EITHER_CURLY_BRACKET_REGEX, GLOBAL_FLAG, BLANK)"
									}
								}
							],
							"sid": 802144837394005
						}
					]
				},
				{
					"functionName": "rollMods",
					"functionDescription": "Roll mods for an item or for loot.",
					"functionCategory": "mods",
					"functionReturnType": "string",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "simpleName",
							"type": "string",
							"initialValue": "",
							"comment": "The simple name of the item or loot, used to find its probability table.",
							"sid": 260644071645630
						},
						{
							"name": "level",
							"type": "number",
							"initialValue": "0",
							"comment": "The level of the item or loot.",
							"sid": 666794511763192
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 994846633591348,
					"children": [
						{
							"eventType": "variable",
							"name": "rolledMods",
							"type": "string",
							"initialValue": "",
							"comment": "The final rolled mods to return.",
							"isStatic": true,
							"isConstant": false,
							"sid": 743262060186246
						},
						{
							"eventType": "variable",
							"name": "MIN_MODS",
							"type": "number",
							"initialValue": "1",
							"comment": "The minimum number of mods.",
							"isStatic": true,
							"isConstant": true,
							"sid": 562518471433723
						},
						{
							"eventType": "variable",
							"name": "MAX_MODS",
							"type": "number",
							"initialValue": "5",
							"comment": "The maximum number of mods.",
							"isStatic": true,
							"isConstant": true,
							"sid": 860828113099239
						},
						{
							"eventType": "variable",
							"name": "chosenMod",
							"type": "string",
							"initialValue": "",
							"comment": "The mod chosen to be added.",
							"isStatic": true,
							"isConstant": false,
							"sid": 334478850800198
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "repeat",
									"objectClass": "System",
									"sid": 866691147271147,
									"parameters": {
										"count": "floor(random(MIN_MODS, MAX_MODS))"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 713707749821915,
									"parameters": {
										"variable": "chosenMod",
										"value": "advancedRandom.WeightedByName(simpleName)"
									}
								},
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 893764542023488,
									"parameters": {
										"variable": "rolledMods",
										"value": "chosenMod & MOD_NAME_SEPARATOR & mods.Get(chosenMod) & MOD_SEPARATOR"
									}
								}
							],
							"sid": 573186648452441
						},
						{
							"eventType": "variable",
							"name": "SQUARE_BRACKET_REGEX",
							"type": "string",
							"initialValue": "\\[.*?\\]",
							"comment": "A regular expression to get everything between square brackets.",
							"isStatic": true,
							"isConstant": true,
							"sid": 872739626354822
						},
						{
							"eventType": "variable",
							"name": "modValue",
							"type": "string",
							"initialValue": "",
							"comment": "The text inside the brackets of a given mod.",
							"isStatic": true,
							"isConstant": false,
							"sid": 554081483887785
						},
						{
							"eventType": "variable",
							"name": "EITHER_SQUARE_BRACKET_REGEX",
							"type": "string",
							"initialValue": "\\[|]",
							"comment": "A regular expression to find either of the square brackets.",
							"isStatic": false,
							"isConstant": true,
							"sid": 888381989401716
						},
						{
							"eventType": "variable",
							"name": "FIRST_BRACKETS_INDEX",
							"type": "number",
							"initialValue": "0",
							"comment": "The index of the first set of brackets in a mod.",
							"isStatic": false,
							"isConstant": true,
							"sid": 500522585775702
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for",
									"objectClass": "System",
									"sid": 385786995193967,
									"parameters": {
										"name": "NOT_USED",
										"start-index": "LOOP_OFFSET",
										"end-index": "RegexMatchCount(rolledMods, SQUARE_BRACKET_REGEX, GLOBAL_FLAG)"
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "For each set of square brackets in the mods..."
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 304299648680549,
									"parameters": {
										"variable": "modValue",
										"value": "RegexReplace(RegexMatchAt(rolledMods, SQUARE_BRACKET_REGEX, NOT_USED, FIRST_BRACKETS_INDEX), EITHER_SQUARE_BRACKET_REGEX, GLOBAL_FLAG, BLANK)"
									}
								}
							],
							"sid": 463692998182564,
							"children": [
								{
									"eventType": "variable",
									"name": "LEFT_MOD_BRACKET",
									"type": "string",
									"initialValue": "{",
									"comment": "The opening bracket for a mod's value.",
									"isStatic": false,
									"isConstant": true,
									"sid": 480773908796987
								},
								{
									"eventType": "variable",
									"name": "MOD_VALUE_SEPARATOR",
									"type": "string",
									"initialValue": "-",
									"comment": "The character used to indicate a range in a numerical mod value.",
									"isStatic": false,
									"isConstant": true,
									"sid": 259568662289147
								},
								{
									"eventType": "variable",
									"name": "RIGHT_MOD_BRACKET",
									"type": "string",
									"initialValue": "}",
									"comment": "The closing bracket for a mod's value.",
									"isStatic": false,
									"isConstant": true,
									"sid": 714105290256604
								},
								{
									"eventType": "variable",
									"name": "upperLimit",
									"type": "number",
									"initialValue": "0",
									"comment": "the highest number that this mod can roll.",
									"isStatic": true,
									"isConstant": false,
									"sid": 638259768665288
								},
								{
									"eventType": "variable",
									"name": "lowerLimit",
									"type": "number",
									"initialValue": "0",
									"comment": "the lowest number that this mod can roll.",
									"isStatic": true,
									"isConstant": false,
									"sid": 676446061055694
								},
								{
									"eventType": "variable",
									"name": "LOWER_LIMIT_INDEX",
									"type": "number",
									"initialValue": "0",
									"comment": "The index of the lower limit value in a mod.",
									"isStatic": false,
									"isConstant": true,
									"sid": 869265796364780
								},
								{
									"eventType": "variable",
									"name": "UPPER_LIMIT_INDEX",
									"type": "number",
									"initialValue": "1",
									"comment": "The index of the upper limit value in a mod.",
									"isStatic": false,
									"isConstant": true,
									"sid": 930287206493739
								},
								{
									"eventType": "variable",
									"name": "TEXT_VALUE_PARSER",
									"type": "string",
									"initialValue": "$",
									"comment": "The character used to parse out text values in a mod.",
									"isStatic": false,
									"isConstant": true,
									"sid": 712998100487982
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 782772119426446,
											"parameters": {
												"value": "Functions.contains(modValue, MOD_VALUE_SEPARATOR)"
											}
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "If this particular value contains the mod separator, it's a numeric value."
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 654568927236462,
											"parameters": {
												"variable": "lowerLimit",
												"value": "int(tokenat(modValue, LOWER_LIMIT_INDEX, MOD_VALUE_SEPARATOR))"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 127804372539795,
											"parameters": {
												"variable": "upperLimit",
												"value": "int(tokenat(modValue, UPPER_LIMIT_INDEX, MOD_VALUE_SEPARATOR))"
											}
										},
										{
											"id": "setProbabilityTable",
											"objectClass": "advancedRandom",
											"sid": 124623512949050,
											"parameters": {
												"name": "MOD_VALUES_PROBABILITY_TABLE"
											}
										}
									],
									"sid": 375470538398846,
									"children": [
										{
											"eventType": "comment",
											"text": "The larger the numeric range, the rarer higher values will be. The higher RARITY_DIMINISHER is, the more common higher values will be. No matter what value RARITY_DIMINISHER is, each value will always be less common than the value before it, if there is one.\n\nWith RARITY_DIMISHER at 1, a mod like +{1-10} Slash Damage has an approximately 1.81% chance to roll 10."
										},
										{
											"eventType": "variable",
											"name": "RARITY_DIMINISHER",
											"type": "number",
											"initialValue": "1",
											"comment": "How rare higher values are.",
											"isStatic": false,
											"isConstant": true,
											"sid": 882221285934453
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for",
													"objectClass": "System",
													"sid": 295617638063839,
													"parameters": {
														"name": "NOT_USED",
														"start-index": "lowerLimit",
														"end-index": "upperLimit"
													}
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "Set a numeric mod's value to a random number between the lower and upper limit."
												},
												{
													"id": "addProbabilityEntry",
													"objectClass": "advancedRandom",
													"sid": 502740442088630,
													"parameters": {
														"value": "loopindex",
														"weight": "upperLimit - loopindex + RARITY_DIMINISHER"
													}
												}
											],
											"sid": 926311016945143
										},
										{
											"eventType": "block",
											"conditions": [],
											"actions": [
												{
													"type": "comment",
													"text": "Add the level to the value that was rolled."
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 296140649361252,
													"parameters": {
														"variable": "rolledMods",
														"value": "RegexReplace(rolledMods, SQUARE_BRACKET_REGEX, BLANK, LEFT_MOD_BRACKET & advancedRandom.Weighted + level & RIGHT_MOD_BRACKET)"
													}
												}
											],
											"sid": 493154065762625
										},
										{
											"eventType": "variable",
											"name": "ANY_WEIGHT",
											"type": "number",
											"initialValue": "0",
											"comment": "The weight value to specify any possible weight.",
											"isStatic": false,
											"isConstant": true,
											"sid": 930655386295397
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for",
													"objectClass": "System",
													"sid": 756255830030117,
													"parameters": {
														"name": "NOT_USED",
														"start-index": "lowerLimit",
														"end-index": "upperLimit"
													}
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "We can't remove an entire mod table, so remove the entries the same way we added them."
												},
												{
													"id": "removeProbabilityEntry",
													"objectClass": "advancedRandom",
													"sid": 284254350011314,
													"parameters": {
														"value": "loopindex",
														"weight": "ANY_WEIGHT"
													}
												}
											],
											"sid": 245346086245983
										}
									]
								},
								{
									"eventType": "comment",
									"text": "For text mod values, select a choice at random"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 797528755004474
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "if it doesn't, it should contain a dollar sign, which means it's a text value"
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 561822246364498,
											"parameters": {
												"variable": "rolledMods",
												"value": "RegexReplace(rolledMods, SQUARE_BRACKET_REGEX, NOT_USED, LEFT_MOD_BRACKET & tokenat(modValue, floor(random(tokencount(modValue, TEXT_VALUE_PARSER))), TEXT_VALUE_PARSER) & RIGHT_MOD_BRACKET)"
											}
										}
									],
									"sid": 596941283515820
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-function-return-value",
									"objectClass": "Functions",
									"sid": 425010318961967,
									"parameters": {
										"value": "rolledMods"
									}
								},
								{
									"id": "reset-eventvar",
									"objectClass": "System",
									"sid": 903299833372877,
									"parameters": {
										"variable": "rolledMods"
									}
								}
							],
							"sid": 504648192217687
						}
					]
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "mod functions",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"functionName": "Flat health",
							"functionDescription": "",
							"functionCategory": "mods",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "active",
									"type": "boolean",
									"initialValue": "false",
									"comment": "",
									"sid": 570253738943713
								},
								{
									"name": "modDescription",
									"type": "string",
									"initialValue": "",
									"comment": "",
									"sid": 307511183096554
								}
							],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 444193088646752,
							"children": [
								{
									"eventType": "variable",
									"name": "MINIMUM_HEALTH",
									"type": "number",
									"initialValue": "1",
									"comment": "The lowest amount of health that removing this mod can leave the player with.",
									"isStatic": false,
									"isConstant": true,
									"sid": 995450477792984
								},
								{
									"eventType": "variable",
									"name": "value",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": true,
									"isConstant": false,
									"sid": 263274720117195
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 874665794811391,
											"parameters": {
												"variable": "value",
												"value": "Functions.getFirstValueFromMod(modDescription)"
											}
										}
									],
									"sid": 534777214177807
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 259894643029231,
											"parameters": {
												"variable": "active"
											}
										}
									],
									"actions": [
										{
											"id": "add-to-instvar",
											"objectClass": "player",
											"sid": 197132544744124,
											"parameters": {
												"instance-variable": "maxHealth",
												"value": "value"
											}
										},
										{
											"id": "add-to-instvar",
											"objectClass": "player",
											"sid": 778544303269221,
											"parameters": {
												"instance-variable": "currentHealth",
												"value": "value"
											}
										}
									],
									"sid": 942509778023512
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 465894261465579
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "prevent removing this mod from killing the player"
										},
										{
											"id": "set-instvar-value",
											"objectClass": "player",
											"sid": 284895310341019,
											"parameters": {
												"instance-variable": "currentHealth",
												"value": "clamp(Self.currentHealth - value, MINIMUM_HEALTH, Self.maxHealth)"
											}
										},
										{
											"id": "subtract-from-instvar",
											"objectClass": "player",
											"sid": 429082425325855,
											"parameters": {
												"instance-variable": "maxHealth",
												"value": "value"
											}
										}
									],
									"sid": 122281662245358
								}
							]
						},
						{
							"functionName": "Flat slash damage",
							"functionDescription": "",
							"functionCategory": "mods",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "active",
									"type": "boolean",
									"initialValue": "false",
									"comment": "",
									"sid": 902260859033184
								},
								{
									"name": "modDescription",
									"type": "string",
									"initialValue": "",
									"comment": "",
									"sid": 824779299585551
								}
							],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 485337182466415,
							"children": [
								{
									"eventType": "variable",
									"name": "value",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": true,
									"isConstant": false,
									"sid": 114515034340047
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 628243387467591,
											"parameters": {
												"variable": "value",
												"value": "Functions.getFirstValueFromMod(modDescription)"
											}
										}
									],
									"sid": 777594694730042
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 594579713986562,
											"parameters": {
												"variable": "active"
											}
										}
									],
									"actions": [
										{
											"id": "add-to-instvar",
											"objectClass": "player",
											"sid": 284955818513996,
											"parameters": {
												"instance-variable": "slashDamage",
												"value": "value"
											}
										}
									],
									"sid": 100630951832736
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 578322709621714
										}
									],
									"actions": [
										{
											"id": "subtract-from-instvar",
											"objectClass": "player",
											"sid": 860832872719684,
											"parameters": {
												"instance-variable": "slashDamage",
												"value": "value"
											}
										}
									],
									"sid": 843155040696154
								}
							]
						},
						{
							"functionName": "Flat stab damage",
							"functionDescription": "",
							"functionCategory": "mods",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "active",
									"type": "boolean",
									"initialValue": "false",
									"comment": "",
									"sid": 795247527844535
								},
								{
									"name": "modDescription",
									"type": "string",
									"initialValue": "",
									"comment": "",
									"sid": 195992795428678
								}
							],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 428722222280473,
							"children": [
								{
									"eventType": "variable",
									"name": "value",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": true,
									"isConstant": false,
									"sid": 134117444559985
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 434387109732184,
											"parameters": {
												"variable": "value",
												"value": "Functions.getFirstValueFromMod(modDescription)"
											}
										}
									],
									"sid": 836654181109835
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 124294150702013,
											"parameters": {
												"variable": "active"
											}
										}
									],
									"actions": [
										{
											"id": "add-to-instvar",
											"objectClass": "player",
											"sid": 299665220624183,
											"parameters": {
												"instance-variable": "stabDamage",
												"value": "value"
											}
										}
									],
									"sid": 310036445399785
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 588054324025359
										}
									],
									"actions": [
										{
											"id": "subtract-from-instvar",
											"objectClass": "player",
											"sid": 110376256430086,
											"parameters": {
												"instance-variable": "stabDamage",
												"value": "value"
											}
										}
									],
									"sid": 915180563061296
								}
							]
						},
						{
							"functionName": "Flat smash and stab damage",
							"functionDescription": "",
							"functionCategory": "mods",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "active",
									"type": "boolean",
									"initialValue": "false",
									"comment": "",
									"sid": 486814130079463
								},
								{
									"name": "modDescription",
									"type": "string",
									"initialValue": "",
									"comment": "",
									"sid": 113661033345682
								}
							],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 856050339528452,
							"children": [
								{
									"eventType": "variable",
									"name": "SLASH_INDEX",
									"type": "number",
									"initialValue": "0",
									"comment": "The index of the slash damage value.",
									"isStatic": false,
									"isConstant": true,
									"sid": 386148085532908
								},
								{
									"eventType": "variable",
									"name": "STAB_INDEX",
									"type": "number",
									"initialValue": "1",
									"comment": "The index of the stab damage value.",
									"isStatic": false,
									"isConstant": true,
									"sid": 437435973304754
								},
								{
									"eventType": "variable",
									"name": "slashValue",
									"type": "number",
									"initialValue": "0",
									"comment": "The amount by which slash damage will change with this mod.",
									"isStatic": true,
									"isConstant": false,
									"sid": 810736970502754
								},
								{
									"eventType": "variable",
									"name": "stabValue",
									"type": "number",
									"initialValue": "0",
									"comment": "The amount by which stab damage will change with this mod.",
									"isStatic": true,
									"isConstant": false,
									"sid": 472590266064672
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 161523842184266,
											"parameters": {
												"variable": "slashValue",
												"value": "Functions.getValueFromMod(modDescription, SLASH_INDEX)"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 498526940265556,
											"parameters": {
												"variable": "stabValue",
												"value": "Functions.getValueFromMod(modDescription, STAB_INDEX)"
											}
										}
									],
									"sid": 257923106845929
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 509733711440273,
											"parameters": {
												"variable": "active"
											}
										}
									],
									"actions": [
										{
											"id": "add-to-instvar",
											"objectClass": "player",
											"sid": 953003764567580,
											"parameters": {
												"instance-variable": "slashDamage",
												"value": "slashValue"
											}
										},
										{
											"id": "add-to-instvar",
											"objectClass": "player",
											"sid": 182117520102904,
											"parameters": {
												"instance-variable": "stabDamage",
												"value": "stabValue"
											}
										}
									],
									"sid": 333950422080430
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 789420711930422
										}
									],
									"actions": [
										{
											"id": "subtract-from-instvar",
											"objectClass": "player",
											"sid": 380230977470890,
											"parameters": {
												"instance-variable": "slashDamage",
												"value": "slashValue"
											}
										},
										{
											"id": "subtract-from-instvar",
											"objectClass": "player",
											"sid": 625265836678152,
											"parameters": {
												"instance-variable": "stabDamage",
												"value": "stabValue"
											}
										}
									],
									"sid": 163550454082777
								}
							]
						},
						{
							"functionName": "Flat smash damage",
							"functionDescription": "",
							"functionCategory": "mods",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "active",
									"type": "boolean",
									"initialValue": "false",
									"comment": "",
									"sid": 677819658597203
								},
								{
									"name": "modDescription",
									"type": "string",
									"initialValue": "",
									"comment": "",
									"sid": 412305460215976
								}
							],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 233218428812949,
							"children": [
								{
									"eventType": "variable",
									"name": "value",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": true,
									"isConstant": false,
									"sid": 190596318771045
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 122168069666275,
											"parameters": {
												"variable": "value",
												"value": "Functions.getFirstValueFromMod(modDescription)"
											}
										}
									],
									"sid": 415952678182173
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 437744311338199,
											"parameters": {
												"variable": "active"
											}
										}
									],
									"actions": [
										{
											"id": "add-to-instvar",
											"objectClass": "player",
											"sid": 125990175741193,
											"parameters": {
												"instance-variable": "smashDamage",
												"value": "value"
											}
										}
									],
									"sid": 192060783652640
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 518410678394064
										}
									],
									"actions": [
										{
											"id": "subtract-from-instvar",
											"objectClass": "player",
											"sid": 863032040703286,
											"parameters": {
												"instance-variable": "smashDamage",
												"value": "value"
											}
										}
									],
									"sid": 672711044894469
								}
							]
						},
						{
							"functionName": "Flat armor",
							"functionDescription": "",
							"functionCategory": "mods",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "active",
									"type": "boolean",
									"initialValue": "false",
									"comment": "",
									"sid": 442129090983909
								},
								{
									"name": "modDescription",
									"type": "string",
									"initialValue": "",
									"comment": "",
									"sid": 892096715698480
								}
							],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 346081716829858,
							"children": [
								{
									"eventType": "variable",
									"name": "value",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": true,
									"isConstant": false,
									"sid": 342503026746160
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 540345199875245,
											"parameters": {
												"variable": "value",
												"value": "Functions.getFirstValueFromMod(modDescription)"
											}
										}
									],
									"sid": 504155363810469
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 593334773718544,
											"parameters": {
												"variable": "active"
											}
										}
									],
									"actions": [
										{
											"id": "add-to-instvar",
											"objectClass": "player",
											"sid": 250993466607563,
											"parameters": {
												"instance-variable": "armor",
												"value": "value"
											}
										}
									],
									"sid": 366342256423378
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 537242814208340
										}
									],
									"actions": [
										{
											"id": "subtract-from-instvar",
											"objectClass": "player",
											"sid": 513624251503529,
											"parameters": {
												"instance-variable": "armor",
												"value": "value"
											}
										}
									],
									"sid": 717615008279974
								}
							]
						},
						{
							"functionName": "Flat mana regen",
							"functionDescription": "",
							"functionCategory": "mods",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "active",
									"type": "boolean",
									"initialValue": "false",
									"comment": "",
									"sid": 620809625623140
								},
								{
									"name": "modDescription",
									"type": "string",
									"initialValue": "",
									"comment": "",
									"sid": 771057121423808
								}
							],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 618432132660579,
							"children": [
								{
									"eventType": "variable",
									"name": "value",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": true,
									"isConstant": false,
									"sid": 379334632151382
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 681089636990089,
											"parameters": {
												"variable": "value",
												"value": "Functions.getFirstValueFromMod(modDescription)"
											}
										}
									],
									"sid": 109070798439151
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 150944168713245,
											"parameters": {
												"variable": "active"
											}
										}
									],
									"actions": [
										{
											"id": "add-to-instvar",
											"objectClass": "player",
											"sid": 311392191049775,
											"parameters": {
												"instance-variable": "manaRegen",
												"value": "value"
											}
										}
									],
									"sid": 968321874689214
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 437016688859259
										}
									],
									"actions": [
										{
											"id": "subtract-from-instvar",
											"objectClass": "player",
											"sid": 715372430908789,
											"parameters": {
												"instance-variable": "manaRegen",
												"value": "value"
											}
										}
									],
									"sid": 143811748396171
								}
							]
						},
						{
							"functionName": "Flat physical",
							"functionDescription": "",
							"functionCategory": "mods",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "active",
									"type": "boolean",
									"initialValue": "false",
									"comment": "",
									"sid": 499944774915861
								},
								{
									"name": "modDescription",
									"type": "string",
									"initialValue": "",
									"comment": "",
									"sid": 989673922363299
								}
							],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 402192560156812,
							"children": [
								{
									"eventType": "variable",
									"name": "damageType",
									"type": "string",
									"initialValue": "",
									"comment": "The type of physical damage.",
									"isStatic": true,
									"isConstant": false,
									"sid": 313882942019148
								},
								{
									"eventType": "variable",
									"name": "amount",
									"type": "number",
									"initialValue": "0",
									"comment": "The amount of damage.",
									"isStatic": true,
									"isConstant": false,
									"sid": 506829206640632
								},
								{
									"eventType": "variable",
									"name": "SLASH_KEYWORD",
									"type": "string",
									"initialValue": "Slash",
									"comment": "Used for determining damage type.",
									"isStatic": false,
									"isConstant": true,
									"sid": 133802897240466
								},
								{
									"eventType": "variable",
									"name": "STAB_KEYWORD",
									"type": "string",
									"initialValue": "Stab",
									"comment": "Used for determining damage type.",
									"isStatic": false,
									"isConstant": true,
									"sid": 783084929034222
								},
								{
									"eventType": "variable",
									"name": "SMASH_KEYWORD",
									"type": "string",
									"initialValue": "Smash",
									"comment": "Used for determining damage type.",
									"isStatic": false,
									"isConstant": true,
									"sid": 818137804538165
								},
								{
									"eventType": "variable",
									"name": "AMOUNT_INDEX",
									"type": "number",
									"initialValue": "0",
									"comment": "The index of the amount of the damage.",
									"isStatic": false,
									"isConstant": true,
									"sid": 183524118072736
								},
								{
									"eventType": "variable",
									"name": "DAMAGE_TYPE_INDEX",
									"type": "number",
									"initialValue": "1",
									"comment": "The index of the damage type.",
									"isStatic": false,
									"isConstant": true,
									"sid": 850143017160662
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 957382791527811,
											"parameters": {
												"variable": "active"
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 133201150539921,
											"parameters": {
												"variable": "amount",
												"value": "Functions.getValueFromMod(modDescription, AMOUNT_INDEX)"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 655940044400586,
											"parameters": {
												"variable": "damageType",
												"value": "Functions.getValueFromMod(modDescription, DAMAGE_TYPE_INDEX)"
											}
										}
									],
									"sid": 460177480565386,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 554571566268692,
													"parameters": {
														"variable": "damageType",
														"comparison": 0,
														"value": "SLASH_KEYWORD"
													}
												}
											],
											"actions": [
												{
													"id": "add-to-instvar",
													"objectClass": "player",
													"sid": 307075666247828,
													"parameters": {
														"instance-variable": "slashDamage",
														"value": "amount"
													}
												}
											],
											"sid": 899029722355018
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 790862985691382,
													"parameters": {
														"variable": "damageType",
														"comparison": 0,
														"value": "SMASH_KEYWORD"
													}
												}
											],
											"actions": [
												{
													"id": "add-to-instvar",
													"objectClass": "player",
													"sid": 674040280899441,
													"parameters": {
														"instance-variable": "smashDamage",
														"value": "amount"
													}
												}
											],
											"sid": 605145294202577
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 502779639625344,
													"parameters": {
														"variable": "damageType",
														"comparison": 0,
														"value": "STAB_KEYWORD"
													}
												}
											],
											"actions": [
												{
													"id": "add-to-instvar",
													"objectClass": "player",
													"sid": 640283016435828,
													"parameters": {
														"instance-variable": "stabDamage",
														"value": "amount"
													}
												}
											],
											"sid": 469788707024177
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 121694386698797
										}
									],
									"actions": [],
									"sid": 869658595429510,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 985337290311606,
													"parameters": {
														"variable": "damageType",
														"comparison": 0,
														"value": "SLASH_KEYWORD"
													}
												}
											],
											"actions": [
												{
													"id": "subtract-from-instvar",
													"objectClass": "player",
													"sid": 418488349775888,
													"parameters": {
														"instance-variable": "slashDamage",
														"value": "amount"
													}
												}
											],
											"sid": 158186614004615
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 127806942480283,
													"parameters": {
														"variable": "damageType",
														"comparison": 0,
														"value": "SMASH_KEYWORD"
													}
												}
											],
											"actions": [
												{
													"id": "subtract-from-instvar",
													"objectClass": "player",
													"sid": 723880095772861,
													"parameters": {
														"instance-variable": "smashDamage",
														"value": "amount"
													}
												}
											],
											"sid": 735778638523005
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 503717090337512,
													"parameters": {
														"variable": "damageType",
														"comparison": 0,
														"value": "STAB_KEYWORD"
													}
												}
											],
											"actions": [
												{
													"id": "subtract-from-instvar",
													"objectClass": "player",
													"sid": 844156788201573,
													"parameters": {
														"instance-variable": "stabDamage",
														"value": "amount"
													}
												}
											],
											"sid": 171575061019100
										}
									]
								}
							]
						}
					],
					"sid": 640233763055874
				}
			],
			"sid": 368443066853777
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "audio",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-created",
							"objectClass": "body",
							"sid": 192502238467825
						}
					],
					"actions": [
						{
							"id": "set-listener-object",
							"objectClass": "audio",
							"sid": 577784387320733,
							"parameters": {
								"object": "body"
							}
						}
					],
					"sid": 659978961242032
				},
				{
					"aceType": "action",
					"aceName": "\"I can't carry any more.\"",
					"objectClass": "player",
					"functionDescription": "Play the audio track that indicates there's no more inventory space available.",
					"functionCategory": "audio",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "custom-ace-block",
					"conditions": [],
					"actions": [],
					"sid": 994449246842237,
					"children": [
						{
							"eventType": "variable",
							"name": "CANT_CARRY_KEYWORD",
							"type": "string",
							"initialValue": "cantCarry",
							"comment": "The name of the audio to play when the inventory is full.",
							"isStatic": false,
							"isConstant": true,
							"sid": 533662391180683
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-tag-playing",
									"objectClass": "audio",
									"sid": 232326285453873,
									"parameters": {
										"tag": "CANT_CARRY_KEYWORD"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "play-at-object-by-name",
									"objectClass": "audio",
									"sid": 875578577040549,
									"parameters": {
										"folder": "sounds",
										"audio-file-name": "Functions.soundEffectName(body.ObjectTypeName & SEPARATOR & CANT_CARRY_KEYWORD)",
										"loop": "not-looping",
										"volume": "dialogVolume",
										"object": "body",
										"inner-angle": "NON_DIRECTIONAL_INNER_ANGLE",
										"outer-angle": "NON_DIRECTIONAL_OUTER_ANGLE",
										"outer-gain": "NON_DIRECTIONAL_OUTER_GAIN",
										"tag-optional": "CANT_CARRY_KEYWORD"
									}
								}
							],
							"sid": 530561523303096
						}
					]
				},
				{
					"aceType": "action",
					"aceName": "\"I can't purchase any more items.\"",
					"objectClass": "npc",
					"functionDescription": "Plays the audio indicating this merchant can't purchase any more items.",
					"functionCategory": "audio",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "custom-ace-block",
					"conditions": [],
					"actions": [],
					"sid": 700182439490197,
					"children": [
						{
							"eventType": "variable",
							"name": "CANT_PURCHASE_KEYWORD",
							"type": "string",
							"initialValue": "cantPurchase",
							"comment": "The name of the audio to play when the merchant can't purchase any more items.",
							"isStatic": false,
							"isConstant": true,
							"sid": 905342093377704
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-tag-playing",
									"objectClass": "audio",
									"sid": 162002008660510,
									"parameters": {
										"tag": "CANT_PURCHASE_KEYWORD"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "play-at-object-by-name",
									"objectClass": "audio",
									"sid": 439577816549021,
									"parameters": {
										"folder": "sounds",
										"audio-file-name": "Functions.soundEffectName(player.talkingToNpc & SEPARATOR & CANT_PURCHASE_KEYWORD)",
										"loop": "not-looping",
										"volume": "dialogVolume",
										"object": "npc",
										"inner-angle": "NON_DIRECTIONAL_INNER_ANGLE",
										"outer-angle": "NON_DIRECTIONAL_OUTER_ANGLE",
										"outer-gain": "NON_DIRECTIONAL_OUTER_GAIN",
										"tag-optional": "CANT_PURCHASE_KEYWORD"
									}
								}
							],
							"sid": 752562871296790
						}
					]
				},
				{
					"aceType": "action",
					"aceName": "\"I don't meet the requirements for this item.\"",
					"objectClass": "player",
					"functionDescription": "Plays the audio indicating the player doesn't meet the requirements of this item or loot.",
					"functionCategory": "audio",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "custom-ace-block",
					"conditions": [],
					"actions": [],
					"sid": 132415388959713,
					"children": [
						{
							"eventType": "variable",
							"name": "DONT_MEET_REQUIREMENTS_KEYWORD",
							"type": "string",
							"initialValue": "dontMeetRequirements",
							"comment": "The name of the audio to play when the player doesn't meet the requirements of the loot or item.",
							"isStatic": false,
							"isConstant": false,
							"sid": 145910322983306
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-tag-playing",
									"objectClass": "audio",
									"sid": 274105413363545,
									"parameters": {
										"tag": "DONT_MEET_REQUIREMENTS_KEYWORD"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "play-at-object-by-name",
									"objectClass": "audio",
									"sid": 700359758388487,
									"parameters": {
										"folder": "sounds",
										"audio-file-name": "Functions.soundEffectName(body.ObjectTypeName & SEPARATOR & DONT_MEET_REQUIREMENTS_KEYWORD)",
										"loop": "not-looping",
										"volume": "dialogVolume",
										"object": "player",
										"inner-angle": "NON_DIRECTIONAL_INNER_ANGLE",
										"outer-angle": "NON_DIRECTIONAL_OUTER_ANGLE",
										"outer-gain": "NON_DIRECTIONAL_OUTER_GAIN",
										"tag-optional": "DONT_MEET_REQUIREMENTS_KEYWORD"
									}
								}
							],
							"sid": 173662718189949
						}
					]
				},
				{
					"aceType": "action",
					"aceName": "\"I don't have enough coins.\"",
					"objectClass": "player",
					"functionDescription": "Plays the audio indicating the player has insufficient coins.",
					"functionCategory": "audio",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "custom-ace-block",
					"conditions": [],
					"actions": [],
					"sid": 866222860700358,
					"children": [
						{
							"eventType": "variable",
							"name": "NOT_ENOUGH_COINS_KEYWORD",
							"type": "string",
							"initialValue": "notEnoughCoins",
							"comment": "The name of the audio to play when the player has insufficient coins for a purchase.",
							"isStatic": false,
							"isConstant": true,
							"sid": 704570029594260
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-tag-playing",
									"objectClass": "audio",
									"sid": 766969851317909,
									"parameters": {
										"tag": "NOT_ENOUGH_COINS_KEYWORD"
									},
									"isInverted": true
								},
								{
									"id": "is-tag-playing",
									"objectClass": "audio",
									"sid": 928818296982839,
									"parameters": {
										"tag": "dialogStatue.LayerName"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "play-at-object-by-name",
									"objectClass": "audio",
									"sid": 169662728080969,
									"parameters": {
										"folder": "sounds",
										"audio-file-name": "Functions.soundEffectName(body.ObjectTypeName & SEPARATOR & NOT_ENOUGH_COINS_KEYWORD)",
										"loop": "not-looping",
										"volume": "dialogVolume",
										"object": "body",
										"inner-angle": "NON_DIRECTIONAL_INNER_ANGLE",
										"outer-angle": "NON_DIRECTIONAL_OUTER_ANGLE",
										"outer-gain": "NON_DIRECTIONAL_OUTER_GAIN",
										"tag-optional": "NOT_ENOUGH_COINS_KEYWORD"
									}
								}
							],
							"sid": 152809177819057
						}
					]
				},
				{
					"functionName": "soundEffectName",
					"functionDescription": "Get the file name of a random variation of this sound effect.",
					"functionCategory": "audio",
					"functionReturnType": "string",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "soundEffectName",
							"type": "string",
							"initialValue": "",
							"comment": "The name of the sound effect for which to get a random variation.",
							"sid": 869348266727950
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-function-return-value",
							"objectClass": "Functions",
							"sid": 378819428012933,
							"parameters": {
								"value": "soundEffectName & floor(random(soundEffectVariants.Get(soundEffectName)))"
							}
						}
					],
					"sid": 641272882594905
				},
				{
					"aceType": "action",
					"aceName": "Play drop sound effect",
					"objectClass": "loot",
					"functionDescription": "Play the sound effect for when this loot drops.",
					"functionCategory": "audio",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "custom-ace-block",
					"conditions": [],
					"actions": [],
					"sid": 400074143417837,
					"children": [
						{
							"eventType": "variable",
							"name": "DROP_KEYWORD",
							"type": "string",
							"initialValue": "Drop",
							"comment": "Used for playing the loot drop sound effect.",
							"isStatic": false,
							"isConstant": true,
							"sid": 419866887355159
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-tag-playing",
									"objectClass": "audio",
									"sid": 431913852732604,
									"parameters": {
										"tag": "loot.sound & DROP_KEYWORD"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "play-at-object-by-name",
									"objectClass": "audio",
									"sid": 290736090077599,
									"parameters": {
										"folder": "sounds",
										"audio-file-name": "Functions.soundEffectName(loot.sound & DROP_KEYWORD)",
										"loop": "not-looping",
										"volume": "soundEffectsVolume",
										"object": "loot",
										"inner-angle": "NON_DIRECTIONAL_INNER_ANGLE",
										"outer-angle": "NON_DIRECTIONAL_OUTER_ANGLE",
										"outer-gain": "NON_DIRECTIONAL_OUTER_GAIN",
										"tag-optional": "loot.sound & DROP_KEYWORD"
									}
								}
							],
							"sid": 135854462320920
						}
					]
				},
				{
					"aceType": "action",
					"aceName": "Fade in area soundtrack",
					"objectClass": "audio",
					"functionDescription": "Fade in the soundtrack for an area",
					"functionCategory": "audio",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "custom-ace-block",
					"conditions": [],
					"actions": [
						{
							"id": "play-by-name",
							"objectClass": "audio",
							"sid": 209821231854380,
							"parameters": {
								"folder": "music",
								"audio-file-name": "LayoutName",
								"loop": "looping",
								"volume": "SILENT",
								"stereo-pan": "DEFAULT_STEREO_PAN",
								"tag-optional": "LayoutName"
							}
						},
						{
							"id": "fade-volume",
							"objectClass": "audio",
							"sid": 366816616492099,
							"parameters": {
								"tag": "LayoutName",
								"db": "musicVolume",
								"duration": "LAYOUT_FADE_TIME",
								"ending": "keep-playing"
							}
						}
					],
					"sid": 944082009451185
				}
			],
			"sid": 499889136212563
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "environment",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 252638692177297
						}
					],
					"actions": [
						{
							"customAction": "Restore player control",
							"objectClass": "player",
							"sid": 991633158819424
						}
					],
					"sid": 676017107721770,
					"children": [
						{
							"eventType": "variable",
							"name": "INITIAL_VALUE",
							"type": "number",
							"initialValue": "0",
							"comment": "The player variable values when they don't need to relocate.",
							"isStatic": false,
							"isConstant": true,
							"sid": 219727562465789
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "player",
									"sid": 448037405659175,
									"parameters": {
										"instance-variable": "relocateToX",
										"comparison": 1,
										"value": "INITIAL_VALUE"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "player",
									"sid": 557989112821435,
									"parameters": {
										"instance-variable": "relocateToY",
										"comparison": 1,
										"value": "INITIAL_VALUE"
									}
								}
							],
							"actions": [
								{
									"id": "set-position",
									"objectClass": "player",
									"sid": 278458680786775,
									"parameters": {
										"x": "Self.relocateToX",
										"y": "Self.relocateToY"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "player",
									"sid": 633757103725318,
									"parameters": {
										"instance-variable": "relocateToX",
										"value": "INITIAL_VALUE"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "player",
									"sid": 102195306396173,
									"parameters": {
										"instance-variable": "relocateToY",
										"value": "INITIAL_VALUE"
									}
								}
							],
							"sid": 830742895179029
						}
					]
				},
				{
					"aceType": "action",
					"aceName": "Fade out",
					"objectClass": "fader",
					"functionDescription": "Fade out the fader.",
					"functionCategory": "appearance",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": true,
					"functionParameters": [],
					"eventType": "custom-ace-block",
					"conditions": [],
					"actions": [
						{
							"id": "tween-one-property",
							"objectClass": "fader",
							"sid": 953070225515643,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "NOT_USED",
								"property": "offsetOpacity",
								"end-value": "TRANSPARENT_OPACITY",
								"time": "LAYOUT_FADE_TIME",
								"ease": "noease",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no",
								"repeat-count": "TWEEN_REPEAT_COUNT"
							}
						}
					],
					"sid": 325539821263270
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 186728905452955
						}
					],
					"actions": [
						{
							"customAction": "Fade out",
							"objectClass": "fader",
							"sid": 701243824021915
						},
						{
							"customAction": "Fade in area soundtrack",
							"objectClass": "audio",
							"sid": 685668051465953
						}
					],
					"sid": 678646041468891
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-created",
							"objectClass": "lootChest",
							"sid": 403693177470265
						}
					],
					"actions": [
						{
							"id": "stop-animation",
							"objectClass": "lootChest",
							"sid": 379990486114989
						}
					],
					"sid": 460757171617526
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "cursor-is-over-object",
							"objectClass": "mouse",
							"sid": 574164498899305,
							"parameters": {
								"object": "lootChest"
							}
						},
						{
							"id": "compare-animation-frame",
							"objectClass": "lootChest",
							"sid": 176963571902940,
							"parameters": {
								"comparison": 0,
								"number": "FIRST_FRAME"
							}
						}
					],
					"actions": [
						{
							"id": "set-effect-enabled",
							"objectClass": "lootChest",
							"sid": 448100487599109,
							"parameters": {
								"mode": "enable",
								"effect": "BRIGHTNESS_EFFECT_NAME"
							}
						},
						{
							"id": "set-effect-enabled",
							"objectClass": "lootChest",
							"sid": 272893011810093,
							"parameters": {
								"mode": "enable",
								"effect": "GLOWHORIZONTAL_EFFECT_NAME"
							}
						},
						{
							"id": "set-effect-enabled",
							"objectClass": "lootChest",
							"sid": 897000134081696,
							"parameters": {
								"mode": "enable",
								"effect": "GLOWVERTICAL_EFFECT_NAME"
							}
						}
					],
					"sid": 611239875723425
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "cursor-is-over-object",
							"objectClass": "mouse",
							"sid": 487414290256294,
							"parameters": {
								"object": "lootChest"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-effect-enabled",
							"objectClass": "lootChest",
							"sid": 229185860799356,
							"parameters": {
								"mode": "disable",
								"effect": "BRIGHTNESS_EFFECT_NAME"
							}
						},
						{
							"id": "set-effect-enabled",
							"objectClass": "lootChest",
							"sid": 460163426458679,
							"parameters": {
								"mode": "disable",
								"effect": "GLOWHORIZONTAL_EFFECT_NAME"
							}
						},
						{
							"id": "set-effect-enabled",
							"objectClass": "lootChest",
							"sid": 357784612057613,
							"parameters": {
								"mode": "disable",
								"effect": "GLOWVERTICAL_EFFECT_NAME"
							}
						}
					],
					"sid": 605986589568019
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-created",
							"objectClass": "door",
							"sid": 956882454928944
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "save the bbox of the door on it's first frame, to be used to detect when the mouse is over it"
						},
						{
							"id": "set-instvar-value",
							"objectClass": "door",
							"sid": 909009362550791,
							"parameters": {
								"instance-variable": "bottombbox",
								"value": "Self.BBoxBottom"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "door",
							"sid": 493247108868290,
							"parameters": {
								"instance-variable": "rightbbox",
								"value": "Self.BBoxRight"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "door",
							"sid": 925254730512657,
							"parameters": {
								"instance-variable": "leftbbox",
								"value": "Self.BBoxLeft"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "door",
							"sid": 835394361289990,
							"parameters": {
								"instance-variable": "topbbox",
								"value": "Self.BBoxTop"
							}
						}
					],
					"sid": 579636236717138
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "door",
							"sid": 148369945134594,
							"parameters": {
								"instance-variable": "leftbbox",
								"comparison": 3,
								"value": "mouse.X"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "door",
							"sid": 367136965090945,
							"parameters": {
								"instance-variable": "rightbbox",
								"comparison": 5,
								"value": "mouse.X"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "door",
							"sid": 686628689504263,
							"parameters": {
								"instance-variable": "topbbox",
								"comparison": 3,
								"value": "mouse.Y"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "door",
							"sid": 709902257674375,
							"parameters": {
								"instance-variable": "bottombbox",
								"comparison": 5,
								"value": "mouse.Y"
							}
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "Check that the mouse is within a box that's the shape of the door on the door's first frame. This prevents a graphical issue where the door would open enough so that the mouse would no longer be over the door, so the door would start to shut, thus being under the mouse again, repeat ad infinitum (and every tick)"
						},
						{
							"id": "set-animation-speed",
							"objectClass": "door",
							"sid": 933752701328386,
							"parameters": {
								"speed": "Self.OriginalAnimationSpeed"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "door",
							"sid": 541313291022842,
							"parameters": {
								"animation": "Self.AnimationName",
								"from": "current-frame"
							}
						},
						{
							"id": "set-effect-enabled",
							"objectClass": "door",
							"sid": 678213683742384,
							"parameters": {
								"mode": "enable",
								"effect": "BRIGHTNESS_EFFECT_NAME"
							}
						},
						{
							"id": "set-effect-enabled",
							"objectClass": "door",
							"sid": 623762466197020,
							"parameters": {
								"mode": "enable",
								"effect": "GLOWHORIZONTAL_EFFECT_NAME"
							}
						},
						{
							"id": "set-effect-enabled",
							"objectClass": "door",
							"sid": 839999534381491,
							"parameters": {
								"mode": "enable",
								"effect": "GLOWVERTICAL_EFFECT_NAME"
							}
						}
					],
					"sid": 642436103875474,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-tag-playing",
									"objectClass": "audio",
									"sid": 161216056228357,
									"parameters": {
										"tag": "door.ObjectTypeName & door.UID"
									},
									"isInverted": true
								},
								{
									"id": "compare-animation-frame",
									"objectClass": "door",
									"sid": 172535761452390,
									"parameters": {
										"comparison": 0,
										"number": "FIRST_FRAME"
									}
								}
							],
							"actions": [
								{
									"id": "play-at-object-by-name",
									"objectClass": "audio",
									"sid": 958152429650635,
									"parameters": {
										"folder": "sounds",
										"audio-file-name": "Functions.soundEffectName(door.ObjectTypeName)",
										"loop": "not-looping",
										"volume": "soundEffectsVolume",
										"object": "door",
										"inner-angle": "NON_DIRECTIONAL_INNER_ANGLE",
										"outer-angle": "NON_DIRECTIONAL_OUTER_ANGLE",
										"outer-gain": "NON_DIRECTIONAL_OUTER_GAIN",
										"tag-optional": "door.ObjectTypeName & door.UID"
									}
								}
							],
							"sid": 243907011904060
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 588369458426358
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "If we mouse over two different doors very quickly, the animations might get messed up since this is an 'else', not sure"
						},
						{
							"id": "set-animation-speed",
							"objectClass": "door",
							"sid": 761190167429150,
							"parameters": {
								"speed": "-Self.OriginalAnimationSpeed"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "door",
							"sid": 320003253420886,
							"parameters": {
								"animation": "Self.AnimationName",
								"from": "current-frame"
							}
						},
						{
							"id": "set-effect-enabled",
							"objectClass": "door",
							"sid": 179495393020100,
							"parameters": {
								"mode": "disable",
								"effect": "BRIGHTNESS_EFFECT_NAME"
							}
						},
						{
							"id": "set-effect-enabled",
							"objectClass": "door",
							"sid": 532208728736239,
							"parameters": {
								"mode": "disable",
								"effect": "GLOWHORIZONTAL_EFFECT_NAME"
							}
						},
						{
							"id": "set-effect-enabled",
							"objectClass": "door",
							"sid": 938886009902335,
							"parameters": {
								"mode": "disable",
								"effect": "GLOWVERTICAL_EFFECT_NAME"
							}
						}
					],
					"sid": 374910180747516
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-on-screen",
							"objectClass": "door",
							"sid": 346476188900140
						},
						{
							"id": "pick-parent",
							"objectClass": "door",
							"sid": 521705764688664,
							"parameters": {
								"parent": "sortable",
								"which": "own"
							}
						}
					],
					"actions": [
						{
							"id": "move-to-object",
							"objectClass": "door",
							"sid": 631990991231225,
							"parameters": {
								"where": "in-front",
								"object": "sortable"
							}
						}
					],
					"sid": 235939344330391
				}
			],
			"sid": 992252066588856
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "debugging",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-in-preview",
							"objectClass": "System",
							"sid": 492750923603749
						}
					],
					"actions": [],
					"sid": 745920046471131,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-key-pressed",
									"objectClass": "keyboard",
									"sid": 914167296613455,
									"parameters": {
										"key": 83
									}
								}
							],
							"actions": [
								{
									"customAction": "Spawn loot",
									"objectClass": "loot",
									"sid": 597926666036654,
									"parameters": [
										"player.X",
										"player.Y"
									]
								}
							],
							"sid": 969354686321163
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-key-pressed",
									"objectClass": "keyboard",
									"sid": 886099278131633,
									"parameters": {
										"key": 88
									}
								},
								{
									"id": "is-on-layer",
									"objectClass": "slot",
									"sid": 832644823675538,
									"parameters": {
										"layer": "inventoryMenuStatue.LayerName"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "slot",
									"sid": 701287296365376,
									"parameters": {
										"instance-variable": "identifier",
										"comparison": 0,
										"value": "EMPTY"
									}
								},
								{
									"id": "pick-nth-instance",
									"objectClass": "System",
									"sid": 862887428349669,
									"parameters": {
										"object": "slot",
										"instance": "FIRST_INSTANCE"
									}
								}
							],
							"actions": [
								{
									"customAction": "Create item",
									"objectClass": "item",
									"sid": 180285297371054
								}
							],
							"sid": 605474281613530
						}
					]
				}
			],
			"sid": 387135750965832
		}
	],
	"sid": 318845921999986
}